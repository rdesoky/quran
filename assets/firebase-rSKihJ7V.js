import{g as aE,c as lN,a as DT,r as cN}from"./vendor-BwuCD3Go.js";var Yv={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var g_=function(t,e){return g_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)r.hasOwnProperty(s)&&(n[s]=r[s])},g_(t,e)};function we(t,e){g_(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var $t=function(){return $t=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},$t.apply(this,arguments)};function fN(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function hN(t,e,n,r){var s=arguments.length,a=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(t,e,n,r);else for(var h=t.length-1;h>=0;h--)(c=t[h])&&(a=(s<3?c(a):s>3?c(e,n,a):c(e,n))||a);return s>3&&a&&Object.defineProperty(e,n,a),a}function pN(t,e){return function(n,r){e(n,r,t)}}function dN(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function B(t,e,n,r){function s(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function h(y){try{g(r.next(y))}catch(E){c(E)}}function d(y){try{g(r.throw(y))}catch(E){c(E)}}function g(y){y.done?a(y.value):s(y.value).then(h,d)}g((r=r.apply(t,e||[])).next())})}function j(t,e){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,s,a,c;return c={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function h(g){return function(y){return d([g,y])}}function d(g){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,s&&(a=g[0]&2?s.return:g[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,g[1])).done)return a;switch(s=0,a&&(g=[g[0]&2,a.value]),g[0]){case 0:case 1:a=g;break;case 4:return n.label++,{value:g[1],done:!1};case 5:n.label++,s=g[1],g=[0];continue;case 7:g=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(g[0]===6||g[0]===2)){n=0;continue}if(g[0]===3&&(!a||g[1]>a[0]&&g[1]<a[3])){n.label=g[1];break}if(g[0]===6&&n.label<a[1]){n.label=a[1],a=g;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(g);break}a[2]&&n.ops.pop(),n.trys.pop();continue}g=e.call(t,n)}catch(y){g=[6,y],s=0}finally{r=a=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}}function vN(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}function gN(t,e){for(var n in t)n!=="default"&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function un(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function cg(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),s,a=[],c;try{for(;(e===void 0||e-- >0)&&!(s=r.next()).done;)a.push(s.value)}catch(h){c={error:h}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(c)throw c.error}}return a}function Ca(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(cg(arguments[e]));return t}function Dr(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),s=0,e=0;e<n;e++)for(var a=arguments[e],c=0,h=a.length;c<h;c++,s++)r[s]=a[c];return r}function fg(t){return this instanceof fg?(this.v=t,this):new fg(t)}function mN(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),s,a=[];return s={},c("next"),c("throw"),c("return"),s[Symbol.asyncIterator]=function(){return this},s;function c(I){r[I]&&(s[I]=function(T){return new Promise(function(x,A){a.push([I,T,x,A])>1||h(I,T)})})}function h(I,T){try{d(r[I](T))}catch(x){E(a[0][3],x)}}function d(I){I.value instanceof fg?Promise.resolve(I.value.v).then(g,y):E(a[0][2],I)}function g(I){h("next",I)}function y(I){h("throw",I)}function E(I,T){I(T),a.shift(),a.length&&h(a[0][0],a[0][1])}}function yN(t){var e,n;return e={},r("next"),r("throw",function(s){throw s}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(s,a){e[s]=t[s]?function(c){return(n=!n)?{value:fg(t[s](c)),done:s==="return"}:a?a(c):c}:a}}function bN(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof un=="function"?un(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(a){n[a]=t[a]&&function(c){return new Promise(function(h,d){c=t[a](c),s(h,d,c.done,c.value)})}}function s(a,c,h,d){Promise.resolve(d).then(function(g){a({value:g,done:h})},c)}}function wN(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function _N(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function EN(t){return t&&t.__esModule?t:{default:t}}function IN(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function SN(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}const TN=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return $t},__asyncDelegator:yN,__asyncGenerator:mN,__asyncValues:bN,__await:fg,__awaiter:B,__classPrivateFieldGet:IN,__classPrivateFieldSet:SN,__createBinding:vN,__decorate:hN,__exportStar:gN,__extends:we,__generator:j,__importDefault:EN,__importStar:_N,__makeTemplateObject:wN,__metadata:dN,__param:pN,__read:cg,__rest:fN,__spread:Ca,__spreadArrays:Dr,__values:un},Symbol.toStringTag,{value:"Module"})),uE=aE(TN);var Ie={},a1;function LT(){if(a1)return Ie;a1=1,Object.defineProperty(Ie,"__esModule",{value:!0});var t=uE;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var e={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var n=function(U,M){if(!U)throw r(M)},r=function(U){return new Error("Firebase Database ("+e.SDK_VERSION+") INTERNAL ASSERT FAILED: "+U)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var s=function(U){for(var M=[],F=0,G=0;G<U.length;G++){var V=U.charCodeAt(G);V<128?M[F++]=V:V<2048?(M[F++]=V>>6|192,M[F++]=V&63|128):(V&64512)===55296&&G+1<U.length&&(U.charCodeAt(G+1)&64512)===56320?(V=65536+((V&1023)<<10)+(U.charCodeAt(++G)&1023),M[F++]=V>>18|240,M[F++]=V>>12&63|128,M[F++]=V>>6&63|128,M[F++]=V&63|128):(M[F++]=V>>12|224,M[F++]=V>>6&63|128,M[F++]=V&63|128)}return M},a=function(U){for(var M=[],F=0,G=0;F<U.length;){var V=U[F++];if(V<128)M[G++]=String.fromCharCode(V);else if(V>191&&V<224){var ve=U[F++];M[G++]=String.fromCharCode((V&31)<<6|ve&63)}else if(V>239&&V<365){var ve=U[F++],Fe=U[F++],Ue=U[F++],at=((V&7)<<18|(ve&63)<<12|(Fe&63)<<6|Ue&63)-65536;M[G++]=String.fromCharCode(55296+(at>>10)),M[G++]=String.fromCharCode(56320+(at&1023))}else{var ve=U[F++],Fe=U[F++];M[G++]=String.fromCharCode((V&15)<<12|(ve&63)<<6|Fe&63)}}return M.join("")},c={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray:function(U,M){if(!Array.isArray(U))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var F=M?this.byteToCharMapWebSafe_:this.byteToCharMap_,G=[],V=0;V<U.length;V+=3){var ve=U[V],Fe=V+1<U.length,Ue=Fe?U[V+1]:0,at=V+2<U.length,Qe=at?U[V+2]:0,In=ve>>2,fn=(ve&3)<<4|Ue>>4,Nt=(Ue&15)<<2|Qe>>6,Yi=Qe&63;at||(Yi=64,Fe||(Nt=64)),G.push(F[In],F[fn],F[Nt],F[Yi])}return G.join("")},encodeString:function(U,M){return this.HAS_NATIVE_SUPPORT&&!M?btoa(U):this.encodeByteArray(s(U),M)},decodeString:function(U,M){return this.HAS_NATIVE_SUPPORT&&!M?atob(U):a(this.decodeStringToByteArray(U,M))},decodeStringToByteArray:function(U,M){this.init_();for(var F=M?this.charToByteMapWebSafe_:this.charToByteMap_,G=[],V=0;V<U.length;){var ve=F[U.charAt(V++)],Fe=V<U.length,Ue=Fe?F[U.charAt(V)]:0;++V;var at=V<U.length,Qe=at?F[U.charAt(V)]:64;++V;var In=V<U.length,fn=In?F[U.charAt(V)]:64;if(++V,ve==null||Ue==null||Qe==null||fn==null)throw Error();var Nt=ve<<2|Ue>>4;if(G.push(Nt),Qe!==64){var Yi=Ue<<4&240|Qe>>2;if(G.push(Yi),fn!==64){var Xi=Qe<<6&192|fn;G.push(Xi)}}}return G},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var U=0;U<this.ENCODED_VALS.length;U++)this.byteToCharMap_[U]=this.ENCODED_VALS.charAt(U),this.charToByteMap_[this.byteToCharMap_[U]]=U,this.byteToCharMapWebSafe_[U]=this.ENCODED_VALS_WEBSAFE.charAt(U),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[U]]=U,U>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(U)]=U,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(U)]=U)}}},h=function(U){var M=s(U);return c.encodeByteArray(M,!0)},d=function(U){try{return c.decodeString(U,!0)}catch(M){console.error("base64Decode failed: ",M)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g(U){return y(void 0,U)}function y(U,M){if(!(M instanceof Object))return M;switch(M.constructor){case Date:var F=M;return new Date(F.getTime());case Object:U===void 0&&(U={});break;case Array:U=[];break;default:return M}for(var G in M)M.hasOwnProperty(G)&&(U[G]=y(U[G],M[G]));return U}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var E=function(){function U(){var M=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(F,G){M.resolve=F,M.reject=G})}return U.prototype.wrapCallback=function(M){var F=this;return function(G,V){G?F.reject(G):F.resolve(V),typeof M=="function"&&(F.promise.catch(function(){}),M.length===1?M(G):M(G,V))}},U}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function T(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(I())}function x(){try{return Object.prototype.toString.call(lN.process)==="[object process]"}catch{return!1}}function A(){return typeof self=="object"&&self.self===self}function N(){var U=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof U=="object"&&U.id!==void 0}function D(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function L(){return I().indexOf("Electron/")>=0}function H(){var U=I();return U.indexOf("MSIE ")>=0||U.indexOf("Trident/")>=0}function X(){return I().indexOf("MSAppHost/")>=0}function z(){return e.NODE_CLIENT===!0||e.NODE_ADMIN===!0}function P(){return!x()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Be(){return"indexedDB"in self&&indexedDB!=null}function Ae(){return new Promise(function(U,M){try{var F=!0,G="validate-browser-context-for-indexeddb-analytics-module",V=window.indexedDB.open(G);V.onsuccess=function(){V.result.close(),F||window.indexedDB.deleteDatabase(G),U(!0)},V.onupgradeneeded=function(){F=!1},V.onerror=function(){var ve;M(((ve=V.error)===null||ve===void 0?void 0:ve.message)||"")}}catch(ve){M(ve)}})}function J(){return!(!navigator||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var se="FirebaseError",re=function(U){t.__extends(M,U);function M(F,G){var V=U.call(this,G)||this;return V.code=F,V.name=se,Object.setPrototypeOf(V,M.prototype),Error.captureStackTrace&&Error.captureStackTrace(V,le.prototype.create),V}return M}(Error),le=function(){function U(M,F,G){this.service=M,this.serviceName=F,this.errors=G}return U.prototype.create=function(M){for(var F=[],G=1;G<arguments.length;G++)F[G-1]=arguments[G];for(var V=F[0]||{},ve=this.service+"/"+M,Fe=this.errors[M],Ue=Fe?he(Fe,V):"Error",at=this.serviceName+": "+Ue+" ("+ve+").",Qe=new re(ve,at),In=0,fn=Object.keys(V);In<fn.length;In++){var Nt=fn[In];Nt.slice(-1)!=="_"&&(Nt in Qe&&console.warn('Overwriting FirebaseError base field "'+Nt+'" can cause unexpected behavior.'),Qe[Nt]=V[Nt])}return Qe},U}();function he(U,M){return U.replace(te,function(F,G){var V=M[G];return V!=null?String(V):"<"+G+"?>"})}var te=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function De(U){return JSON.parse(U)}function Ce(U){return JSON.stringify(U)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ct=function(U){var M={},F={},G={},V="";try{var ve=U.split(".");M=De(d(ve[0])||""),F=De(d(ve[1])||""),V=ve[2],G=F.d||{},delete F.d}catch{}return{header:M,claims:F,data:G,signature:V}},Ln=function(U){var M=ct(U).claims,F=Math.floor(new Date().getTime()/1e3),G=0,V=0;return typeof M=="object"&&(M.hasOwnProperty("nbf")?G=M.nbf:M.hasOwnProperty("iat")&&(G=M.iat),M.hasOwnProperty("exp")?V=M.exp:V=G+86400),!!F&&!!G&&!!V&&F>=G&&F<=V},He=function(U){var M=ct(U).claims;return typeof M=="object"&&M.hasOwnProperty("iat")?M.iat:null},Ee=function(U){var M=ct(U),F=M.claims;return!!F&&typeof F=="object"&&F.hasOwnProperty("iat")},Ze=function(U){var M=ct(U).claims;return typeof M=="object"&&M.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(U,M){return Object.prototype.hasOwnProperty.call(U,M)}function bi(U,M){if(Object.prototype.hasOwnProperty.call(U,M))return U[M]}function rt(U){for(var M in U)if(Object.prototype.hasOwnProperty.call(U,M))return!1;return!0}function ln(U,M,F){var G={};for(var V in U)Object.prototype.hasOwnProperty.call(U,V)&&(G[V]=M.call(F,U[V],V,U));return G}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zr(U){for(var M=[],F=function(at,Qe){Array.isArray(Qe)?Qe.forEach(function(In){M.push(encodeURIComponent(at)+"="+encodeURIComponent(In))}):M.push(encodeURIComponent(at)+"="+encodeURIComponent(Qe))},G=0,V=Object.entries(U);G<V.length;G++){var ve=V[G],Fe=ve[0],Ue=ve[1];F(Fe,Ue)}return M.length?"&"+M.join("&"):""}function cn(U){var M={},F=U.replace(/^\?/,"").split("&");return F.forEach(function(G){if(G){var V=G.split("=");M[V[0]]=V[1]}}),M}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Is=function(){function U(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(var M=1;M<this.blockSize;++M)this.pad_[M]=0;this.reset()}return U.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},U.prototype.compress_=function(M,F){F||(F=0);var G=this.W_;if(typeof M=="string")for(var V=0;V<16;V++)G[V]=M.charCodeAt(F)<<24|M.charCodeAt(F+1)<<16|M.charCodeAt(F+2)<<8|M.charCodeAt(F+3),F+=4;else for(var V=0;V<16;V++)G[V]=M[F]<<24|M[F+1]<<16|M[F+2]<<8|M[F+3],F+=4;for(var V=16;V<80;V++){var ve=G[V-3]^G[V-8]^G[V-14]^G[V-16];G[V]=(ve<<1|ve>>>31)&4294967295}for(var Fe=this.chain_[0],Ue=this.chain_[1],at=this.chain_[2],Qe=this.chain_[3],In=this.chain_[4],fn,Nt,V=0;V<80;V++){V<40?V<20?(fn=Qe^Ue&(at^Qe),Nt=1518500249):(fn=Ue^at^Qe,Nt=1859775393):V<60?(fn=Ue&at|Qe&(Ue|at),Nt=2400959708):(fn=Ue^at^Qe,Nt=3395469782);var ve=(Fe<<5|Fe>>>27)+fn+In+Nt+G[V]&4294967295;In=Qe,Qe=at,at=(Ue<<30|Ue>>>2)&4294967295,Ue=Fe,Fe=ve}this.chain_[0]=this.chain_[0]+Fe&4294967295,this.chain_[1]=this.chain_[1]+Ue&4294967295,this.chain_[2]=this.chain_[2]+at&4294967295,this.chain_[3]=this.chain_[3]+Qe&4294967295,this.chain_[4]=this.chain_[4]+In&4294967295},U.prototype.update=function(M,F){if(M!=null){F===void 0&&(F=M.length);for(var G=F-this.blockSize,V=0,ve=this.buf_,Fe=this.inbuf_;V<F;){if(Fe===0)for(;V<=G;)this.compress_(M,V),V+=this.blockSize;if(typeof M=="string"){for(;V<F;)if(ve[Fe]=M.charCodeAt(V),++Fe,++V,Fe===this.blockSize){this.compress_(ve),Fe=0;break}}else for(;V<F;)if(ve[Fe]=M[V],++Fe,++V,Fe===this.blockSize){this.compress_(ve),Fe=0;break}}this.inbuf_=Fe,this.total_+=F}},U.prototype.digest=function(){var M=[],F=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var G=this.blockSize-1;G>=56;G--)this.buf_[G]=F&255,F/=256;this.compress_(this.buf_);for(var V=0,G=0;G<5;G++)for(var ve=24;ve>=0;ve-=8)M[V]=this.chain_[G]>>ve&255,++V;return M},U}();function Ss(U,M){var F=new sr(U,M);return F.subscribe.bind(F)}var sr=function(){function U(M,F){var G=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=F,this.task.then(function(){M(G)}).catch(function(V){G.error(V)})}return U.prototype.next=function(M){this.forEachObserver(function(F){F.next(M)})},U.prototype.error=function(M){this.forEachObserver(function(F){F.error(M)}),this.close(M)},U.prototype.complete=function(){this.forEachObserver(function(M){M.complete()}),this.close()},U.prototype.subscribe=function(M,F,G){var V=this,ve;if(M===void 0&&F===void 0&&G===void 0)throw new Error("Missing Observer.");$e(M,["next","error","complete"])?ve=M:ve={next:M,error:F,complete:G},ve.next===void 0&&(ve.next=dt),ve.error===void 0&&(ve.error=dt),ve.complete===void 0&&(ve.complete=dt);var Fe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{V.finalError?ve.error(V.finalError):ve.complete()}catch{}}),this.observers.push(ve),Fe},U.prototype.unsubscribeOne=function(M){this.observers===void 0||this.observers[M]===void 0||(delete this.observers[M],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))},U.prototype.forEachObserver=function(M){if(!this.finalized)for(var F=0;F<this.observers.length;F++)this.sendOne(F,M)},U.prototype.sendOne=function(M,F){var G=this;this.task.then(function(){if(G.observers!==void 0&&G.observers[M]!==void 0)try{F(G.observers[M])}catch(V){typeof console<"u"&&console.error&&console.error(V)}})},U.prototype.close=function(M){var F=this;this.finalized||(this.finalized=!0,M!==void 0&&(this.finalError=M),this.task.then(function(){F.observers=void 0,F.onNoObservers=void 0}))},U}();function ze(U,M){return function(){for(var F=[],G=0;G<arguments.length;G++)F[G]=arguments[G];Promise.resolve(!0).then(function(){U.apply(void 0,F)}).catch(function(V){M&&M(V)})}}function $e(U,M){if(typeof U!="object"||U===null)return!1;for(var F=0,G=M;F<G.length;F++){var V=G[F];if(V in U&&typeof U[V]=="function")return!0}return!1}function dt(){}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ft=function(U,M,F,G){var V;if(G<M?V="at least "+M:G>F&&(V=F===0?"none":"no more than "+F),V){var ve=U+" failed: Was called with "+G+(G===1?" argument.":" arguments.")+" Expects "+V+".";throw new Error(ve)}};function St(U,M,F){var G="";switch(M){case 1:G=F?"first":"First";break;case 2:G=F?"second":"Second";break;case 3:G=F?"third":"Third";break;case 4:G=F?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}var V=U+" failed: ";return V+=G+" argument ",V}function Yn(U,M,F,G){if(!(G&&!F)&&typeof F!="string")throw new Error(St(U,M,G)+"must be a valid firebase namespace.")}function Er(U,M,F,G){if(!(G&&!F)&&typeof F!="function")throw new Error(St(U,M,G)+"must be a valid function.")}function wi(U,M,F,G){if(!(G&&!F)&&(typeof F!="object"||F===null))throw new Error(St(U,M,G)+"must be a valid context object.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ir=function(U){for(var M=[],F=0,G=0;G<U.length;G++){var V=U.charCodeAt(G);if(V>=55296&&V<=56319){var ve=V-55296;G++,n(G<U.length,"Surrogate pair missing trail surrogate.");var Fe=U.charCodeAt(G)-56320;V=65536+(ve<<10)+Fe}V<128?M[F++]=V:V<2048?(M[F++]=V>>6|192,M[F++]=V&63|128):V<65536?(M[F++]=V>>12|224,M[F++]=V>>6&63|128,M[F++]=V&63|128):(M[F++]=V>>18|240,M[F++]=V>>12&63|128,M[F++]=V>>6&63|128,M[F++]=V&63|128)}return M},Fo=function(U){for(var M=0,F=0;F<U.length;F++){var G=U.charCodeAt(F);G<128?M++:G<2048?M+=2:G>=55296&&G<=56319?(M+=4,F++):M+=3}return M};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ts=1e3,Uo=2,ht=4*60*60*1e3,jo=.5;function Ki(U,M,F){M===void 0&&(M=Ts),F===void 0&&(F=Uo);var G=M*Math.pow(F,U),V=Math.round(jo*G*(Math.random()-.5)*2);return Math.min(ht,G+V)}return Ie.CONSTANTS=e,Ie.Deferred=E,Ie.ErrorFactory=le,Ie.FirebaseError=re,Ie.MAX_VALUE_MILLIS=ht,Ie.RANDOM_FACTOR=jo,Ie.Sha1=Is,Ie.areCookiesEnabled=J,Ie.assert=n,Ie.assertionError=r,Ie.async=ze,Ie.base64=c,Ie.base64Decode=d,Ie.base64Encode=h,Ie.calculateBackoffMillis=Ki,Ie.contains=tn,Ie.createSubscribe=Ss,Ie.decode=ct,Ie.deepCopy=g,Ie.deepExtend=y,Ie.errorPrefix=St,Ie.getUA=I,Ie.isAdmin=Ze,Ie.isBrowser=A,Ie.isBrowserExtension=N,Ie.isElectron=L,Ie.isEmpty=rt,Ie.isIE=H,Ie.isIndexedDBAvailable=Be,Ie.isMobileCordova=T,Ie.isNode=x,Ie.isNodeSdk=z,Ie.isReactNative=D,Ie.isSafari=P,Ie.isUWP=X,Ie.isValidFormat=Ee,Ie.isValidTimestamp=Ln,Ie.issuedAtTime=He,Ie.jsonEval=De,Ie.map=ln,Ie.querystring=Zr,Ie.querystringDecode=cn,Ie.safeGet=bi,Ie.stringLength=Fo,Ie.stringToByteArray=Ir,Ie.stringify=Ce,Ie.validateArgCount=ft,Ie.validateCallback=Er,Ie.validateContextObject=wi,Ie.validateIndexedDBOpenable=Ae,Ie.validateNamespace=Yn,Ie}var sp={},u1;function AN(){if(u1)return sp;u1=1,Object.defineProperty(sp,"__esModule",{value:!0});var t=uE,e=LT(),n=function(){function d(g,y,E){this.name=g,this.instanceFactory=y,this.type=E,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return d.prototype.setInstantiationMode=function(g){return this.instantiationMode=g,this},d.prototype.setMultipleInstances=function(g){return this.multipleInstances=g,this},d.prototype.setServiceProps=function(g){return this.serviceProps=g,this},d}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var r="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var s=function(){function d(g,y){this.name=g,this.container=y,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return d.prototype.get=function(g){g===void 0&&(g=r);var y=this.normalizeInstanceIdentifier(g);if(!this.instancesDeferred.has(y)){var E=new e.Deferred;this.instancesDeferred.set(y,E);try{var I=this.getOrInitializeService(y);I&&E.resolve(I)}catch{}}return this.instancesDeferred.get(y).promise},d.prototype.getImmediate=function(g){var y=t.__assign({identifier:r,optional:!1},g),E=y.identifier,I=y.optional,T=this.normalizeInstanceIdentifier(E);try{var x=this.getOrInitializeService(T);if(!x){if(I)return null;throw Error("Service "+this.name+" is not available")}return x}catch(A){if(I)return null;throw A}},d.prototype.getComponent=function(){return this.component},d.prototype.setComponent=function(g){var y,E;if(g.name!==this.name)throw Error("Mismatching Component "+g.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=g,c(g))try{this.getOrInitializeService(r)}catch{}try{for(var I=t.__values(this.instancesDeferred.entries()),T=I.next();!T.done;T=I.next()){var x=t.__read(T.value,2),A=x[0],N=x[1],D=this.normalizeInstanceIdentifier(A);try{var L=this.getOrInitializeService(D);N.resolve(L)}catch{}}}catch(H){y={error:H}}finally{try{T&&!T.done&&(E=I.return)&&E.call(I)}finally{if(y)throw y.error}}},d.prototype.clearInstance=function(g){g===void 0&&(g=r),this.instancesDeferred.delete(g),this.instances.delete(g)},d.prototype.delete=function(){return t.__awaiter(this,void 0,void 0,function(){var g;return t.__generator(this,function(y){switch(y.label){case 0:return g=Array.from(this.instances.values()),[4,Promise.all(t.__spread(g.filter(function(E){return"INTERNAL"in E}).map(function(E){return E.INTERNAL.delete()}),g.filter(function(E){return"_delete"in E}).map(function(E){return E._delete()})))];case 1:return y.sent(),[2]}})})},d.prototype.isComponentSet=function(){return this.component!=null},d.prototype.getOrInitializeService=function(g){var y=this.instances.get(g);return!y&&this.component&&(y=this.component.instanceFactory(this.container,a(g)),this.instances.set(g,y)),y||null},d.prototype.normalizeInstanceIdentifier=function(g){return this.component?this.component.multipleInstances?g:r:g},d}();function a(d){return d===r?void 0:d}function c(d){return d.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var h=function(){function d(g){this.name=g,this.providers=new Map}return d.prototype.addComponent=function(g){var y=this.getProvider(g.name);if(y.isComponentSet())throw new Error("Component "+g.name+" has already been registered with "+this.name);y.setComponent(g)},d.prototype.addOrOverwriteComponent=function(g){var y=this.getProvider(g.name);y.isComponentSet()&&this.providers.delete(g.name),this.addComponent(g)},d.prototype.getProvider=function(g){if(this.providers.has(g))return this.providers.get(g);var y=new s(g,this);return this.providers.set(g,y),y},d.prototype.getProviders=function(){return Array.from(this.providers.values())},d}();return sp.Component=n,sp.ComponentContainer=h,sp.Provider=s,sp}/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function To(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),s=0,e=0;e<n;e++)for(var a=arguments[e],c=0,h=a.length;c<h;c++,s++)r[s]=a[c];return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lc,lE=[],Le;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Le||(Le={}));var MT={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},CN=Le.INFO,kN=(Lc={},Lc[Le.DEBUG]="log",Lc[Le.VERBOSE]="log",Lc[Le.INFO]="info",Lc[Le.WARN]="warn",Lc[Le.ERROR]="error",Lc),xN=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var s=new Date().toISOString(),a=kN[e];if(a)console[a].apply(console,To(["["+s+"]  "+t.name+":"],n));else throw new Error("Attempted to log a message with an invalid logType (value: "+e+")")}},Up=function(){function t(e){this.name=e,this._logLevel=CN,this._logHandler=xN,this._userLogHandler=null,lE.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in Le))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(e){this._logLevel=typeof e=="string"?MT[e]:e},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,To([this,Le.DEBUG],e)),this._logHandler.apply(this,To([this,Le.DEBUG],e))},t.prototype.log=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,To([this,Le.VERBOSE],e)),this._logHandler.apply(this,To([this,Le.VERBOSE],e))},t.prototype.info=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,To([this,Le.INFO],e)),this._logHandler.apply(this,To([this,Le.INFO],e))},t.prototype.warn=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,To([this,Le.WARN],e)),this._logHandler.apply(this,To([this,Le.WARN],e))},t.prototype.error=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,To([this,Le.ERROR],e)),this._logHandler.apply(this,To([this,Le.ERROR],e))},t}();function NN(t){lE.forEach(function(e){e.setLogLevel(t)})}function RN(t,e){for(var n=function(c){var h=null;e&&e.level&&(h=MT[e.level]),t===null?c.userLogHandler=null:c.userLogHandler=function(d,g){for(var y=[],E=2;E<arguments.length;E++)y[E-2]=arguments[E];var I=y.map(function(T){if(T==null)return null;if(typeof T=="string")return T;if(typeof T=="number"||typeof T=="boolean")return T.toString();if(T instanceof Error)return T.message;try{return JSON.stringify(T)}catch{return null}}).filter(function(T){return T}).join(" ");g>=(h??d.logLevel)&&t({level:Le[g].toLowerCase(),message:I,args:y,type:d.name})}},r=0,s=lE;r<s.length;r++){var a=s[r];n(a)}}const ON=Object.freeze(Object.defineProperty({__proto__:null,get LogLevel(){return Le},Logger:Up,setLogLevel:NN,setUserLogHandler:RN},Symbol.toStringTag,{value:"Module"})),PN=aE(ON);var l1;function DN(){if(l1)return Yv;l1=1,Object.defineProperty(Yv,"__esModule",{value:!0});var t=uE,e=LT(),n=AN(),r=PN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var s,a=(s={},s["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",s["bad-app-name"]="Illegal App name: '{$appName}",s["duplicate-app"]="Firebase App named '{$appName}' already exists",s["app-deleted"]="Firebase App named '{$appName}' already deleted",s["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",s["invalid-log-argument"]="First argument to `onLog` must be null or a function.",s),c=new e.ErrorFactory("app","Firebase",a),h="@firebase/app",d="0.6.11",g="@firebase/analytics",y="@firebase/auth",E="@firebase/database",I="@firebase/functions",T="@firebase/installations",x="@firebase/messaging",A="@firebase/performance",N="@firebase/remote-config",D="@firebase/storage",L="@firebase/firestore",H="firebase-wrapper";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var X,z="[DEFAULT]",P=(X={},X[h]="fire-core",X[g]="fire-analytics",X[y]="fire-auth",X[E]="fire-rtdb",X[I]="fire-fn",X[T]="fire-iid",X[x]="fire-fcm",X[A]="fire-perf",X[N]="fire-rc",X[D]="fire-gcs",X[L]="fire-fst",X["fire-js"]="fire-js",X[H]="fire-js-all",X);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Be=new r.Logger("@firebase/app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ae=function(){function He(Ee,Ze,tn){var bi,rt,ln=this;this.firebase_=tn,this.isDeleted_=!1,this.name_=Ze.name,this.automaticDataCollectionEnabled_=Ze.automaticDataCollectionEnabled||!1,this.options_=e.deepCopy(Ee),this.container=new n.ComponentContainer(Ze.name),this._addComponent(new n.Component("app",function(){return ln},"PUBLIC"));try{for(var Zr=t.__values(this.firebase_.INTERNAL.components.values()),cn=Zr.next();!cn.done;cn=Zr.next()){var Is=cn.value;this._addComponent(Is)}}catch(Ss){bi={error:Ss}}finally{try{cn&&!cn.done&&(rt=Zr.return)&&rt.call(Zr)}finally{if(bi)throw bi.error}}}return Object.defineProperty(He.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(Ee){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=Ee},enumerable:!1,configurable:!0}),Object.defineProperty(He.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(He.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),He.prototype.delete=function(){var Ee=this;return new Promise(function(Ze){Ee.checkDestroyed_(),Ze()}).then(function(){return Ee.firebase_.INTERNAL.removeApp(Ee.name_),Promise.all(Ee.container.getProviders().map(function(Ze){return Ze.delete()}))}).then(function(){Ee.isDeleted_=!0})},He.prototype._getService=function(Ee,Ze){return Ze===void 0&&(Ze=z),this.checkDestroyed_(),this.container.getProvider(Ee).getImmediate({identifier:Ze})},He.prototype._removeServiceInstance=function(Ee,Ze){Ze===void 0&&(Ze=z),this.container.getProvider(Ee).clearInstance(Ze)},He.prototype._addComponent=function(Ee){try{this.container.addComponent(Ee)}catch(Ze){Be.debug("Component "+Ee.name+" failed to register with FirebaseApp "+this.name,Ze)}},He.prototype._addOrOverwriteComponent=function(Ee){this.container.addOrOverwriteComponent(Ee)},He.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw c.create("app-deleted",{appName:this.name_})},He}();Ae.prototype.name&&Ae.prototype.options||Ae.prototype.delete||console.log("dc");var J="7.20.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function se(He){var Ee={},Ze=new Map,tn={__esModule:!0,initializeApp:ln,app:rt,registerVersion:Is,setLogLevel:r.setLogLevel,onLog:Ss,apps:null,SDK_VERSION:J,INTERNAL:{registerComponent:cn,removeApp:bi,components:Ze,useAsService:sr}};tn.default=tn,Object.defineProperty(tn,"apps",{get:Zr});function bi(ze){delete Ee[ze]}function rt(ze){if(ze=ze||z,!e.contains(Ee,ze))throw c.create("no-app",{appName:ze});return Ee[ze]}rt.App=He;function ln(ze,$e){if($e===void 0&&($e={}),typeof $e!="object"||$e===null){var dt=$e;$e={name:dt}}var ft=$e;ft.name===void 0&&(ft.name=z);var St=ft.name;if(typeof St!="string"||!St)throw c.create("bad-app-name",{appName:String(St)});if(e.contains(Ee,St))throw c.create("duplicate-app",{appName:St});var Yn=new He(ze,ft,tn);return Ee[St]=Yn,Yn}function Zr(){return Object.keys(Ee).map(function(ze){return Ee[ze]})}function cn(ze){var $e,dt,ft=ze.name;if(Ze.has(ft))return Be.debug("There were multiple attempts to register component "+ft+"."),ze.type==="PUBLIC"?tn[ft]:null;if(Ze.set(ft,ze),ze.type==="PUBLIC"){var St=function(Ir){if(Ir===void 0&&(Ir=rt()),typeof Ir[ft]!="function")throw c.create("invalid-app-argument",{appName:ft});return Ir[ft]()};ze.serviceProps!==void 0&&e.deepExtend(St,ze.serviceProps),tn[ft]=St,He.prototype[ft]=function(){for(var Ir=[],Fo=0;Fo<arguments.length;Fo++)Ir[Fo]=arguments[Fo];var Ts=this._getService.bind(this,ft);return Ts.apply(this,ze.multipleInstances?Ir:[])}}try{for(var Yn=t.__values(Object.keys(Ee)),Er=Yn.next();!Er.done;Er=Yn.next()){var wi=Er.value;Ee[wi]._addComponent(ze)}}catch(Ir){$e={error:Ir}}finally{try{Er&&!Er.done&&(dt=Yn.return)&&dt.call(Yn)}finally{if($e)throw $e.error}}return ze.type==="PUBLIC"?tn[ft]:null}function Is(ze,$e,dt){var ft,St=(ft=P[ze])!==null&&ft!==void 0?ft:ze;dt&&(St+="-"+dt);var Yn=St.match(/\s|\//),Er=$e.match(/\s|\//);if(Yn||Er){var wi=['Unable to register library "'+St+'" with version "'+$e+'":'];Yn&&wi.push('library name "'+St+'" contains illegal characters (whitespace or "/")'),Yn&&Er&&wi.push("and"),Er&&wi.push('version name "'+$e+'" contains illegal characters (whitespace or "/")'),Be.warn(wi.join(" "));return}cn(new n.Component(St+"-version",function(){return{library:St,version:$e}},"VERSION"))}function Ss(ze,$e){if(ze!==null&&typeof ze!="function")throw c.create("invalid-log-argument",{appName:name});r.setUserLogHandler(ze,$e)}function sr(ze,$e){if($e==="serverAuth")return null;var dt=$e;return dt}return tn}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function re(){var He=se(Ae);He.INTERNAL=t.__assign(t.__assign({},He.INTERNAL),{createFirebaseNamespace:re,extendNamespace:Ee,createSubscribe:e.createSubscribe,ErrorFactory:e.ErrorFactory,deepExtend:e.deepExtend});function Ee(Ze){e.deepExtend(He,Ze)}return He}var le=re();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var he=function(){function He(Ee){this.container=Ee}return He.prototype.getPlatformInfoString=function(){var Ee=this.container.getProviders();return Ee.map(function(Ze){if(te(Ze)){var tn=Ze.getImmediate();return tn.library+"/"+tn.version}else return null}).filter(function(Ze){return Ze}).join(" ")},He}();function te(He){var Ee=He.getComponent();return(Ee==null?void 0:Ee.type)==="VERSION"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function De(He,Ee){He.INTERNAL.registerComponent(new n.Component("platform-logger",function(Ze){return new he(Ze)},"PRIVATE")),He.registerVersion(h,d,Ee),He.registerVersion("fire-js","")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(e.isBrowser()&&self.firebase!==void 0){Be.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);var Ce=self.firebase.SDK_VERSION;Ce&&Ce.indexOf("LITE")>=0&&Be.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}var ct=le.initializeApp;le.initializeApp=function(){for(var He=[],Ee=0;Ee<arguments.length;Ee++)He[Ee]=arguments[Ee];return e.isNode()&&Be.warn(`
      Warning: This is a browser-targeted Firebase bundle but it appears it is being
      run in a Node environment.  If running in a Node environment, make sure you
      are using the bundle specified by the "main" field in package.json.
      
      If you are using Webpack, you can specify "main" as the first item in
      "resolve.mainFields":
      https://webpack.js.org/configuration/resolve/#resolvemainfields
      
      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"
      as the first item in "mainFields", e.g. ['main', 'module'].
      https://github.com/rollup/rollup-plugin-node-resolve
      `),ct.apply(void 0,He)};var Ln=le;return De(Ln),Yv.default=Ln,Yv.firebase=Ln,Yv}var LN=DN();const Z=DT(LN);(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(i,l,p){i!=Array.prototype&&i!=Object.prototype&&(i[l]=p.value)};function n(i){i=[typeof window=="object"&&window,typeof self=="object"&&self,typeof global=="object"&&global,i];for(var l=0;l<i.length;++l){var p=i[l];if(p&&p.Math==Math)return p}return globalThis}var r=n(this);function s(i,l){if(l){var p=r;i=i.split(".");for(var m=0;m<i.length-1;m++){var _=i[m];_ in p||(p[_]={}),p=p[_]}i=i[i.length-1],m=p[i],l=l(m),l!=m&&l!=null&&e(p,i,{configurable:!0,writable:!0,value:l})}}function a(i){var l=0;return function(){return l<i.length?{done:!1,value:i[l++]}:{done:!0}}}function c(i){var l=typeof Symbol<"u"&&Symbol.iterator&&i[Symbol.iterator];return l?l.call(i):{next:a(i)}}s("Promise",function(i){function l(k){this.b=0,this.c=void 0,this.a=[];var O=this.f();try{k(O.resolve,O.reject)}catch(Y){O.reject(Y)}}function p(){this.a=null}function m(k){return k instanceof l?k:new l(function(O){O(k)})}if(i)return i;p.prototype.b=function(k){if(this.a==null){this.a=[];var O=this;this.c(function(){O.g()})}this.a.push(k)};var _=r.setTimeout;p.prototype.c=function(k){_(k,0)},p.prototype.g=function(){for(;this.a&&this.a.length;){var k=this.a;this.a=[];for(var O=0;O<k.length;++O){var Y=k[O];k[O]=null;try{Y()}catch(ee){this.f(ee)}}}this.a=null},p.prototype.f=function(k){this.c(function(){throw k})},l.prototype.f=function(){function k(ee){return function(Pe){Y||(Y=!0,ee.call(O,Pe))}}var O=this,Y=!1;return{resolve:k(this.v),reject:k(this.g)}},l.prototype.v=function(k){if(k===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(k instanceof l)this.o(k);else{e:switch(typeof k){case"object":var O=k!=null;break e;case"function":O=!0;break e;default:O=!1}O?this.m(k):this.h(k)}},l.prototype.m=function(k){var O=void 0;try{O=k.then}catch(Y){this.g(Y);return}typeof O=="function"?this.u(O,k):this.h(k)},l.prototype.g=function(k){this.i(2,k)},l.prototype.h=function(k){this.i(1,k)},l.prototype.i=function(k,O){if(this.b!=0)throw Error("Cannot settle("+k+", "+O+"): Promise already settled in state"+this.b);this.b=k,this.c=O,this.l()},l.prototype.l=function(){if(this.a!=null){for(var k=0;k<this.a.length;++k)S.b(this.a[k]);this.a=null}};var S=new p;return l.prototype.o=function(k){var O=this.f();k.Pa(O.resolve,O.reject)},l.prototype.u=function(k,O){var Y=this.f();try{k.call(O,Y.resolve,Y.reject)}catch(ee){Y.reject(ee)}},l.prototype.then=function(k,O){function Y(pt,Bn){return typeof pt=="function"?function(fa){try{ee(pt(fa))}catch(Ew){Pe(Ew)}}:Bn}var ee,Pe,mt=new l(function(pt,Bn){ee=pt,Pe=Bn});return this.Pa(Y(k,ee),Y(O,Pe)),mt},l.prototype.catch=function(k){return this.then(void 0,k)},l.prototype.Pa=function(k,O){function Y(){switch(ee.b){case 1:k(ee.c);break;case 2:O(ee.c);break;default:throw Error("Unexpected state: "+ee.b)}}var ee=this;this.a==null?S.b(Y):this.a.push(Y)},l.resolve=m,l.reject=function(k){return new l(function(O,Y){Y(k)})},l.race=function(k){return new l(function(O,Y){for(var ee=c(k),Pe=ee.next();!Pe.done;Pe=ee.next())m(Pe.value).Pa(O,Y)})},l.all=function(k){var O=c(k),Y=O.next();return Y.done?m([]):new l(function(ee,Pe){function mt(fa){return function(Ew){pt[fa]=Ew,Bn--,Bn==0&&ee(pt)}}var pt=[],Bn=0;do pt.push(void 0),Bn++,m(Y.value).Pa(mt(pt.length-1),Pe),Y=O.next();while(!Y.done)})},l});var h=h||{},d=this||self,g=/^[\w+/_-]+[=]{0,2}$/,y=null;function E(){}function I(i){var l=typeof i;if(l=="object")if(i){if(i instanceof Array)return"array";if(i instanceof Object)return l;var p=Object.prototype.toString.call(i);if(p=="[object Window]")return"object";if(p=="[object Array]"||typeof i.length=="number"&&typeof i.splice<"u"&&typeof i.propertyIsEnumerable<"u"&&!i.propertyIsEnumerable("splice"))return"array";if(p=="[object Function]"||typeof i.call<"u"&&typeof i.propertyIsEnumerable<"u"&&!i.propertyIsEnumerable("call"))return"function"}else return"null";else if(l=="function"&&typeof i.call>"u")return"object";return l}function T(i){var l=I(i);return l=="array"||l=="object"&&typeof i.length=="number"}function x(i){return I(i)=="function"}function A(i){var l=typeof i;return l=="object"&&i!=null||l=="function"}function N(i,l,p){return i.call.apply(i.bind,arguments)}function D(i,l,p){if(!i)throw Error();if(2<arguments.length){var m=Array.prototype.slice.call(arguments,2);return function(){var _=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(_,m),i.apply(l,_)}}return function(){return i.apply(l,arguments)}}function L(i,l,p){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?L=N:L=D,L.apply(null,arguments)}function H(i,l){var p=Array.prototype.slice.call(arguments,1);return function(){var m=p.slice();return m.push.apply(m,arguments),i.apply(this,m)}}var X=Date.now||function(){return+new Date};function z(i,l){function p(){}p.prototype=l.prototype,i.$a=l.prototype,i.prototype=new p,i.prototype.constructor=i}function P(i,l,p){this.code=Ae+i,this.message=l||J[i]||"",this.a=p||null}z(P,Error),P.prototype.w=function(){var i={code:this.code,message:this.message};return this.a&&(i.serverResponse=this.a),i},P.prototype.toJSON=function(){return this.w()};function Be(i){var l=i&&i.code;return l?new P(l.substring(Ae.length),i.message,i.serverResponse):null}var Ae="auth/",J={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},se={kd:{Sa:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Ya:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Va:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},rd:{Sa:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Ya:"https://securetoken.googleapis.com/v1/token",Va:"https://identitytoolkit.googleapis.com/v2/",id:"p"},td:{Sa:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Ya:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Va:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},ud:{Sa:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Ya:"https://test-securetoken.sandbox.googleapis.com/v1/token",Va:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function re(i){for(var l in se)if(se[l].id===i)return i=se[l],{firebaseEndpoint:i.Sa,secureTokenEndpoint:i.Ya,identityPlatformEndpoint:i.Va};return null}var le;le=re("__EID__")?"__EID__":void 0;function he(i){if(!i)return!1;try{return!!i.$goog_Thenable}catch{return!1}}function te(i){if(Error.captureStackTrace)Error.captureStackTrace(this,te);else{var l=Error().stack;l&&(this.stack=l)}i&&(this.message=String(i))}z(te,Error),te.prototype.name="CustomError";function De(i,l){i=i.split("%s");for(var p="",m=i.length-1,_=0;_<m;_++)p+=i[_]+(_<l.length?l[_]:"%s");te.call(this,p+i[m])}z(De,te),De.prototype.name="AssertionError";function Ce(i,l){throw new De("Failure"+(i?": "+i:""),Array.prototype.slice.call(arguments,1))}function ct(i,l){this.c=i,this.f=l,this.b=0,this.a=null}ct.prototype.get=function(){if(0<this.b){this.b--;var i=this.a;this.a=i.next,i.next=null}else i=this.c();return i};function Ln(i,l){i.f(l),100>i.b&&(i.b++,l.next=i.a,i.a=l)}function He(){this.b=this.a=null}var Ee=new ct(function(){return new tn},function(i){i.reset()});He.prototype.add=function(i,l){var p=Ee.get();p.set(i,l),this.b?this.b.next=p:this.a=p,this.b=p};function Ze(){var i=cd,l=null;return i.a&&(l=i.a,i.a=i.a.next,i.a||(i.b=null),l.next=null),l}function tn(){this.next=this.b=this.a=null}tn.prototype.set=function(i,l){this.a=i,this.b=l,this.next=null},tn.prototype.reset=function(){this.next=this.b=this.a=null};var bi=Array.prototype.indexOf?function(i,l){return Array.prototype.indexOf.call(i,l,void 0)}:function(i,l){if(typeof i=="string")return typeof l!="string"||l.length!=1?-1:i.indexOf(l,0);for(var p=0;p<i.length;p++)if(p in i&&i[p]===l)return p;return-1},rt=Array.prototype.forEach?function(i,l,p){Array.prototype.forEach.call(i,l,p)}:function(i,l,p){for(var m=i.length,_=typeof i=="string"?i.split(""):i,S=0;S<m;S++)S in _&&l.call(p,_[S],S,i)};function ln(i,l){for(var p=typeof i=="string"?i.split(""):i,m=i.length-1;0<=m;--m)m in p&&l.call(void 0,p[m],m,i)}var Zr=Array.prototype.filter?function(i,l){return Array.prototype.filter.call(i,l,void 0)}:function(i,l){for(var p=i.length,m=[],_=0,S=typeof i=="string"?i.split(""):i,k=0;k<p;k++)if(k in S){var O=S[k];l.call(void 0,O,k,i)&&(m[_++]=O)}return m},cn=Array.prototype.map?function(i,l){return Array.prototype.map.call(i,l,void 0)}:function(i,l){for(var p=i.length,m=Array(p),_=typeof i=="string"?i.split(""):i,S=0;S<p;S++)S in _&&(m[S]=l.call(void 0,_[S],S,i));return m},Is=Array.prototype.some?function(i,l){return Array.prototype.some.call(i,l,void 0)}:function(i,l){for(var p=i.length,m=typeof i=="string"?i.split(""):i,_=0;_<p;_++)if(_ in m&&l.call(void 0,m[_],_,i))return!0;return!1};function Ss(i){e:{for(var l=zm,p=i.length,m=typeof i=="string"?i.split(""):i,_=0;_<p;_++)if(_ in m&&l.call(void 0,m[_],_,i)){l=_;break e}l=-1}return 0>l?null:typeof i=="string"?i.charAt(l):i[l]}function sr(i,l){return 0<=bi(i,l)}function ze(i,l){l=bi(i,l);var p;return(p=0<=l)&&Array.prototype.splice.call(i,l,1),p}function $e(i,l){var p=0;ln(i,function(m,_){l.call(void 0,m,_,i)&&Array.prototype.splice.call(i,_,1).length==1&&p++})}function dt(i){return Array.prototype.concat.apply([],arguments)}function ft(i){var l=i.length;if(0<l){for(var p=Array(l),m=0;m<l;m++)p[m]=i[m];return p}return[]}var St=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]},Yn=/&/g,Er=/</g,wi=/>/g,Ir=/"/g,Fo=/'/g,Ts=/\x00/g,Uo=/[\x00&<>"']/;function ht(i,l){return i.indexOf(l)!=-1}function jo(i,l){return i<l?-1:i>l?1:0}var Ki;e:{var U=d.navigator;if(U){var M=U.userAgent;if(M){Ki=M;break e}}Ki=""}function F(i){return ht(Ki,i)}function G(i,l){for(var p in i)l.call(void 0,i[p],p,i)}function V(i){for(var l in i)return!1;return!0}function ve(i){var l={},p;for(p in i)l[p]=i[p];return l}var Fe="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ue(i,l){for(var p,m,_=1;_<arguments.length;_++){m=arguments[_];for(p in m)i[p]=m[p];for(var S=0;S<Fe.length;S++)p=Fe[S],Object.prototype.hasOwnProperty.call(m,p)&&(i[p]=m[p])}}function at(i,l){e:{try{var p=i&&i.ownerDocument,m=p&&(p.defaultView||p.parentWindow);if(m=m||d,m.Element&&m.Location){var _=m;break e}}catch{}_=null}if(_&&typeof _[l]<"u"&&(!i||!(i instanceof _[l])&&(i instanceof _.Location||i instanceof _.Element))){if(A(i))try{var S=i.constructor.displayName||i.constructor.name||Object.prototype.toString.call(i)}catch{S="<object could not be stringified>"}else S=i===void 0?"undefined":i===null?"null":typeof i;Ce("Argument is not a %s (or a non-Element, non-Location mock); got: %s",l,S)}}function Qe(i,l){this.a=i===Nt&&l||"",this.b=fn}Qe.prototype.sa=!0,Qe.prototype.ra=function(){return this.a},Qe.prototype.toString=function(){return"Const{"+this.a+"}"};function In(i){return i instanceof Qe&&i.constructor===Qe&&i.b===fn?i.a:(Ce("expected object of type Const, got '"+i+"'"),"type_error:Const")}var fn={},Nt={},Yi=new Qe(Nt,"");function Xi(i,l){this.a=i===As&&l||"",this.b=yf}Xi.prototype.sa=!0,Xi.prototype.ra=function(){return this.a.toString()},Xi.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};function _i(i){return i instanceof Xi&&i.constructor===Xi&&i.b===yf?i.a:(Ce("expected object of type TrustedResourceUrl, got '"+i+"' of type "+I(i)),"type_error:TrustedResourceUrl")}function gl(i,l){var p=In(i);if(!nd.test(p))throw Error("Invalid TrustedResourceUrl format: "+p);return i=p.replace(td,function(m,_){if(!Object.prototype.hasOwnProperty.call(l,_))throw Error('Found marker, "'+_+'", in format string, "'+p+'", but no valid label mapping found in args: '+JSON.stringify(l));return m=l[_],m instanceof Qe?In(m):encodeURIComponent(String(m))}),new Xi(As,i)}var td=/%{(\w+)}/g,nd=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,yf={},As={};function Xn(i,l){this.a=i===id&&l||"",this.b=nm}Xn.prototype.sa=!0,Xn.prototype.ra=function(){return this.a.toString()},Xn.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};function bf(i){return i instanceof Xn&&i.constructor===Xn&&i.b===nm?i.a:(Ce("expected object of type SafeUrl, got '"+i+"' of type "+I(i)),"type_error:SafeUrl")}var rd=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function tm(i){return i instanceof Xn?i:(i=typeof i=="object"&&i.sa?i.ra():String(i),rd.test(i)||(i="about:invalid#zClosurez"),new Xn(id,i))}var nm={},id={};function xa(){this.a="",this.b=$i}xa.prototype.sa=!0,xa.prototype.ra=function(){return this.a.toString()},xa.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};function Na(i){return i instanceof xa&&i.constructor===xa&&i.b===$i?i.a:(Ce("expected object of type SafeHtml, got '"+i+"' of type "+I(i)),"type_error:SafeHtml")}var $i={};function Ei(i){var l=new xa;return l.a=i,l}Ei("<!DOCTYPE html>");var rm=Ei("");Ei("<br>");function im(i){var l=new Xi(As,In(Yi));at(i,"HTMLIFrameElement"),i.src=_i(l).toString()}function Ra(i,l){if(at(i,"HTMLScriptElement"),i.src=_i(l),y===null)e:{if(l=d.document,(l=l.querySelector&&l.querySelector("script[nonce]"))&&(l=l.nonce||l.getAttribute("nonce"))&&g.test(l)){y=l;break e}y=""}l=y,l&&i.setAttribute("nonce",l)}function om(i,l){for(var p=i.split("%s"),m="",_=Array.prototype.slice.call(arguments,1);_.length&&1<p.length;)m+=p.shift()+_.shift();return m+p.join("%s")}function Qi(i){return Uo.test(i)&&(i.indexOf("&")!=-1&&(i=i.replace(Yn,"&amp;")),i.indexOf("<")!=-1&&(i=i.replace(Er,"&lt;")),i.indexOf(">")!=-1&&(i=i.replace(wi,"&gt;")),i.indexOf('"')!=-1&&(i=i.replace(Ir,"&quot;")),i.indexOf("'")!=-1&&(i=i.replace(Fo,"&#39;")),i.indexOf("\0")!=-1&&(i=i.replace(Ts,"&#0;"))),i}function od(i){return od[" "](i),i}od[" "]=E;function H0(i,l){var p=Mt;return Object.prototype.hasOwnProperty.call(p,i)?p[i]:p[i]=l(i)}var sm=F("Opera"),Mr=F("Trident")||F("MSIE"),Bt=F("Edge"),Oa=Bt||Mr,sd=F("Gecko")&&!(ht(Ki.toLowerCase(),"webkit")&&!F("Edge"))&&!(F("Trident")||F("MSIE"))&&!F("Edge"),am=ht(Ki.toLowerCase(),"webkit")&&!F("Edge");function Ge(){var i=d.document;return i?i.documentMode:void 0}var wf;e:{var ml="",ad=function(){var i=Ki;if(sd)return/rv:([^\);]+)(\)|;)/.exec(i);if(Bt)return/Edge\/([\d\.]+)/.exec(i);if(Mr)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i);if(am)return/WebKit\/(\S+)/.exec(i);if(sm)return/(?:Version)[ \/]?(\S+)/.exec(i)}();if(ad&&(ml=ad?ad[1]:""),Mr){var _f=Ge();if(_f!=null&&_f>parseFloat(ml)){wf=String(_f);break e}}wf=ml}var Mt={};function Ji(i){return H0(i,function(){for(var l=0,p=St(String(wf)).split("."),m=St(String(i)).split("."),_=Math.max(p.length,m.length),S=0;l==0&&S<_;S++){var k=p[S]||"",O=m[S]||"";do{if(k=/(\d*)(\D*)(.*)/.exec(k)||["","","",""],O=/(\d*)(\D*)(.*)/.exec(O)||["","","",""],k[0].length==0&&O[0].length==0)break;l=jo(k[1].length==0?0:parseInt(k[1],10),O[1].length==0?0:parseInt(O[1],10))||jo(k[2].length==0,O[2].length==0)||jo(k[2],O[2]),k=k[3],O=O[3]}while(l==0)}return 0<=l})}var Zi;Zi=d.document&&Mr?Ge():void 0;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch{}var ei=!Mr||9<=Number(Zi);function nn(i){var l=document;return typeof i=="string"?l.getElementById(i):i}function um(i,l){G(l,function(p,m){p&&typeof p=="object"&&p.sa&&(p=p.ra()),m=="style"?i.style.cssText=p:m=="class"?i.className=p:m=="for"?i.htmlFor=p:eo.hasOwnProperty(m)?i.setAttribute(eo[m],p):m.lastIndexOf("aria-",0)==0||m.lastIndexOf("data-",0)==0?i.setAttribute(m,p):i[m]=p})}var eo={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function lm(i,l,p){var m=arguments,_=document,S=String(m[0]),k=m[1];if(!ei&&k&&(k.name||k.type)){if(S=["<",S],k.name&&S.push(' name="',Qi(k.name),'"'),k.type){S.push(' type="',Qi(k.type),'"');var O={};Ue(O,k),delete O.type,k=O}S.push(">"),S=S.join("")}return S=Pa(_,S),k&&(typeof k=="string"?S.className=k:Array.isArray(k)?S.className=k.join(" "):um(S,k)),2<m.length&&Ef(_,S,m),S}function Ef(i,l,p){function m(k){k&&l.appendChild(typeof k=="string"?i.createTextNode(k):k)}for(var _=2;_<p.length;_++){var S=p[_];!T(S)||A(S)&&0<S.nodeType?m(S):rt(ud(S)?ft(S):S,m)}}function Pa(i,l){return l=String(l),i.contentType==="application/xhtml+xml"&&(l=l.toLowerCase()),i.createElement(l)}function ud(i){if(i&&typeof i.length=="number"){if(A(i))return typeof i.item=="function"||typeof i.item=="string";if(x(i))return typeof i.item=="function"}return!1}function If(i){d.setTimeout(function(){throw i},0)}var ld;function Cs(){var i=d.MessageChannel;if(typeof i>"u"&&typeof window<"u"&&window.postMessage&&window.addEventListener&&!F("Presto")&&(i=function(){var _=Pa(document,"IFRAME");_.style.display="none",im(_),document.documentElement.appendChild(_);var S=_.contentWindow;_=S.document,_.open(),_.write(Na(rm)),_.close();var k="callImmediate"+Math.random(),O=S.location.protocol=="file:"?"*":S.location.protocol+"//"+S.location.host;_=L(function(Y){(O=="*"||Y.origin==O)&&Y.data==k&&this.port1.onmessage()},this),S.addEventListener("message",_,!1),this.port1={},this.port2={postMessage:function(){S.postMessage(k,O)}}}),typeof i<"u"&&!F("Trident")&&!F("MSIE")){var l=new i,p={},m=p;return l.port1.onmessage=function(){if(p.next!==void 0){p=p.next;var _=p.Fb;p.Fb=null,_()}},function(_){m.next={Fb:_},m=m.next,l.port2.postMessage(0)}}return function(_){d.setTimeout(_,0)}}function Vo(i,l){yl||Da(),Sf||(yl(),Sf=!0),cd.add(i,l)}var yl;function Da(){if(d.Promise&&d.Promise.resolve){var i=d.Promise.resolve(void 0);yl=function(){i.then(Bo)}}else yl=function(){var l=Bo;!x(d.setImmediate)||d.Window&&d.Window.prototype&&!F("Edge")&&d.Window.prototype.setImmediate==d.setImmediate?(ld||(ld=Cs()),ld(l)):d.setImmediate(l)}}var Sf=!1,cd=new He;function Bo(){for(var i;i=Ze();){try{i.a.call(i.b)}catch(l){If(l)}Ln(Ee,i)}Sf=!1}function Ke(i,l){if(this.a=ks,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,i!=E)try{var p=this;i.call(l,function(m){ti(p,La,m)},function(m){if(!(m instanceof qo))try{throw m instanceof Error?m:Error("Promise rejected.")}catch{}ti(p,qt,m)})}catch(m){ti(this,qt,m)}}var ks=0,La=2,qt=3;function to(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}to.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var fd=new ct(function(){return new to},function(i){i.reset()});function Ma(i,l,p){var m=fd.get();return m.g=i,m.b=l,m.f=p,m}function _e(i){if(i instanceof Ke)return i;var l=new Ke(E);return ti(l,La,i),l}function wt(i){return new Ke(function(l,p){p(i)})}function Tf(i,l,p){cm(i,l,p,null)||Vo(H(l,i))}function Fa(i){return new Ke(function(l,p){var m=i.length,_=[];if(m)for(var S=function(ee,Pe){m--,_[ee]=Pe,m==0&&l(_)},k=function(ee){p(ee)},O=0,Y;O<i.length;O++)Y=i[O],Tf(Y,H(S,O),k);else l(_)})}function hd(i){return new Ke(function(l){var p=i.length,m=[];if(p)for(var _=function(O,Y,ee){p--,m[O]=Y?{Ob:!0,value:ee}:{Ob:!1,reason:ee},p==0&&l(m)},S=0,k;S<i.length;S++)k=i[S],Tf(k,H(_,S,!0),H(_,S,!1));else l(m)})}Ke.prototype.then=function(i,l,p){return pd(this,x(i)?i:null,x(l)?l:null,p)},Ke.prototype.$goog_Thenable=!0,t=Ke.prototype,t.na=function(i,l){return i=Ma(i,i,l),i.c=!0,Ua(this,i),this},t.s=function(i,l){return pd(this,null,i,l)},t.cancel=function(i){if(this.a==ks){var l=new qo(i);Vo(function(){no(this,l)},this)}};function no(i,l){if(i.a==ks)if(i.c){var p=i.c;if(p.b){for(var m=0,_=null,S=null,k=p.b;k&&(k.c||(m++,k.a==i&&(_=k),!(_&&1<m)));k=k.next)_||(S=k);_&&(p.a==ks&&m==1?no(p,l):(S?(m=S,m.next==p.f&&(p.f=m),m.next=m.next.next):xs(p),ro(p,_,qt,l)))}i.c=null}else ti(i,qt,l)}function Ua(i,l){i.b||i.a!=La&&i.a!=qt||fm(i),i.f?i.f.next=l:i.b=l,i.f=l}function pd(i,l,p,m){var _=Ma(null,null,null);return _.a=new Ke(function(S,k){_.g=l?function(O){try{var Y=l.call(m,O);S(Y)}catch(ee){k(ee)}}:S,_.b=p?function(O){try{var Y=p.call(m,O);Y===void 0&&O instanceof qo?k(O):S(Y)}catch(ee){k(ee)}}:k}),_.a.c=i,Ua(i,_),_.a}t.Zc=function(i){this.a=ks,ti(this,La,i)},t.$c=function(i){this.a=ks,ti(this,qt,i)};function ti(i,l,p){i.a==ks&&(i===p&&(l=qt,p=new TypeError("Promise cannot resolve to itself")),i.a=1,cm(p,i.Zc,i.$c,i)||(i.i=p,i.a=l,i.c=null,fm(i),l!=qt||p instanceof qo||Cf(i,p)))}function cm(i,l,p,m){if(i instanceof Ke)return Ua(i,Ma(l||E,p||null,m)),!0;if(he(i))return i.then(l,p,m),!0;if(A(i))try{var _=i.then;if(x(_))return z0(i,_,l,p,m),!0}catch(S){return p.call(m,S),!0}return!1}function z0(i,l,p,m,_){function S(Y){O||(O=!0,m.call(_,Y))}function k(Y){O||(O=!0,p.call(_,Y))}var O=!1;try{l.call(i,k,S)}catch(Y){S(Y)}}function fm(i){i.h||(i.h=!0,Vo(i.fc,i))}function xs(i){var l=null;return i.b&&(l=i.b,i.b=l.next,l.next=null),i.b||(i.f=null),l}t.fc=function(){for(var i;i=xs(this);)ro(this,i,this.a,this.i);this.h=!1};function ro(i,l,p,m){if(p==qt&&l.b&&!l.c)for(;i&&i.g;i=i.c)i.g=!1;if(l.a)l.a.c=null,Af(l,p,m);else try{l.c?l.g.call(l.f):Af(l,p,m)}catch(_){kf.call(null,_)}Ln(fd,l)}function Af(i,l,p){l==La?i.g.call(i.f,p):i.b&&i.b.call(i.f,p)}function Cf(i,l){i.g=!0,Vo(function(){i.g&&kf.call(null,l)})}var kf=If;function qo(i){te.call(this,i)}z(qo,te),qo.prototype.name="cancel";function bl(){this.xa=this.xa,this.oa=this.oa}var K0=0;bl.prototype.xa=!1;function dd(i){!i.xa&&(i.xa=!0,i.Da(),K0!=0)}bl.prototype.Da=function(){if(this.oa)for(;this.oa.length;)this.oa.shift()()};var xf=Object.freeze||function(i){return i},Go=!Mr||9<=Number(Zi),wl=Mr&&!Ji("9"),vd=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var i=!1,l=Object.defineProperty({},"passive",{get:function(){i=!0}});try{d.addEventListener("test",E,l),d.removeEventListener("test",E,l)}catch{}return i}();function $n(i,l){this.type=i,this.b=this.target=l,this.defaultPrevented=!1}$n.prototype.preventDefault=function(){this.defaultPrevented=!0};function Ns(i,l){if($n.call(this,i?i.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,i){var p=this.type=i.type,m=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.b=l,l=i.relatedTarget){if(sd){e:{try{od(l.nodeName);var _=!0;break e}catch{}_=!1}_||(l=null)}}else p=="mouseover"?l=i.fromElement:p=="mouseout"&&(l=i.toElement);this.relatedTarget=l,m?(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0):(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType=typeof i.pointerType=="string"?i.pointerType:gd[i.pointerType]||"",this.a=i,i.defaultPrevented&&this.preventDefault()}}z(Ns,$n);var gd=xf({2:"touch",3:"pen",4:"mouse"});Ns.prototype.preventDefault=function(){Ns.$a.preventDefault.call(this);var i=this.a;if(i.preventDefault)i.preventDefault();else if(i.returnValue=!1,wl)try{(i.ctrlKey||112<=i.keyCode&&123>=i.keyCode)&&(i.keyCode=-1)}catch{}},Ns.prototype.g=function(){return this.a};var Wo="closure_listenable_"+(1e6*Math.random()|0),hm=0;function Y0(i,l,p,m,_){this.listener=i,this.proxy=null,this.src=l,this.type=p,this.capture=!!m,this.Ua=_,this.key=++hm,this.va=this.Oa=!1}function _l(i){i.va=!0,i.listener=null,i.proxy=null,i.src=null,i.Ua=null}function ni(i){this.src=i,this.a={},this.b=0}ni.prototype.add=function(i,l,p,m,_){var S=i.toString();i=this.a[S],i||(i=this.a[S]=[],this.b++);var k=md(i,l,m,_);return-1<k?(l=i[k],p||(l.Oa=!1)):(l=new Y0(l,this.src,S,!!m,_),l.Oa=p,i.push(l)),l};function Rs(i,l){var p=l.type;p in i.a&&ze(i.a[p],l)&&(_l(l),i.a[p].length==0&&(delete i.a[p],i.b--))}function md(i,l,p,m){for(var _=0;_<i.length;++_){var S=i[_];if(!S.va&&S.listener==l&&S.capture==!!p&&S.Ua==m)return _}return-1}var yd="closure_lm_"+(1e6*Math.random()|0),bd={};function Fr(i,l,p,m,_){if(m&&m.once)ja(i,l,p,m,_);else if(Array.isArray(l))for(var S=0;S<l.length;S++)Fr(i,l[S],p,m,_);else p=io(p),i&&i[Wo]?vm(i,l,p,A(m)?!!m.capture:!!m,_):El(i,l,p,!1,m,_)}function El(i,l,p,m,_,S){if(!l)throw Error("Invalid event type");var k=A(_)?!!_.capture:!!_,O=Il(i);if(O||(i[yd]=O=new ni(i)),p=O.add(l,p,m,k,S),!p.proxy)if(m=xe(),p.proxy=m,m.src=i,m.listener=p,i.addEventListener)vd||(_=k),_===void 0&&(_=!1),i.addEventListener(l.toString(),m,_);else if(i.attachEvent)i.attachEvent(ce(l.toString()),m);else if(i.addListener&&i.removeListener)i.addListener(m);else throw Error("addEventListener and attachEvent are unavailable.")}function xe(){var i=Ft,l=Go?function(p){return i.call(l.src,l.listener,p)}:function(p){if(p=i.call(l.src,l.listener,p),!p)return p};return l}function ja(i,l,p,m,_){if(Array.isArray(l))for(var S=0;S<l.length;S++)ja(i,l[S],p,m,_);else p=io(p),i&&i[Wo]?wd(i,l,p,A(m)?!!m.capture:!!m,_):El(i,l,p,!0,m,_)}function Mn(i,l,p,m,_){if(Array.isArray(l))for(var S=0;S<l.length;S++)Mn(i,l[S],p,m,_);else m=A(m)?!!m.capture:!!m,p=io(p),i&&i[Wo]?(i=i.v,l=String(l).toString(),l in i.a&&(S=i.a[l],p=md(S,p,m,_),-1<p&&(_l(S[p]),Array.prototype.splice.call(S,p,1),S.length==0&&(delete i.a[l],i.b--)))):i&&(i=Il(i))&&(l=i.a[l.toString()],i=-1,l&&(i=md(l,p,m,_)),(p=-1<i?l[i]:null)&&et(p))}function et(i){if(typeof i!="number"&&i&&!i.va){var l=i.src;if(l&&l[Wo])Rs(l.v,i);else{var p=i.type,m=i.proxy;l.removeEventListener?l.removeEventListener(p,m,i.capture):l.detachEvent?l.detachEvent(ce(p),m):l.addListener&&l.removeListener&&l.removeListener(m),(p=Il(l))?(Rs(p,i),p.b==0&&(p.src=null,l[yd]=null)):_l(i)}}}function ce(i){return i in bd?bd[i]:bd[i]="on"+i}function pm(i,l,p,m){var _=!0;if((i=Il(i))&&(l=i.a[l.toString()]))for(l=l.concat(),i=0;i<l.length;i++){var S=l[i];S&&S.capture==p&&!S.va&&(S=dm(S,m),_=_&&S!==!1)}return _}function dm(i,l){var p=i.listener,m=i.Ua||i.src;return i.Oa&&et(i),p.call(m,l)}function Ft(i,l){if(i.va)return!0;if(!Go){if(!l)e:{l=["window","event"];for(var p=d,m=0;m<l.length;m++)if(p=p[l[m]],p==null){l=null;break e}l=p}if(m=l,l=new Ns(m,this),p=!0,!(0>m.keyCode||m.returnValue!=null)){e:{var _=!1;if(m.keyCode==0)try{m.keyCode=-1;break e}catch{_=!0}(_||m.returnValue==null)&&(m.returnValue=!0)}for(m=[],_=l.b;_;_=_.parentNode)m.push(_);for(i=i.type,_=m.length-1;0<=_;_--){l.b=m[_];var S=pm(m[_],i,!0,l);p=p&&S}for(_=0;_<m.length;_++)l.b=m[_],S=pm(m[_],i,!1,l),p=p&&S}return p}return dm(i,new Ns(l,this))}function Il(i){return i=i[yd],i instanceof ni?i:null}var Sn="__closure_events_fn_"+(1e9*Math.random()>>>0);function io(i){return x(i)?i:(i[Sn]||(i[Sn]=function(l){return i.handleEvent(l)}),i[Sn])}function Fn(){bl.call(this),this.v=new ni(this),this.$b=this,this.fb=null}z(Fn,bl),Fn.prototype[Wo]=!0,Fn.prototype.addEventListener=function(i,l,p,m){Fr(this,i,l,p,m)},Fn.prototype.removeEventListener=function(i,l,p,m){Mn(this,i,l,p,m)},Fn.prototype.dispatchEvent=function(i){var l,p=this.fb;if(p)for(l=[];p;p=p.fb)l.push(p);p=this.$b;var m=i.type||i;if(typeof i=="string")i=new $n(i,p);else if(i instanceof $n)i.target=i.target||p;else{var _=i;i=new $n(m,p),Ue(i,_)}if(_=!0,l)for(var S=l.length-1;0<=S;S--){var k=i.b=l[S];_=Nf(k,m,!0,i)&&_}if(k=i.b=p,_=Nf(k,m,!0,i)&&_,_=Nf(k,m,!1,i)&&_,l)for(S=0;S<l.length;S++)k=i.b=l[S],_=Nf(k,m,!1,i)&&_;return _},Fn.prototype.Da=function(){if(Fn.$a.Da.call(this),this.v){var i=this.v,l;for(l in i.a){for(var p=i.a[l],m=0;m<p.length;m++)_l(p[m]);delete i.a[l],i.b--}}this.fb=null};function vm(i,l,p,m,_){i.v.add(String(l),p,!1,m,_)}function wd(i,l,p,m,_){i.v.add(String(l),p,!0,m,_)}function Nf(i,l,p,m){if(l=i.v.a[String(l)],!l)return!0;l=l.concat();for(var _=!0,S=0;S<l.length;++S){var k=l[S];if(k&&!k.va&&k.capture==p){var O=k.listener,Y=k.Ua||k.src;k.Oa&&Rs(i.v,k),_=O.call(Y,m)!==!1&&_}}return _&&!m.defaultPrevented}function Sl(i,l,p){if(x(i))p&&(i=L(i,p));else if(i&&typeof i.handleEvent=="function")i=L(i.handleEvent,i);else throw Error("Invalid listener argument");return 2147483647<Number(l)?-1:d.setTimeout(i,l||0)}function Va(i){var l=null;return new Ke(function(p,m){l=Sl(function(){p(void 0)},i),l==-1&&m(Error("Failed to schedule timer."))}).s(function(p){throw d.clearTimeout(l),p})}function Rf(i){if(i.V&&typeof i.V=="function")return i.V();if(typeof i=="string")return i.split("");if(T(i)){for(var l=[],p=i.length,m=0;m<p;m++)l.push(i[m]);return l}l=[],p=0;for(m in i)l[p++]=i[m];return l}function gm(i){if(i.Y&&typeof i.Y=="function")return i.Y();if(!i.V||typeof i.V!="function"){if(T(i)||typeof i=="string"){var l=[];i=i.length;for(var p=0;p<i;p++)l.push(p);return l}l=[],p=0;for(var m in i)l[p++]=m;return l}}function X0(i,l){if(i.forEach&&typeof i.forEach=="function")i.forEach(l,void 0);else if(T(i)||typeof i=="string")rt(i,l,void 0);else for(var p=gm(i),m=Rf(i),_=m.length,S=0;S<_;S++)l.call(void 0,m[S],p&&p[S],i)}function Ba(i,l){this.b={},this.a=[],this.c=0;var p=arguments.length;if(1<p){if(p%2)throw Error("Uneven number of arguments");for(var m=0;m<p;m+=2)this.set(arguments[m],arguments[m+1])}else if(i)if(i instanceof Ba)for(p=i.Y(),m=0;m<p.length;m++)this.set(p[m],i.get(p[m]));else for(m in i)this.set(m,i[m])}t=Ba.prototype,t.V=function(){_d(this);for(var i=[],l=0;l<this.a.length;l++)i.push(this.b[this.a[l]]);return i},t.Y=function(){return _d(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0};function _d(i){if(i.c!=i.a.length){for(var l=0,p=0;l<i.a.length;){var m=i.a[l];oo(i.b,m)&&(i.a[p++]=m),l++}i.a.length=p}if(i.c!=i.a.length){var _={};for(p=l=0;l<i.a.length;)m=i.a[l],oo(_,m)||(i.a[p++]=m,_[m]=1),l++;i.a.length=p}}t.get=function(i,l){return oo(this.b,i)?this.b[i]:l},t.set=function(i,l){oo(this.b,i)||(this.c++,this.a.push(i)),this.b[i]=l},t.forEach=function(i,l){for(var p=this.Y(),m=0;m<p.length;m++){var _=p[m],S=this.get(_);i.call(l,S,_,this)}};function oo(i,l){return Object.prototype.hasOwnProperty.call(i,l)}var Ed=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/\\#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function mm(i,l){if(i){i=i.split("&");for(var p=0;p<i.length;p++){var m=i[p].indexOf("="),_=null;if(0<=m){var S=i[p].substring(0,m);_=i[p].substring(m+1)}else S=i[p];l(S,_?decodeURIComponent(_.replace(/\+/g," ")):"")}}}function so(i,l){this.a=this.l=this.f="",this.g=null,this.h=this.c="",this.i=!1;var p;i instanceof so?(this.i=l!==void 0?l:i.i,qa(this,i.f),this.l=i.l,this.a=i.a,Ga(this,i.g),this.c=i.c,Os(this,Pf(i.b)),this.h=i.h):i&&(p=String(i).match(Ed))?(this.i=!!l,qa(this,p[1]||"",!0),this.l=ao(p[2]||""),this.a=ao(p[3]||"",!0),Ga(this,p[4]),this.c=ao(p[5]||"",!0),Os(this,p[6]||"",!0),this.h=ao(p[7]||"")):(this.i=!!l,this.b=new ri(null,this.i))}so.prototype.toString=function(){var i=[],l=this.f;l&&i.push(Tl(l,bm,!0),":");var p=this.a;return(p||l=="file")&&(i.push("//"),(l=this.l)&&i.push(Tl(l,bm,!0),"@"),i.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.g,p!=null&&i.push(":",String(p))),(p=this.c)&&(this.a&&p.charAt(0)!="/"&&i.push("/"),i.push(Tl(p,p.charAt(0)=="/"?uo:$0,!0))),(p=this.b.toString())&&i.push("?",p),(p=this.h)&&i.push("#",Tl(p,Q0)),i.join("")},so.prototype.resolve=function(i){var l=new so(this),p=!!i.f;p?qa(l,i.f):p=!!i.l,p?l.l=i.l:p=!!i.a,p?l.a=i.a:p=i.g!=null;var m=i.c;if(p)Ga(l,i.g);else if(p=!!i.c){if(m.charAt(0)!="/")if(this.a&&!this.c)m="/"+m;else{var _=l.c.lastIndexOf("/");_!=-1&&(m=l.c.substr(0,_+1)+m)}if(_=m,_==".."||_==".")m="";else if(ht(_,"./")||ht(_,"/.")){m=_.lastIndexOf("/",0)==0,_=_.split("/");for(var S=[],k=0;k<_.length;){var O=_[k++];O=="."?m&&k==_.length&&S.push(""):O==".."?((1<S.length||S.length==1&&S[0]!="")&&S.pop(),m&&k==_.length&&S.push("")):(S.push(O),m=!0)}m=S.join("/")}else m=_}return p?l.c=m:p=i.b.toString()!=="",p?Os(l,Pf(i.b)):p=!!i.h,p&&(l.h=i.h),l};function qa(i,l,p){i.f=p?ao(l,!0):l,i.f&&(i.f=i.f.replace(/:$/,""))}function Ga(i,l){if(l){if(l=Number(l),isNaN(l)||0>l)throw Error("Bad port number "+l);i.g=l}else i.g=null}function Os(i,l,p){l instanceof ri?(i.b=l,Id(i.b,i.i)):(p||(l=Tl(l,Qn)),i.b=new ri(l,i.i))}function Gt(i,l,p){i.b.set(l,p)}function hn(i,l){return i.b.get(l)}function Sr(i){return i instanceof so?new so(i):new so(i,void 0)}function Ho(i,l,p,m){var _=new so(null,void 0);return i&&qa(_,i),l&&(_.a=l),p&&Ga(_,p),m&&(_.c=m),_}function ao(i,l){return i?l?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function Tl(i,l,p){return typeof i=="string"?(i=encodeURI(i).replace(l,ym),p&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function ym(i){return i=i.charCodeAt(0),"%"+(i>>4&15).toString(16)+(i&15).toString(16)}var bm=/[#\/\?@]/g,$0=/[#\?:]/g,uo=/[#\?]/g,Qn=/[#\?@]/g,Q0=/#/g;function ri(i,l){this.b=this.a=null,this.c=i||null,this.f=!!l}function zo(i){i.a||(i.a=new Ba,i.b=0,i.c&&mm(i.c,function(l,p){i.add(decodeURIComponent(l.replace(/\+/g," ")),p)}))}function wm(i){var l=gm(i);if(typeof l>"u")throw Error("Keys are undefined");var p=new ri(null,void 0);i=Rf(i);for(var m=0;m<l.length;m++){var _=l[m],S=i[m];Array.isArray(S)?Of(p,_,S):p.add(_,S)}return p}t=ri.prototype,t.add=function(i,l){zo(this),this.c=null,i=Ko(this,i);var p=this.a.get(i);return p||this.a.set(i,p=[]),p.push(l),this.b+=1,this};function Tr(i,l){zo(i),l=Ko(i,l),oo(i.a.b,l)&&(i.c=null,i.b-=i.a.get(l).length,i=i.a,oo(i.b,l)&&(delete i.b[l],i.c--,i.a.length>2*i.c&&_d(i)))}t.clear=function(){this.a=this.c=null,this.b=0};function Wa(i,l){return zo(i),l=Ko(i,l),oo(i.a.b,l)}t.forEach=function(i,l){zo(this),this.a.forEach(function(p,m){rt(p,function(_){i.call(l,_,m,this)},this)},this)},t.Y=function(){zo(this);for(var i=this.a.V(),l=this.a.Y(),p=[],m=0;m<l.length;m++)for(var _=i[m],S=0;S<_.length;S++)p.push(l[m]);return p},t.V=function(i){zo(this);var l=[];if(typeof i=="string")Wa(this,i)&&(l=dt(l,this.a.get(Ko(this,i))));else{i=this.a.V();for(var p=0;p<i.length;p++)l=dt(l,i[p])}return l},t.set=function(i,l){return zo(this),this.c=null,i=Ko(this,i),Wa(this,i)&&(this.b-=this.a.get(i).length),this.a.set(i,[l]),this.b+=1,this},t.get=function(i,l){return i?(i=this.V(i),0<i.length?String(i[0]):l):l};function Of(i,l,p){Tr(i,l),0<p.length&&(i.c=null,i.a.set(Ko(i,l),ft(p)),i.b+=p.length)}t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var i=[],l=this.a.Y(),p=0;p<l.length;p++){var m=l[p],_=encodeURIComponent(String(m));m=this.V(m);for(var S=0;S<m.length;S++){var k=_;m[S]!==""&&(k+="="+encodeURIComponent(String(m[S]))),i.push(k)}}return this.c=i.join("&")};function Pf(i){var l=new ri;return l.c=i.c,i.a&&(l.a=new Ba(i.a),l.b=i.b),l}function Ko(i,l){return l=String(l),i.f&&(l=l.toLowerCase()),l}function Id(i,l){l&&!i.f&&(zo(i),i.c=null,i.a.forEach(function(p,m){var _=m.toLowerCase();m!=_&&(Tr(this,m),Of(this,_,p))},i)),i.f=l}function Ur(i){var l=[];return Sd(new _m,i,l),l.join("")}function _m(){}function Sd(i,l,p){if(l==null)p.push("null");else{if(typeof l=="object"){if(Array.isArray(l)){var m=l;l=m.length,p.push("[");for(var _="",S=0;S<l;S++)p.push(_),Sd(i,m[S],p),_=",";p.push("]");return}if(l instanceof String||l instanceof Number||l instanceof Boolean)l=l.valueOf();else{p.push("{"),_="";for(m in l)Object.prototype.hasOwnProperty.call(l,m)&&(S=l[m],typeof S!="function"&&(p.push(_),lo(m,p),p.push(":"),Sd(i,S,p),_=","));p.push("}");return}}switch(typeof l){case"string":lo(l,p);break;case"number":p.push(isFinite(l)&&!isNaN(l)?String(l):"null");break;case"boolean":p.push(String(l));break;case"function":p.push("null");break;default:throw Error("Unknown type: "+typeof l)}}}var Ha={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\u000b"},Ps=/\uffff/.test("￿")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function lo(i,l){l.push('"',i.replace(Ps,function(p){var m=Ha[p];return m||(m="\\u"+(p.charCodeAt(0)|65536).toString(16).substr(1),Ha[p]=m),m}),'"')}function Df(){var i=rn();return Mr&&!!Zi&&Zi==11||/Edge\/\d+/.test(i)}function za(){return d.window&&d.window.location.href||self&&self.location&&self.location.href||""}function Td(i,l){l=l||d.window;var p="about:blank";i&&(p=bf(tm(i))),l.location.href=p}function Em(i,l){var p=[],m;for(m in i)m in l?typeof i[m]!=typeof l[m]?p.push(m):typeof i[m]=="object"&&i[m]!=null&&l[m]!=null?0<Em(i[m],l[m]).length&&p.push(m):i[m]!==l[m]&&p.push(m):p.push(m);for(m in l)m in i||p.push(m);return p}function Lf(){var i=rn();return i=Ka(i)!=Cd?null:(i=i.match(/\sChrome\/(\d+)/i))&&i.length==2?parseInt(i[1],10):null,i&&30>i?!1:!Mr||!Zi||9<Zi}function Mf(i){return i=(i||rn()).toLowerCase(),!!(i.match(/android/)||i.match(/webos/)||i.match(/iphone|ipad|ipod/)||i.match(/blackberry/)||i.match(/windows phone/)||i.match(/iemobile/))}function co(i){i=i||d.window;try{i.close()}catch{}}function Wt(i,l,p){var m=Math.floor(1e9*Math.random()).toString();l=l||500,p=p||600;var _=(window.screen.availHeight-p)/2,S=(window.screen.availWidth-l)/2;l={width:l,height:p,top:0<_?_:0,left:0<S?S:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},p=rn().toLowerCase(),m&&(l.target=m,ht(p,"crios/")&&(l.target="_blank")),Ka(rn())==jf&&(i=i||"http://localhost",l.scrollbars=!0),p=i||"",(i=l)||(i={}),m=window,l=p instanceof Xn?p:tm(typeof p.href<"u"?p.href:String(p)),p=i.target||p.target,_=[];for(k in i)switch(k){case"width":case"height":case"top":case"left":_.push(k+"="+i[k]);break;case"target":case"noopener":case"noreferrer":break;default:_.push(k+"="+(i[k]?1:0))}var k=_.join(",");if((F("iPhone")&&!F("iPod")&&!F("iPad")||F("iPad")||F("iPod"))&&m.navigator&&m.navigator.standalone&&p&&p!="_self"?(k=Pa(document,"A"),at(k,"HTMLAnchorElement"),l instanceof Xn||l instanceof Xn||(l=typeof l=="object"&&l.sa?l.ra():String(l),rd.test(l)||(l="about:invalid#zClosurez"),l=new Xn(id,l)),k.href=bf(l),k.setAttribute("target",p),i.noreferrer&&k.setAttribute("rel","noreferrer"),i=document.createEvent("MouseEvent"),i.initMouseEvent("click",!0,!0,m,1),k.dispatchEvent(i),k={}):i.noreferrer?(k=m.open("",p,k),i=bf(l),k&&(Oa&&ht(i,";")&&(i="'"+i.replace(/'/g,"%27")+"'"),k.opener=null,i=Ei('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Qi(i)+'">'),m=k.document)&&(m.write(Na(i)),m.close())):(k=m.open(bf(l),p,k))&&i.noopener&&(k.opener=null),k)try{k.focus()}catch{}return k}function Yo(i){return new Ke(function(l){function p(){Va(2e3).then(function(){if(!i||i.closed)l();else return p()})}return p()})}var Ff=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ar=/^[^@]+@[^@]+$/;function Al(){var i=null;return new Ke(function(l){d.document.readyState=="complete"?l():(i=function(){l()},ja(window,"load",i))}).s(function(l){throw Mn(window,"load",i),l})}function Im(){return Ad(void 0)?Al().then(function(){return new Ke(function(i,l){var p=d.document,m=setTimeout(function(){l(Error("Cordova framework is not ready."))},1e3);p.addEventListener("deviceready",function(){clearTimeout(m),i()},!1)})}):wt(Error("Cordova must run in an Android or iOS file scheme."))}function Ad(i){return i=i||rn(),!(Xo()!=="file:"&&Xo()!=="ionic:"||!i.toLowerCase().match(/iphone|ipad|ipod|android/))}function Cl(){var i=d.window;try{return!(!i||i==i.top)}catch{return!1}}function ar(){return typeof d.WorkerGlobalScope<"u"&&typeof d.importScripts=="function"}function ii(){return Z.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":Z.INTERNAL.hasOwnProperty("node")?"Node":ar()?"Worker":"Browser"}function Uf(){var i=ii();return i==="ReactNative"||i==="Node"}function Sm(){for(var i=50,l=[];0<i;)l.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),i--;return l.join("")}var jf="Firefox",Cd="Chrome";function Ka(i){var l=i.toLowerCase();if(ht(l,"opera/")||ht(l,"opr/")||ht(l,"opios/"))return"Opera";if(ht(l,"iemobile"))return"IEMobile";if(ht(l,"msie")||ht(l,"trident/"))return"IE";if(ht(l,"edge/"))return"Edge";if(ht(l,"firefox/"))return jf;if(ht(l,"silk/"))return"Silk";if(ht(l,"blackberry"))return"Blackberry";if(ht(l,"webos"))return"Webos";if(!ht(l,"safari/")||ht(l,"chrome/")||ht(l,"crios/")||ht(l,"android"))if(!ht(l,"chrome/")&&!ht(l,"crios/")||ht(l,"edge/")){if(ht(l,"android"))return"Android";if((i=i.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&i.length==2)return i[1]}else return Cd;else return"Safari";return"Other"}var Vf={ld:"FirebaseCore-web",nd:"FirebaseUI-web"};function Ds(i,l){l=l||[];var p=[],m={},_;for(_ in Vf)m[Vf[_]]=!0;for(_=0;_<l.length;_++)typeof m[l[_]]<"u"&&(delete m[l[_]],p.push(l[_]));return p.sort(),l=p,l.length||(l=["FirebaseCore-web"]),p=ii(),p==="Browser"?(m=rn(),p=Ka(m)):p==="Worker"&&(m=rn(),p=Ka(m)+"-"+p),p+"/JsCore/"+i+"/"+l.join(",")}function rn(){return d.navigator&&d.navigator.userAgent||""}function Tt(i,l){i=i.split("."),l=l||d;for(var p=0;p<i.length&&typeof l=="object"&&l!=null;p++)l=l[i[p]];return p!=i.length&&(l=void 0),l}function kl(){try{var i=d.localStorage,l=oi();if(i)return i.setItem(l,"1"),i.removeItem(l),Df()?!!d.indexedDB:!0}catch{return ar()&&!!d.indexedDB}return!1}function Ii(){return(Bf()||Xo()==="chrome-extension:"||Ad())&&!Uf()&&kl()&&!ar()}function Bf(){return Xo()==="http:"||Xo()==="https:"}function Xo(){return d.location&&d.location.protocol||null}function Ya(i){return i=i||rn(),!(Mf(i)||Ka(i)==jf)}function Xa(i){return typeof i>"u"?null:Ur(i)}function Ht(i){var l={},p;for(p in i)i.hasOwnProperty(p)&&i[p]!==null&&i[p]!==void 0&&(l[p]=i[p]);return l}function jr(i){if(i!==null)return JSON.parse(i)}function oi(i){return i||Math.floor(1e9*Math.random()).toString()}function Si(i){return i=i||rn(),!(Ka(i)=="Safari"||i.toLowerCase().match(/iphone|ipad|ipod/))}function kd(){var i=d.___jsl;if(i&&i.H){for(var l in i.H)if(i.H[l].r=i.H[l].r||[],i.H[l].L=i.H[l].L||[],i.H[l].r=i.H[l].L.concat(),i.CP)for(var p=0;p<i.CP.length;p++)i.CP[p]=null}}function fo(i,l){if(i>l)throw Error("Short delay should be less than long delay!");this.a=i,this.c=l,i=rn(),l=ii(),this.b=Mf(i)||l==="ReactNative"}fo.prototype.get=function(){var i=d.navigator;return!(i&&typeof i.onLine=="boolean"&&(Bf()||Xo()==="chrome-extension:"||typeof i.connection<"u"))||i.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};function xl(){var i=d.document;return i&&typeof i.visibilityState<"u"?i.visibilityState=="visible":!0}function Ut(){var i=d.document,l=null;return xl()||!i?_e():new Ke(function(p){l=function(){xl()&&(i.removeEventListener("visibilitychange",l,!1),p())},i.addEventListener("visibilitychange",l,!1)}).s(function(p){throw i.removeEventListener("visibilitychange",l,!1),p})}function Ls(i){typeof console<"u"&&typeof console.warn=="function"&&console.warn(i)}function $a(i){try{var l=new Date(parseInt(i,10));if(!isNaN(l.getTime())&&!/[^0-9]/.test(i))return l.toUTCString()}catch{}return null}function qf(){return!(!Tt("fireauth.oauthhelper",d)&&!Tt("fireauth.iframe",d))}function Tm(){var i=d.navigator;return i&&i.serviceWorker&&i.serviceWorker.controller||null}function Ms(){var i=d.navigator;return i&&i.serviceWorker?_e().then(function(){return i.serviceWorker.ready}).then(function(l){return l.active||null}).s(function(){return null}):_e(null)}var Am={};function Gf(i){Am[i]||(Am[i]=!0,Ls(i))}var Wf;try{var Hf={};Object.defineProperty(Hf,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Hf,"abcd",{configurable:!0,enumerable:!0,value:2}),Wf=Hf.abcd==2}catch{Wf=!1}function me(i,l,p){Wf?Object.defineProperty(i,l,{configurable:!0,enumerable:!0,value:p}):i[l]=p}function Jn(i,l){if(l)for(var p in l)l.hasOwnProperty(p)&&me(i,p,l[p])}function ho(i){var l={};return Jn(l,i),l}function Qa(i){var l={},p;for(p in i)i.hasOwnProperty(p)&&(l[p]=i[p]);return l}function Cm(i,l){if(!l||!l.length)return!0;if(!i)return!1;for(var p=0;p<l.length;p++){var m=i[l[p]];if(m==null||m==="")return!1}return!0}function zf(i){var l=i;if(typeof i=="object"&&i!=null){l="length"in i?[]:{};for(var p in i)me(l,p,zf(i[p]))}return l}function $o(i){var l=i&&(i[Rd]?"phone":null);if(l&&i&&i[Nd]){me(this,"uid",i[Nd]),me(this,"displayName",i[Ti]||null);var p=null;i[xd]&&(p=new Date(i[xd]).toUTCString()),me(this,"enrollmentTime",p),me(this,"factorId",l)}else throw new P("internal-error","Internal assert: invalid MultiFactorInfo object")}$o.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};function Ja(i){try{var l=new Vr(i)}catch{l=null}return l}var Ti="displayName",xd="enrolledAt",Nd="mfaEnrollmentId",Rd="phoneInfo";function Vr(i){$o.call(this,i),me(this,"phoneNumber",i[Rd])}z(Vr,$o),Vr.prototype.w=function(){var i=Vr.$a.w.call(this);return i.phoneNumber=this.phoneNumber,i};function Nl(i){var l={},p=i[km],m=i[Ol],_=i[xm];if(i=Ja(i[Kf]),!_||_!=Rl&&_!=eu&&!p||_==eu&&!m||_==Za&&!i)throw Error("Invalid checkActionCode response!");_==eu?(l[Nm]=p||null,l[Rm]=p||null,l[Pl]=m):(l[Nm]=m||null,l[Rm]=m||null,l[Pl]=p||null),l[J0]=i||null,me(this,Z0,_),me(this,Yf,zf(l))}var Za="REVERT_SECOND_FACTOR_ADDITION",Rl="EMAIL_SIGNIN",eu="VERIFY_AND_CHANGE_EMAIL",km="email",Kf="mfaInfo",Ol="newEmail",xm="requestType",Pl="email",Nm="fromEmail",J0="multiFactorInfo",Rm="previousEmail",Yf="data",Z0="operation";function Od(i){i=Sr(i);var l=hn(i,Xf)||null,p=hn(i,tu)||null,m=hn(i,Pm)||null;if(m=m&&Ld[m]||null,!l||!p||!m)throw new P("argument-error",Xf+", "+tu+"and "+Pm+" are required in a valid action code URL.");Jn(this,{apiKey:l,operation:m,code:p,continueUrl:hn(i,Pd)||null,languageCode:hn(i,Om)||null,tenantId:hn(i,Dd)||null})}var Xf="apiKey",tu="oobCode",Pd="continueUrl",Om="languageCode",Pm="mode",Dd="tenantId",Ld={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:Za,signIn:Rl,verifyAndChangeEmail:eu,verifyEmail:"VERIFY_EMAIL"};function $f(i){try{return new Od(i)}catch{return null}}function nu(i){var l=i[Dm];if(typeof l>"u")throw new P("missing-continue-uri");if(typeof l!="string"||typeof l=="string"&&!l.length)throw new P("invalid-continue-uri");this.h=l,this.b=this.a=null,this.g=!1;var p=i[Dl];if(p&&typeof p=="object"){l=p[Ud];var m=p[Jf];if(p=p[ru],typeof l=="string"&&l.length){if(this.a=l,typeof m<"u"&&typeof m!="boolean")throw new P("argument-error",Jf+" property must be a boolean when specified.");if(this.g=!!m,typeof p<"u"&&(typeof p!="string"||typeof p=="string"&&!p.length))throw new P("argument-error",ru+" property must be a non empty string when specified.");this.b=p||null}else{if(typeof l<"u")throw new P("argument-error",Ud+" property must be a non empty string when specified.");if(typeof m<"u"||typeof p<"u")throw new P("missing-android-pkg-name")}}else if(typeof p<"u")throw new P("argument-error",Dl+" property must be a non null object when specified.");if(this.f=null,(l=i[Fd])&&typeof l=="object"){if(l=l[jd],typeof l=="string"&&l.length)this.f=l;else if(typeof l<"u")throw new P("argument-error",jd+" property must be a non empty string when specified.")}else if(typeof l<"u")throw new P("argument-error",Fd+" property must be a non null object when specified.");if(l=i[Qf],typeof l<"u"&&typeof l!="boolean")throw new P("argument-error",Qf+" property must be a boolean when specified.");if(this.c=!!l,i=i[Md],typeof i<"u"&&(typeof i!="string"||typeof i=="string"&&!i.length))throw new P("argument-error",Md+" property must be a non empty string when specified.");this.i=i||null}var Dl="android",Md="dynamicLinkDomain",Qf="handleCodeInApp",Fd="iOS",Dm="url",Jf="installApp",ru="minimumVersion",Ud="packageName",jd="bundleId";function Fs(i){var l={};l.continueUrl=i.h,l.canHandleCodeInApp=i.c,(l.androidPackageName=i.a)&&(l.androidMinimumVersion=i.b,l.androidInstallApp=i.g),l.iOSBundleId=i.f,l.dynamicLinkDomain=i.i;for(var p in l)l[p]===null&&delete l[p];return l}function Vd(i){return cn(i,function(l){return l=l.toString(16),1<l.length?l:"0"+l}).join("")}var po=null;function Us(i){var l="";return ew(i,function(p){l+=String.fromCharCode(p)}),l}function ew(i,l){function p(Y){for(;m<i.length;){var ee=i.charAt(m++),Pe=po[ee];if(Pe!=null)return Pe;if(!/^[\s\xa0]*$/.test(ee))throw Error("Unknown base64 encoding at char: "+ee)}return Y}Lm();for(var m=0;;){var _=p(-1),S=p(0),k=p(64),O=p(64);if(O===64&&_===-1)break;l(_<<2|S>>4),k!=64&&(l(S<<4&240|k>>2),O!=64&&l(k<<6&192|O))}}function Lm(){if(!po){po={};for(var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),l=["+/=","+/","-_=","-_.","-_"],p=0;5>p;p++)for(var m=i.concat(l[p].split("")),_=0;_<m.length;_++){var S=m[_];po[S]===void 0&&(po[S]=_)}}}function Zf(i){var l=Mm(i);if(!(l&&l.sub&&l.iss&&l.aud&&l.exp))throw Error("Invalid JWT");this.g=i,this.c=l.exp,this.h=l.sub,this.a=l.provider_id||l.firebase&&l.firebase.sign_in_provider||null,this.f=l.firebase&&l.firebase.tenant||null,this.b=!!l.is_anonymous||this.a=="anonymous"}Zf.prototype.S=function(){return this.f},Zf.prototype.i=function(){return this.b},Zf.prototype.toString=function(){return this.g};function Ll(i){try{return new Zf(i)}catch{return null}}function Mm(i){if(!i||(i=i.split("."),i.length!=3))return null;i=i[1];for(var l=(4-i.length%4)%4,p=0;p<l;p++)i+=".";try{return JSON.parse(Us(i))}catch{}return null}var Fm="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Un=["client_id","response_type","scope","redirect_uri","state"],Ml={md:{Ja:"locale",ua:700,ta:600,fa:"facebook.com",Wa:Un},od:{Ja:null,ua:500,ta:750,fa:"github.com",Wa:Un},pd:{Ja:"hl",ua:515,ta:680,fa:"google.com",Wa:Un},vd:{Ja:"lang",ua:485,ta:705,fa:"twitter.com",Wa:Fm},jd:{Ja:"locale",ua:640,ta:600,fa:"apple.com",Wa:[]}};function Fl(i){for(var l in Ml)if(Ml[l].fa==i)return Ml[l];return null}function Ul(i){var l={};l["facebook.com"]=jl,l["google.com"]=js,l["github.com"]=qd,l["twitter.com"]=th;var p=i&&i[vo];try{if(p)return l[p]?new l[p](i):new Br(i);if(typeof i[Bd]<"u")return new eh(i)}catch{}return null}var Bd="idToken",vo="providerId";function eh(i){var l=i[vo];if(!l&&i[Bd]){var p=Ll(i[Bd]);p&&p.a&&(l=p.a)}if(!l)throw Error("Invalid additional user info!");(l=="anonymous"||l=="custom")&&(l=null),p=!1,typeof i.isNewUser<"u"?p=!!i.isNewUser:i.kind==="identitytoolkit#SignupNewUserResponse"&&(p=!0),me(this,"providerId",l),me(this,"isNewUser",p)}function Br(i){eh.call(this,i),i=jr(i.rawUserInfo||"{}"),me(this,"profile",zf(i||{}))}z(Br,eh);function jl(i){if(Br.call(this,i),this.providerId!="facebook.com")throw Error("Invalid provider ID!")}z(jl,Br);function qd(i){if(Br.call(this,i),this.providerId!="github.com")throw Error("Invalid provider ID!");me(this,"username",this.profile&&this.profile.login||null)}z(qd,Br);function js(i){if(Br.call(this,i),this.providerId!="google.com")throw Error("Invalid provider ID!")}z(js,Br);function th(i){if(Br.call(this,i),this.providerId!="twitter.com")throw Error("Invalid provider ID!");me(this,"username",i.screenName||null)}z(th,Br);function Gd(i){var l=Sr(i),p=hn(l,"link"),m=hn(Sr(p),"link");return l=hn(l,"deep_link_id"),hn(Sr(l),"link")||l||m||p||i}function Vl(i,l){if(!i&&!l)throw new P("internal-error","Internal assert: no raw session string available");if(i&&l)throw new P("internal-error","Internal assert: unable to determine the session type");this.a=i||null,this.b=l||null,this.type=this.a?iu:Bl}var iu="enroll",Bl="signin";Vl.prototype.Ha=function(){return this.a?_e(this.a):_e(this.b)},Vl.prototype.w=function(){return this.type==iu?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}};function ou(){}ou.prototype.ja=function(){},ou.prototype.b=function(){},ou.prototype.c=function(){},ou.prototype.w=function(){};function go(i,l){return i.then(function(p){if(p[ui]){var m=Ll(p[ui]);if(!m||l!=m.h)throw new P("user-mismatch");return p}throw new P("user-mismatch")}).s(function(p){throw p&&p.code&&p.code==Ae+"user-not-found"?new P("user-mismatch"):p})}function qr(i,l){if(l)this.a=l;else throw new P("internal-error","failed to construct a credential");me(this,"providerId",i),me(this,"signInMethod",i)}qr.prototype.ja=function(i){return av(i,nh(this))},qr.prototype.b=function(i,l){var p=nh(this);return p.idToken=l,bh(i,p)},qr.prototype.c=function(i,l){return go(Ys(i,nh(this)),l)};function nh(i){return{pendingToken:i.a,requestUri:"http://localhost"}}qr.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}};function Um(i){if(i&&i.providerId&&i.signInMethod&&i.providerId.indexOf("saml.")==0&&i.pendingToken)try{return new qr(i.providerId,i.pendingToken)}catch{}return null}function ur(i,l,p){if(this.a=null,l.idToken||l.accessToken)l.idToken&&me(this,"idToken",l.idToken),l.accessToken&&me(this,"accessToken",l.accessToken),l.nonce&&!l.pendingToken&&me(this,"nonce",l.nonce),l.pendingToken&&(this.a=l.pendingToken);else if(l.oauthToken&&l.oauthTokenSecret)me(this,"accessToken",l.oauthToken),me(this,"secret",l.oauthTokenSecret);else throw new P("internal-error","failed to construct a credential");me(this,"providerId",i),me(this,"signInMethod",p)}ur.prototype.ja=function(i){return av(i,su(this))},ur.prototype.b=function(i,l){var p=su(this);return p.idToken=l,bh(i,p)},ur.prototype.c=function(i,l){var p=su(this);return go(Ys(i,p),l)};function su(i){var l={};return i.idToken&&(l.id_token=i.idToken),i.accessToken&&(l.access_token=i.accessToken),i.secret&&(l.oauth_token_secret=i.secret),l.providerId=i.providerId,i.nonce&&!i.a&&(l.nonce=i.nonce),l={postBody:wm(l).toString(),requestUri:"http://localhost"},i.a&&(delete l.postBody,l.pendingToken=i.a),l}ur.prototype.w=function(){var i={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(i.oauthIdToken=this.idToken),this.accessToken&&(i.oauthAccessToken=this.accessToken),this.secret&&(i.oauthTokenSecret=this.secret),this.nonce&&(i.nonce=this.nonce),this.a&&(i.pendingToken=this.a),i};function jm(i){if(i&&i.providerId&&i.signInMethod){var l={idToken:i.oauthIdToken,accessToken:i.oauthTokenSecret?null:i.oauthAccessToken,oauthTokenSecret:i.oauthTokenSecret,oauthToken:i.oauthTokenSecret&&i.oauthAccessToken,nonce:i.nonce,pendingToken:i.pendingToken};try{return new ur(i.providerId,l,i.signInMethod)}catch{}}return null}function Qo(i,l){this.Pc=l||[],Jn(this,{providerId:i,isOAuthProvider:!0}),this.Hb={},this.ob=(Fl(i)||{}).Ja||null,this.nb=null}Qo.prototype.Ka=function(i){return this.Hb=ve(i),this};function Wd(i){if(typeof i!="string"||i.indexOf("saml.")!=0)throw new P("argument-error",'SAML provider IDs must be prefixed with "saml."');Qo.call(this,i,[])}z(Wd,Qo);function pn(i){Qo.call(this,i,Un),this.a=[]}z(pn,Qo),pn.prototype.Ca=function(i){return sr(this.a,i)||this.a.push(i),this},pn.prototype.Pb=function(){return ft(this.a)},pn.prototype.credential=function(i,l){var p;if(A(i)?p={idToken:i.idToken||null,accessToken:i.accessToken||null,nonce:i.rawNonce||null}:p={idToken:i||null,accessToken:l||null},!p.idToken&&!p.accessToken)throw new P("argument-error","credential failed: must provide the ID token and/or the access token.");return new ur(this.providerId,p,this.providerId)};function Jo(){pn.call(this,"facebook.com")}z(Jo,pn),me(Jo,"PROVIDER_ID","facebook.com"),me(Jo,"FACEBOOK_SIGN_IN_METHOD","facebook.com");function ql(i){if(!i)throw new P("argument-error","credential failed: expected 1 argument (the OAuth access token).");var l=i;return A(i)&&(l=i.accessToken),new Jo().credential({accessToken:l})}function Ai(){pn.call(this,"github.com")}z(Ai,pn),me(Ai,"PROVIDER_ID","github.com"),me(Ai,"GITHUB_SIGN_IN_METHOD","github.com");function Gl(i){if(!i)throw new P("argument-error","credential failed: expected 1 argument (the OAuth access token).");var l=i;return A(i)&&(l=i.accessToken),new Ai().credential({accessToken:l})}function Ci(){pn.call(this,"google.com"),this.Ca("profile")}z(Ci,pn),me(Ci,"PROVIDER_ID","google.com"),me(Ci,"GOOGLE_SIGN_IN_METHOD","google.com");function Wl(i,l){var p=i;return A(i)&&(p=i.idToken,l=i.accessToken),new Ci().credential({idToken:p,accessToken:l})}function mo(){Qo.call(this,"twitter.com",Fm)}z(mo,Qo),me(mo,"PROVIDER_ID","twitter.com"),me(mo,"TWITTER_SIGN_IN_METHOD","twitter.com");function Hl(i,l){var p=i;if(A(p)||(p={oauthToken:i,oauthTokenSecret:l}),!p.oauthToken||!p.oauthTokenSecret)throw new P("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new ur("twitter.com",p,"twitter.com")}function yo(i,l,p){this.a=i,this.f=l,me(this,"providerId","password"),me(this,"signInMethod",p===Cr.EMAIL_LINK_SIGN_IN_METHOD?Cr.EMAIL_LINK_SIGN_IN_METHOD:Cr.EMAIL_PASSWORD_SIGN_IN_METHOD)}yo.prototype.ja=function(i){return this.signInMethod==Cr.EMAIL_LINK_SIGN_IN_METHOD?Ve(i,wh,{email:this.a,oobCode:this.f}):Ve(i,fv,{email:this.a,password:this.f})},yo.prototype.b=function(i,l){return this.signInMethod==Cr.EMAIL_LINK_SIGN_IN_METHOD?Ve(i,_h,{idToken:l,email:this.a,oobCode:this.f}):Ve(i,cv,{idToken:l,email:this.a,password:this.f})},yo.prototype.c=function(i,l){return go(this.ja(i),l)},yo.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}};function Vm(i){return i&&i.email&&i.password?new yo(i.email,i.password,i.signInMethod):null}function Cr(){Jn(this,{providerId:"password",isOAuthProvider:!1})}function Hd(i,l){if(l=zd(l),!l)throw new P("argument-error","Invalid email link!");return new yo(i,l.code,Cr.EMAIL_LINK_SIGN_IN_METHOD)}function zd(i){return i=Gd(i),(i=$f(i))&&i.operation===Rl?i:null}Jn(Cr,{PROVIDER_ID:"password"}),Jn(Cr,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Jn(Cr,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"});function ki(i){if(!(i.cb&&i.bb||i.La&&i.ea))throw new P("internal-error");this.a=i,me(this,"providerId","phone"),this.fa="phone",me(this,"signInMethod","phone")}ki.prototype.ja=function(i){return i.eb(zl(this))},ki.prototype.b=function(i,l){var p=zl(this);return p.idToken=l,Ve(i,hv,p)},ki.prototype.c=function(i,l){var p=zl(this);return p.operation="REAUTH",i=Ve(i,Xs,p),go(i,l)},ki.prototype.w=function(){var i={providerId:"phone"};return this.a.cb&&(i.verificationId=this.a.cb),this.a.bb&&(i.verificationCode=this.a.bb),this.a.La&&(i.temporaryProof=this.a.La),this.a.ea&&(i.phoneNumber=this.a.ea),i};function Bm(i){if(i&&i.providerId==="phone"&&(i.verificationId&&i.verificationCode||i.temporaryProof&&i.phoneNumber)){var l={};return rt(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(p){i[p]&&(l[p]=i[p])}),new ki(l)}return null}function zl(i){return i.a.La&&i.a.ea?{temporaryProof:i.a.La,phoneNumber:i.a.ea}:{sessionInfo:i.a.cb,code:i.a.bb}}function xi(i){try{this.a=i||Z.auth()}catch{throw new P("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Jn(this,{providerId:"phone",isOAuthProvider:!1})}xi.prototype.eb=function(i,l){var p=this.a.a;return _e(l.verify()).then(function(m){if(typeof m!="string")throw new P("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(l.type){case"recaptcha":var _=A(i)?i.session:null,S=A(i)?i.phoneNumber:i,k;return _&&_.type==iu?k=_.Ha().then(function(O){return ye(p,{idToken:O,phoneEnrollmentInfo:{phoneNumber:S,recaptchaToken:m}})}):_&&_.type==Bl?k=_.Ha().then(function(O){return nc(p,{mfaPendingCredential:O,mfaEnrollmentId:i.multiFactorHint&&i.multiFactorHint.uid||i.multiFactorUid,phoneSignInInfo:{recaptchaToken:m}})}):k=ut(p,{phoneNumber:S,recaptchaToken:m}),k.then(function(O){return typeof l.reset=="function"&&l.reset(),O},function(O){throw typeof l.reset=="function"&&l.reset(),O});default:throw new P("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})};function au(i,l){if(!i)throw new P("missing-verification-id");if(!l)throw new P("missing-verification-code");return new ki({cb:i,bb:l})}Jn(xi,{PROVIDER_ID:"phone"}),Jn(xi,{PHONE_SIGN_IN_METHOD:"phone"});function uu(i){if(i.temporaryProof&&i.phoneNumber)return new ki({La:i.temporaryProof,ea:i.phoneNumber});var l=i&&i.providerId;if(!l||l==="password")return null;var p=i&&i.oauthAccessToken,m=i&&i.oauthTokenSecret,_=i&&i.nonce,S=i&&i.oauthIdToken,k=i&&i.pendingToken;try{switch(l){case"google.com":return Wl(S,p);case"facebook.com":return ql(p);case"github.com":return Gl(p);case"twitter.com":return Hl(p,m);default:return p||m||S||k?k?l.indexOf("saml.")==0?new qr(l,k):new ur(l,{pendingToken:k,idToken:i.oauthIdToken,accessToken:i.oauthAccessToken},l):new pn(l).credential({idToken:S,accessToken:p,rawNonce:_}):null}}catch{return null}}function lu(i){if(!i.isOAuthProvider)throw new P("invalid-oauth-provider")}function lr(i,l,p,m,_,S,k){if(this.c=i,this.b=l||null,this.g=p||null,this.f=m||null,this.i=S||null,this.h=k||null,this.a=_||null,this.g||this.a){if(this.g&&this.a)throw new P("invalid-auth-event");if(this.g&&!this.f)throw new P("invalid-auth-event")}else throw new P("invalid-auth-event")}lr.prototype.getUid=function(){var i=[];return i.push(this.c),this.b&&i.push(this.b),this.f&&i.push(this.f),this.h&&i.push(this.h),i.join("-")},lr.prototype.S=function(){return this.h},lr.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};function rh(i){return i=i||{},i.type?new lr(i.type,i.eventId,i.urlResponse,i.sessionId,i.error&&Be(i.error),i.postBody,i.tenantId):null}function Kd(){this.b=null,this.a=[]}var Zo=null;function qm(i){var l=Zo;l.a.push(i),l.b||(l.b=function(p){for(var m=0;m<l.a.length;m++)l.a[m](p)},i=Tt("universalLinks.subscribe",d),typeof i=="function"&&i(null,l.b))}function ih(i){var l="unauthorized-domain",p=void 0,m=Sr(i);i=m.a,m=m.f,m=="chrome-extension"?p=om("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",i):m=="http"||m=="https"?p=om("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",i):l="operation-not-supported-in-this-environment",P.call(this,l,p)}z(ih,P);function Vs(i,l,p){P.call(this,i,p),i=l||{},i.Ib&&me(this,"email",i.Ib),i.ea&&me(this,"phoneNumber",i.ea),i.credential&&me(this,"credential",i.credential),i.Yb&&me(this,"tenantId",i.Yb)}z(Vs,P),Vs.prototype.w=function(){var i={code:this.code,message:this.message};this.email&&(i.email=this.email),this.phoneNumber&&(i.phoneNumber=this.phoneNumber),this.tenantId&&(i.tenantId=this.tenantId);var l=this.credential&&this.credential.w();return l&&Ue(i,l),i},Vs.prototype.toJSON=function(){return this.w()};function cu(i){if(i.code){var l=i.code||"";l.indexOf(Ae)==0&&(l=l.substring(Ae.length));var p={credential:uu(i),Yb:i.tenantId};if(i.email)p.Ib=i.email;else if(i.phoneNumber)p.ea=i.phoneNumber;else if(!p.credential)return new P(l,i.message||void 0);return new Vs(l,p,i.message)}return null}function si(){}si.prototype.c=null;function fu(i){return i.c||(i.c=i.b())}var es;function ts(){}z(ts,si),ts.prototype.a=function(){var i=Bs(this);return i?new ActiveXObject(i):new XMLHttpRequest},ts.prototype.b=function(){var i={};return Bs(this)&&(i[0]=!0,i[1]=!0),i};function Bs(i){if(!i.f&&typeof XMLHttpRequest>"u"&&typeof ActiveXObject<"u"){for(var l=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],p=0;p<l.length;p++){var m=l[p];try{return new ActiveXObject(m),i.f=m}catch{}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return i.f}es=new ts;function Tn(){}z(Tn,si),Tn.prototype.a=function(){var i=new XMLHttpRequest;if("withCredentials"in i)return i;if(typeof XDomainRequest<"u")return new qs;throw Error("Unsupported browser")},Tn.prototype.b=function(){return{}};function qs(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=L(this.pc,this),this.a.onerror=L(this.Rb,this),this.a.onprogress=L(this.qc,this),this.a.ontimeout=L(this.uc,this)}t=qs.prototype,t.open=function(i,l,p){if(p!=null&&!p)throw Error("Only async requests are supported.");this.a.open(i,l)},t.send=function(i){if(i)if(typeof i=="string")this.a.send(i);else throw Error("Only string data is supported");else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(i){return i.toLowerCase()=="content-type"?this.a.contentType:""},t.pc=function(){this.status=200,this.response=this.responseText=this.a.responseText,oh(this,4)},t.Rb=function(){this.status=500,this.response=this.responseText="",oh(this,4)},t.uc=function(){this.Rb()},t.qc=function(){this.status=200,oh(this,1)};function oh(i,l){i.readyState=l,i.onreadystatechange&&i.onreadystatechange()}t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType};function Gr(i,l,p){this.reset(i,l,p,void 0,void 0)}Gr.prototype.a=null,Gr.prototype.reset=function(i,l,p,m,_){delete this.a};function Wr(i){this.f=i,this.b=this.c=this.a=null}function hu(i,l){this.name=i,this.value=l}hu.prototype.toString=function(){return this.name};var sh=new hu("SEVERE",1e3),Yd=new hu("WARNING",900),tw=new hu("CONFIG",700),nw=new hu("FINE",500);function Gm(i){return i.c?i.c:i.a?Gm(i.a):(Ce("Root logger has no level set."),null)}Wr.prototype.log=function(i,l,p){if(i.value>=Gm(this).value)for(x(l)&&(l=l()),i=new Gr(i,String(l),this.f),p&&(i.a=p),p=this;p;)p=p.a};var Kl={},_t=null;function Yl(i){_t||(_t=new Wr(""),Kl[""]=_t,_t.c=tw);var l;if(!(l=Kl[i])){l=new Wr(i);var p=i.lastIndexOf("."),m=i.substr(p+1);p=Yl(i.substr(0,p)),p.b||(p.b={}),p.b[m]=l,l.a=p,Kl[i]=l}return l}function cr(i,l){i&&i.log(nw,l,void 0)}function pu(i){this.f=i}z(pu,si),pu.prototype.a=function(){return new ah(this.f)},pu.prototype.b=function(i){return function(){return i}}({});function ah(i){Fn.call(this),this.o=i,this.readyState=uh,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.i=new Headers,this.b=null,this.m="GET",this.g="",this.a=!1,this.h=Yl("goog.net.FetchXmlHttp"),this.l=this.c=this.f=null}z(ah,Fn);var uh=0;t=ah.prototype,t.open=function(i,l){if(this.readyState!=uh)throw this.abort(),Error("Error reopening a connection");this.m=i,this.g=l,this.readyState=1,ns(this)},t.send=function(i){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.a=!0;var l={headers:this.i,method:this.m,credentials:void 0,cache:void 0};i&&(l.body=i),this.o.fetch(new Request(this.g,l)).then(this.tc.bind(this),this.Ta.bind(this))},t.abort=function(){this.response=this.responseText="",this.i=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&this.readyState!=4&&(this.a=!1,du(this,!1)),this.readyState=uh},t.tc=function(i){this.a&&(this.f=i,this.b||(this.b=i.headers,this.readyState=2,ns(this)),this.a&&(this.readyState=3,ns(this),this.a&&(this.responseType==="arraybuffer"?i.arrayBuffer().then(this.rc.bind(this),this.Ta.bind(this)):typeof d.ReadableStream<"u"&&"body"in i?(this.response=this.responseText="",this.c=i.body.getReader(),this.l=new TextDecoder,Xd(this)):i.text().then(this.sc.bind(this),this.Ta.bind(this)))))};function Xd(i){i.c.read().then(i.oc.bind(i)).catch(i.Ta.bind(i))}t.oc=function(i){if(this.a){var l=this.l.decode(i.value?i.value:new Uint8Array(0),{stream:!i.done});l&&(this.response=this.responseText+=l),i.done?du(this,!0):ns(this),this.readyState==3&&Xd(this)}},t.sc=function(i){this.a&&(this.response=this.responseText=i,du(this,!0))},t.rc=function(i){this.a&&(this.response=i,du(this,!0))},t.Ta=function(i){var l=this.h;l&&l.log(Yd,"Failed to fetch url "+this.g,i instanceof Error?i:Error(i)),this.a&&du(this,!0)};function du(i,l){l&&i.f&&(i.status=i.f.status,i.statusText=i.f.statusText),i.readyState=4,i.f=null,i.c=null,i.l=null,ns(i)}t.setRequestHeader=function(i,l){this.i.append(i,l)},t.getResponseHeader=function(i){return this.b?this.b.get(i.toLowerCase())||"":((i=this.h)&&i.log(Yd,"Attempting to get response header but no headers have been received for url: "+this.g,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var i=this.h;return i&&i.log(Yd,"Attempting to get all response headers but no headers have been received for url: "+this.g,void 0),""}i=[];for(var l=this.b.entries(),p=l.next();!p.done;)p=p.value,i.push(p[0]+": "+p[1]),p=l.next();return i.join(`\r
`)};function ns(i){i.onreadystatechange&&i.onreadystatechange.call(i)}function ai(i){Fn.call(this),this.headers=new Ba,this.O=i||null,this.c=!1,this.A=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.G=!1,this.g=0,this.o=null,this.m=$d,this.u=this.R=!1}z(ai,Fn);var $d="";ai.prototype.b=Yl("goog.net.XhrIo");var Wm=/^https?$/i,Hm=["POST","PUT"];function Zn(i,l,p,m,_){if(i.a)throw Error("[goog.net.XhrIo] Object is active with another request="+i.l+"; newUri="+l);p=p?p.toUpperCase():"GET",i.l=l,i.h="",i.P=p,i.G=!1,i.c=!0,i.a=i.O?i.O.a():es.a(),i.A=i.O?fu(i.O):fu(es),i.a.onreadystatechange=L(i.Ub,i);try{cr(i.b,zt(i,"Opening Xhr")),i.N=!0,i.a.open(p,String(l),!0),i.N=!1}catch(k){cr(i.b,zt(i,"Error opening Xhr: "+k.message)),Qd(i,k);return}l=m||"";var S=new Ba(i.headers);_&&X0(_,function(k,O){S.set(O,k)}),_=Ss(S.Y()),m=d.FormData&&l instanceof d.FormData,!sr(Hm,p)||_||m||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),S.forEach(function(k,O){this.a.setRequestHeader(O,k)},i),i.m&&(i.a.responseType=i.m),"withCredentials"in i.a&&i.a.withCredentials!==i.R&&(i.a.withCredentials=i.R);try{Gs(i),0<i.g&&(i.u=Xl(i.a),cr(i.b,zt(i,"Will abort after "+i.g+"ms if incomplete, xhr2 "+i.u)),i.u?(i.a.timeout=i.g,i.a.ontimeout=L(i.Ma,i)):i.o=Sl(i.Ma,i.g,i)),cr(i.b,zt(i,"Sending request")),i.i=!0,i.a.send(l),i.i=!1}catch(k){cr(i.b,zt(i,"Send error: "+k.message)),Qd(i,k)}}function Xl(i){return Mr&&Ji(9)&&typeof i.timeout=="number"&&i.ontimeout!==void 0}function zm(i){return i.toLowerCase()=="content-type"}t=ai.prototype,t.Ma=function(){typeof h<"u"&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",cr(this.b,zt(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))};function Qd(i,l){i.c=!1,i.a&&(i.f=!0,i.a.abort(),i.f=!1),i.h=l,lh(i),$l(i)}function lh(i){i.G||(i.G=!0,i.dispatchEvent("complete"),i.dispatchEvent("error"))}t.abort=function(){this.a&&this.c&&(cr(this.b,zt(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),$l(this))},t.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),$l(this,!0)),ai.$a.Da.call(this)},t.Ub=function(){this.xa||(this.N||this.i||this.f?Jd(this):this.Ic())},t.Ic=function(){Jd(this)};function Jd(i){if(i.c&&typeof h<"u"){if(i.A[1]&&Ql(i)==4&&Ws(i)==2)cr(i.b,zt(i,"Local request error detected and ignored"));else if(i.i&&Ql(i)==4)Sl(i.Ub,0,i);else if(i.dispatchEvent("readystatechange"),Ql(i)==4){cr(i.b,zt(i,"Request complete")),i.c=!1;try{var l=Ws(i);e:switch(l){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var m;if(!(m=p)){var _;if(_=l===0){var S=String(i.l).match(Ed)[1]||null;if(!S&&d.self&&d.self.location){var k=d.self.location.protocol;S=k.substr(0,k.length-1)}_=!Wm.test(S?S.toLowerCase():"")}m=_}if(m)i.dispatchEvent("complete"),i.dispatchEvent("success");else{try{var O=2<Ql(i)?i.a.statusText:""}catch(Y){cr(i.b,"Can not get status: "+Y.message),O=""}i.h=O+" ["+Ws(i)+"]",lh(i)}}finally{$l(i)}}}}function $l(i,l){if(i.a){Gs(i);var p=i.a,m=i.A[0]?E:null;i.a=null,i.A=null,l||i.dispatchEvent("ready");try{p.onreadystatechange=m}catch(_){(i=i.b)&&i.log(sh,"Problem encountered resetting onreadystatechange: "+_.message,void 0)}}}function Gs(i){i.a&&i.u&&(i.a.ontimeout=null),i.o&&(d.clearTimeout(i.o),i.o=null)}function Ql(i){return i.a?i.a.readyState:0}function Ws(i){try{return 2<Ql(i)?i.a.status:-1}catch{return-1}}function ch(i){try{return i.a?i.a.responseText:""}catch(l){return cr(i.b,"Can not get responseText: "+l.message),""}}t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case $d:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var i=this.b;return i&&i.log(sh,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(l){return cr(this.b,"Can not get response: "+l.message),null}};function zt(i,l){return l+" ["+i.P+" "+i.l+" "+Ws(i)+"]"}function Hr(i){var l=rw;this.g=[],this.u=l,this.o=i||null,this.f=this.a=!1,this.c=void 0,this.m=this.A=this.i=!1,this.h=0,this.b=null,this.l=0}Hr.prototype.cancel=function(i){if(this.a)this.c instanceof Hr&&this.c.cancel();else{if(this.b){var l=this.b;delete this.b,i?l.cancel(i):(l.l--,0>=l.l&&l.cancel())}this.u?this.u.call(this.o,this):this.m=!0,this.a||(i=new Zl,Jl(this),bo(this,!1,i))}},Hr.prototype.v=function(i,l){this.i=!1,bo(this,i,l)};function bo(i,l,p){i.a=!0,i.c=p,i.f=!l,Ym(i)}function Jl(i){if(i.a){if(!i.m)throw new hh;i.m=!1}}function Km(i,l){fh(i,null,l,void 0)}function fh(i,l,p,m){i.g.push([l,p,m]),i.a&&Ym(i)}Hr.prototype.then=function(i,l,p){var m,_,S=new Ke(function(k,O){m=k,_=O});return fh(this,m,function(k){k instanceof Zl?S.cancel():_(k)}),S.then(i,l,p)},Hr.prototype.$goog_Thenable=!0;function rs(i){return Is(i.g,function(l){return x(l[1])})}function Ym(i){if(i.h&&i.a&&rs(i)){var l=i.h,p=ph[l];p&&(d.clearTimeout(p.a),delete ph[l]),i.h=0}i.b&&(i.b.l--,delete i.b),l=i.c;for(var m=p=!1;i.g.length&&!i.i;){var _=i.g.shift(),S=_[0],k=_[1];if(_=_[2],S=i.f?k:S)try{var O=S.call(_||i.o,l);O!==void 0&&(i.f=i.f&&(O==l||O instanceof Error),i.c=l=O),(he(l)||typeof d.Promise=="function"&&l instanceof d.Promise)&&(m=!0,i.i=!0)}catch(Y){l=Y,i.f=!0,rs(i)||(p=!0)}}i.c=l,m&&(O=L(i.v,i,!0),m=L(i.v,i,!1),l instanceof Hr?(fh(l,O,m),l.A=!0):l.then(O,m)),p&&(l=new Xm(l),ph[l.a]=l,i.h=l.a)}function hh(){te.call(this)}z(hh,te),hh.prototype.message="Deferred has already fired",hh.prototype.name="AlreadyCalledError";function Zl(){te.call(this)}z(Zl,te),Zl.prototype.message="Deferred was canceled",Zl.prototype.name="CanceledError";function Xm(i){this.a=d.setTimeout(L(this.c,this),0),this.b=i}Xm.prototype.c=function(){throw delete ph[this.a],this.b};var ph={};function dh(i){var l={},p=l.document||document,m=_i(i).toString(),_=Pa(document,"SCRIPT"),S={Vb:_,Ma:void 0},k=new Hr(S),O=null,Y=l.timeout!=null?l.timeout:5e3;return 0<Y&&(O=window.setTimeout(function(){vh(_,!0);var ee=new Rt(Qm,"Timeout reached for loading script "+m);Jl(k),bo(k,!1,ee)},Y),S.Ma=O),_.onload=_.onreadystatechange=function(){_.readyState&&_.readyState!="loaded"&&_.readyState!="complete"||(vh(_,l.wd||!1,O),Jl(k),bo(k,!0,null))},_.onerror=function(){vh(_,!0,O);var ee=new Rt(Zd,"Error while loading script "+m);Jl(k),bo(k,!1,ee)},S=l.attributes||{},Ue(S,{type:"text/javascript",charset:"UTF-8"}),um(_,S),Ra(_,i),$m(p).appendChild(_),k}function $m(i){var l;return(l=(i||document).getElementsByTagName("HEAD"))&&l.length!=0?l[0]:i.documentElement}function rw(){if(this&&this.Vb){var i=this.Vb;i&&i.tagName=="SCRIPT"&&vh(i,!0,this.Ma)}}function vh(i,l,p){p!=null&&d.clearTimeout(p),i.onload=E,i.onerror=E,i.onreadystatechange=E,l&&window.setTimeout(function(){i&&i.parentNode&&i.parentNode.removeChild(i)},0)}var Zd=0,Qm=1;function Rt(i,l){var p="Jsloader error (code #"+i+")";l&&(p+=": "+l),te.call(this,p),this.code=i}z(Rt,te);function At(i){this.f=i}z(At,si),At.prototype.a=function(){return new this.f},At.prototype.b=function(){return{}};function zr(i,l,p){if(this.c=i,i=l||{},this.l=i.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.v=i.secureTokenTimeout||iw,this.g=ve(i.secureTokenHeaders||ev),this.h=i.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=i.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.m=i.firebaseTimeout||Jm,this.a=ve(i.firebaseHeaders||tv),p&&(this.a["X-Client-Version"]=p,this.g["X-Client-Version"]=p),p=ii()=="Node",p=d.XMLHttpRequest||p&&Z.INTERNAL.node&&Z.INTERNAL.node.XMLHttpRequest,!p&&!ar())throw new P("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,ar()?this.f=new pu(self):Uf()?this.f=new At(p):this.f=new Tn,this.b=null}var is,ui="idToken",iw=new fo(3e4,6e4),ev={"Content-Type":"application/x-www-form-urlencoded"},Jm=new fo(3e4,6e4),tv={"Content-Type":"application/json"};function nv(i,l){l?i.a["X-Firebase-Locale"]=l:delete i.a["X-Firebase-Locale"]}function Hs(i,l){l&&(i.l=zs("https://securetoken.googleapis.com/v1/token",l),i.h=zs("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",l),i.i=zs("https://identitytoolkit.googleapis.com/v2/",l))}function zs(i,l){return i=Sr(i),l=Sr(l.url),i.c=i.a+i.c,qa(i,l.f),i.a=l.a,Ga(i,l.g),i.toString()}function Zm(i,l){l?(i.a["X-Client-Version"]=l,i.g["X-Client-Version"]=l):(delete i.a["X-Client-Version"],delete i.g["X-Client-Version"])}zr.prototype.S=function(){return this.b};function gh(i,l,p,m,_,S,k){Lf()||ar()?i=L(i.u,i):(is||(is=new Ke(function(O,Y){iv(O,Y)})),i=L(i.o,i)),i(l,p,m,_,S,k)}zr.prototype.u=function(i,l,p,m,_,S){if(ar()&&(typeof d.fetch>"u"||typeof d.Headers>"u"||typeof d.Request>"u"))throw new P("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var k=new ai(this.f);if(S){k.g=Math.max(0,S);var O=setTimeout(function(){k.dispatchEvent("timeout")},S)}vm(k,"complete",function(){O&&clearTimeout(O);var Y=null;try{Y=JSON.parse(ch(this))||null}catch{Y=null}l&&l(Y)}),wd(k,"ready",function(){O&&clearTimeout(O),dd(this)}),wd(k,"timeout",function(){O&&clearTimeout(O),dd(this),l&&l(null)}),Zn(k,i,p,m,_)};var rv=new Qe(Nt,"https://apis.google.com/js/client.js?onload=%{onload}"),Ks="__fcb"+Math.floor(1e6*Math.random()).toString();function iv(i,l){if(((window.gapi||{}).client||{}).request)i();else{d[Ks]=function(){((window.gapi||{}).client||{}).request?i():l(Error("CORS_UNSUPPORTED"))};var p=gl(rv,{onload:Ks});Km(dh(p),function(){l(Error("CORS_UNSUPPORTED"))})}}zr.prototype.o=function(i,l,p,m,_){var S=this;is.then(function(){window.gapi.client.setApiKey(S.c);var k=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:i,method:p,body:m,headers:_,authType:"none",callback:function(O){window.gapi.auth.setToken(k),l&&l(O)}})}).s(function(k){l&&l({error:{message:k&&k.message||"CORS_UNSUPPORTED"}})})};function mh(i,l){return new Ke(function(p,m){l.grant_type=="refresh_token"&&l.refresh_token||l.grant_type=="authorization_code"&&l.code?gh(i,i.l+"?key="+encodeURIComponent(i.c),function(_){_?_.error?m(Ct(_)):_.access_token&&_.refresh_token?p(_):m(new P("internal-error")):m(new P("network-request-failed"))},"POST",wm(l).toString(),i.g,i.v.get()):m(new P("internal-error"))})}function yh(i,l,p,m,_,S,k){var O=Sr(l+p);Gt(O,"key",i.c),k&&Gt(O,"cb",X().toString());var Y=m=="GET";if(Y)for(var ee in _)_.hasOwnProperty(ee)&&Gt(O,ee,_[ee]);return new Ke(function(Pe,mt){gh(i,O.toString(),function(pt){pt?pt.error?mt(Ct(pt,S||{})):Pe(pt):mt(new P("network-request-failed"))},m,Y?void 0:Ur(Ht(_)),i.a,i.m.get())})}function wo(i){if(i=i.email,typeof i!="string"||!Ar.test(i))throw new P("invalid-email")}function ey(i){"email"in i&&wo(i)}function ow(i,l){return Ve(i,ry,{identifier:l,continueUri:Bf()?za():"http://localhost"}).then(function(p){return p.signinMethods||[]})}function ec(i){return Ve(i,ay,{}).then(function(l){return l.authorizedDomains||[]})}function on(i){if(!i[ui])throw i.mfaPendingCredential?new P("multi-factor-auth-required",null,ve(i)):new P("internal-error")}function tc(i){if(i.phoneNumber||i.temporaryProof){if(!i.phoneNumber||!i.temporaryProof)throw new P("internal-error")}else{if(!i.sessionInfo)throw new P("missing-verification-id");if(!i.code)throw new P("missing-verification-code")}}zr.prototype.yb=function(){return Ve(this,cy,{})},zr.prototype.Ab=function(i,l){return Ve(this,lv,{idToken:i,email:l})},zr.prototype.Bb=function(i,l){return Ve(this,cv,{idToken:i,password:l})};var ty={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};t=zr.prototype,t.Cb=function(i,l){var p={idToken:i},m=[];return G(ty,function(_,S){var k=l[S];k===null?m.push(_):S in l&&(p[S]=k)}),m.length&&(p.deleteAttribute=m),Ve(this,lv,p)},t.ub=function(i,l){return i={requestType:"PASSWORD_RESET",email:i},Ue(i,l),Ve(this,uv,i)},t.vb=function(i,l){return i={requestType:"EMAIL_SIGNIN",email:i},Ue(i,l),Ve(this,yu,i)},t.tb=function(i,l){return i={requestType:"VERIFY_EMAIL",idToken:i},Ue(i,l),Ve(this,sy,i)},t.Db=function(i,l,p){return i={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:i,newEmail:l},Ue(i,p),Ve(this,ic,i)};function ut(i,l){return Ve(i,ly,l)}t.eb=function(i){return Ve(this,Ih,i)};function ye(i,l){return Ve(i,fy,l).then(function(p){return p.phoneSessionInfo.sessionInfo})}function ov(i){if(!i.phoneVerificationInfo)throw new P("internal-error");if(!i.phoneVerificationInfo.sessionInfo)throw new P("missing-verification-id");if(!i.phoneVerificationInfo.code)throw new P("missing-verification-code")}function nc(i,l){return Ve(i,bu,l).then(function(p){return p.phoneResponseInfo.sessionInfo})}function Ni(i,l,p){return Ve(i,gu,{idToken:l,deleteProvider:p})}function Kr(i){if(!i.requestUri||!i.sessionId&&!i.postBody&&!i.pendingToken)throw new P("internal-error")}function Qt(i,l){return l.oauthIdToken&&l.providerId&&l.providerId.indexOf("oidc.")==0&&!l.pendingToken&&(i.sessionId?l.nonce=i.sessionId:i.postBody&&(i=new ri(i.postBody),Wa(i,"nonce")&&(l.nonce=i.get("nonce")))),l}function sv(i){var l=null;if(i.needConfirmation?(i.code="account-exists-with-different-credential",l=cu(i)):i.errorMessage=="FEDERATED_USER_ID_ALREADY_LINKED"?(i.code="credential-already-in-use",l=cu(i)):i.errorMessage=="EMAIL_EXISTS"?(i.code="email-already-in-use",l=cu(i)):i.errorMessage&&(l=Sh(i.errorMessage)),l)throw l;on(i)}function av(i,l){return l.returnIdpCredential=!0,Ve(i,Eh,l)}function bh(i,l){return l.returnIdpCredential=!0,Ve(i,uw,l)}function Ys(i,l){return l.returnIdpCredential=!0,l.autoCreate=!1,Ve(i,hy,l)}function rc(i){if(!i.oobCode)throw new P("invalid-action-code")}t.mb=function(i,l){return Ve(this,uy,{oobCode:i,newPassword:l})},t.Qa=function(i){return Ve(this,vu,{oobCode:i})},t.ib=function(i){return Ve(this,sw,{oobCode:i})};var sw={endpoint:"setAccountInfo",B:rc,Z:"email",C:!0},vu={endpoint:"resetPassword",B:rc,F:function(i){var l=i.requestType;if(!l||!i.email&&l!="EMAIL_SIGNIN"&&l!="VERIFY_AND_CHANGE_EMAIL")throw new P("internal-error")},C:!0},ny={endpoint:"signupNewUser",B:function(i){if(wo(i),!i.password)throw new P("weak-password")},F:on,U:!0,C:!0},ry={endpoint:"createAuthUri",C:!0},iy={endpoint:"deleteAccount",M:["idToken"]},gu={endpoint:"setAccountInfo",M:["idToken","deleteProvider"],B:function(i){if(I(i.deleteProvider)!="array")throw new P("internal-error")}},wh={endpoint:"emailLinkSignin",M:["email","oobCode"],B:wo,F:on,U:!0,C:!0},_h={endpoint:"emailLinkSignin",M:["idToken","email","oobCode"],B:wo,F:on,U:!0},aw={endpoint:"accounts/mfaEnrollment:finalize",M:["idToken","phoneVerificationInfo"],B:ov,F:on,C:!0,Na:!0},mu={endpoint:"accounts/mfaSignIn:finalize",M:["mfaPendingCredential","phoneVerificationInfo"],B:ov,F:on,C:!0,Na:!0},oy={endpoint:"getAccountInfo"},yu={endpoint:"getOobConfirmationCode",M:["requestType"],B:function(i){if(i.requestType!="EMAIL_SIGNIN")throw new P("internal-error");wo(i)},Z:"email",C:!0},sy={endpoint:"getOobConfirmationCode",M:["idToken","requestType"],B:function(i){if(i.requestType!="VERIFY_EMAIL")throw new P("internal-error")},Z:"email",C:!0},ic={endpoint:"getOobConfirmationCode",M:["idToken","newEmail","requestType"],B:function(i){if(i.requestType!="VERIFY_AND_CHANGE_EMAIL")throw new P("internal-error")},Z:"email",C:!0},uv={endpoint:"getOobConfirmationCode",M:["requestType"],B:function(i){if(i.requestType!="PASSWORD_RESET")throw new P("internal-error");wo(i)},Z:"email",C:!0},ay={kb:!0,endpoint:"getProjectConfig",Tb:"GET"},oc={kb:!0,endpoint:"getRecaptchaParam",Tb:"GET",F:function(i){if(!i.recaptchaSiteKey)throw new P("internal-error")}},uy={endpoint:"resetPassword",B:rc,Z:"email",C:!0},ly={endpoint:"sendVerificationCode",M:["phoneNumber","recaptchaToken"],Z:"sessionInfo",C:!0},lv={endpoint:"setAccountInfo",M:["idToken"],B:ey,U:!0},cv={endpoint:"setAccountInfo",M:["idToken"],B:function(i){if(ey(i),!i.password)throw new P("weak-password")},F:on,U:!0},cy={endpoint:"signupNewUser",F:on,U:!0,C:!0},fy={endpoint:"accounts/mfaEnrollment:start",M:["idToken","phoneEnrollmentInfo"],B:function(i){if(!i.phoneEnrollmentInfo)throw new P("internal-error");if(!i.phoneEnrollmentInfo.phoneNumber)throw new P("missing-phone-number");if(!i.phoneEnrollmentInfo.recaptchaToken)throw new P("missing-app-credential")},F:function(i){if(!i.phoneSessionInfo||!i.phoneSessionInfo.sessionInfo)throw new P("internal-error")},C:!0,Na:!0},bu={endpoint:"accounts/mfaSignIn:start",M:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],B:function(i){if(!i.phoneSignInInfo||!i.phoneSignInInfo.recaptchaToken)throw new P("missing-app-credential")},F:function(i){if(!i.phoneResponseInfo||!i.phoneResponseInfo.sessionInfo)throw new P("internal-error")},C:!0,Na:!0},Eh={endpoint:"verifyAssertion",B:Kr,Xa:Qt,F:sv,U:!0,C:!0},hy={endpoint:"verifyAssertion",B:Kr,Xa:Qt,F:function(i){if(i.errorMessage&&i.errorMessage=="USER_NOT_FOUND")throw new P("user-not-found");if(i.errorMessage)throw Sh(i.errorMessage);on(i)},U:!0,C:!0},uw={endpoint:"verifyAssertion",B:function(i){if(Kr(i),!i.idToken)throw new P("internal-error")},Xa:Qt,F:sv,U:!0},py={endpoint:"verifyCustomToken",B:function(i){if(!i.token)throw new P("invalid-custom-token")},F:on,U:!0,C:!0},fv={endpoint:"verifyPassword",B:function(i){if(wo(i),!i.password)throw new P("wrong-password")},F:on,U:!0,C:!0},Ih={endpoint:"verifyPhoneNumber",B:tc,F:on,C:!0},hv={endpoint:"verifyPhoneNumber",B:function(i){if(!i.idToken)throw new P("internal-error");tc(i)},F:function(i){if(i.temporaryProof)throw i.code="credential-already-in-use",cu(i);on(i)}},Xs={Gb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",B:tc,F:on,C:!0},Je={endpoint:"accounts/mfaEnrollment:withdraw",M:["idToken","mfaEnrollmentId"],F:function(i){if(!!i[ui]^!!i.refreshToken)throw new P("internal-error")},C:!0,Na:!0};function Ve(i,l,p){if(!Cm(p,l.M))return wt(new P("internal-error"));var m=!!l.Na,_=l.Tb||"POST",S;return _e(p).then(l.B).then(function(){return l.U&&(p.returnSecureToken=!0),l.C&&i.b&&typeof p.tenantId>"u"&&(p.tenantId=i.b),m?yh(i,i.i,l.endpoint,_,p,l.Gb,l.kb||!1):yh(i,i.h,l.endpoint,_,p,l.Gb,l.kb||!1)}).then(function(k){return S=k,l.Xa?l.Xa(p,S):S}).then(l.F).then(function(){if(!l.Z)return S;if(!(l.Z in S))throw new P("internal-error");return S[l.Z]})}function Sh(i){return Ct({error:{errors:[{message:i}],code:400,message:i}})}function Ct(i,l){var p=(i.error&&i.error.errors&&i.error.errors[0]||{}).reason||"",m={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(p=m[p]?new P(m[p]):null)return p;p=i.error&&i.error.message||"",m={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},Ue(m,l||{}),l=(l=p.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<l.length?l[1]:void 0;for(var _ in m)if(p.indexOf(_)===0)return new P(m[_],l);return!l&&i&&(l=Xa(i)),new P("internal-error",l)}function wu(i){this.b=i,this.a=null,this.qb=sc(this)}function sc(i){return _u().then(function(){return new Ke(function(l,p){Tt("gapi.iframes.getContext")().open({where:document.body,url:i.b,messageHandlersFilter:Tt("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(m){function _(){clearTimeout(S),l()}i.a=m,i.a.restyle({setHideOnLeave:!1});var S=setTimeout(function(){p(Error("Network Error"))},dn.get());m.ping(_).then(_,function(){p(Error("Network Error"))})})})})}function lw(i,l){return i.qb.then(function(){return new Ke(function(p){i.a.send(l.type,l,p,Tt("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}function cw(i,l){i.qb.then(function(){i.a.register("authEvent",l,Tt("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}var Ot=new Qe(Nt,"https://apis.google.com/js/api.js?onload=%{onload}"),kr=new fo(3e4,6e4),dn=new fo(5e3,15e3),_o=null;function _u(){return _o||(_o=new Ke(function(i,l){function p(){kd(),Tt("gapi.load")("gapi.iframes",{callback:i,ontimeout:function(){kd(),l(Error("Network Error"))},timeout:kr.get()})}if(Tt("gapi.iframes.Iframe"))i();else if(Tt("gapi.load"))p();else{var m="__iframefcb"+Math.floor(1e6*Math.random()).toString();d[m]=function(){Tt("gapi.load")?p():l(Error("Network Error"))},m=gl(Ot,{onload:m}),_e(dh(m)).s(function(){l(Error("Network Error"))})}}).s(function(i){throw _o=null,i}))}function er(i,l,p,m){this.l=i,this.h=l,this.i=p,this.g=m,this.f=null,this.g?(i=Sr(this.g.url),i=Ho(i.f,i.a,i.g,"/emulator/auth/iframe")):i=Ho("https",this.l,null,"/__/auth/iframe"),this.a=i,Gt(this.a,"apiKey",this.h),Gt(this.a,"appName",this.i),this.b=null,this.c=[]}er.prototype.toString=function(){return this.f?Gt(this.a,"v",this.f):Tr(this.a.b,"v"),this.b?Gt(this.a,"eid",this.b):Tr(this.a.b,"eid"),this.c.length?Gt(this.a,"fw",this.c.join(",")):Tr(this.a.b,"fw"),this.a.toString()};function ac(i,l,p,m,_,S){this.u=i,this.o=l,this.c=p,this.v=m,this.m=S,this.i=this.g=this.l=null,this.a=_,this.h=this.f=null}ac.prototype.xb=function(i){return this.h=i,this},ac.prototype.toString=function(){if(this.m){var i=Sr(this.m.url);i=Ho(i.f,i.a,i.g,"/emulator/auth/handler")}else i=Ho("https",this.u,null,"/__/auth/handler");if(Gt(i,"apiKey",this.o),Gt(i,"appName",this.c),Gt(i,"authType",this.v),this.a.isOAuthProvider){var l=this.a;try{var p=Z.app(this.c).auth().ka()}catch{p=null}l.nb=p,Gt(i,"providerId",this.a.providerId),p=this.a,l=Ht(p.Hb);for(var m in l)l[m]=l[m].toString();m=p.Pc,l=ve(l);for(var _=0;_<m.length;_++){var S=m[_];S in l&&delete l[S]}p.ob&&p.nb&&!l[p.ob]&&(l[p.ob]=p.nb),V(l)||Gt(i,"customParameters",Xa(l))}if(typeof this.a.Pb=="function"&&(p=this.a.Pb(),p.length&&Gt(i,"scopes",p.join(","))),this.l?Gt(i,"redirectUrl",this.l):Tr(i.b,"redirectUrl"),this.g?Gt(i,"eventId",this.g):Tr(i.b,"eventId"),this.i?Gt(i,"v",this.i):Tr(i.b,"v"),this.b)for(var k in this.b)this.b.hasOwnProperty(k)&&!hn(i,k)&&Gt(i,k,this.b[k]);return this.h?Gt(i,"tid",this.h):Tr(i.b,"tid"),this.f?Gt(i,"eid",this.f):Tr(i.b,"eid"),k=Th(this.c),k.length&&Gt(i,"fw",k.join(",")),i.toString()};function Th(i){try{return Z.app(i).auth().Ga()}catch{return[]}}function Yr(i,l,p,m,_,S){this.o=i,this.g=l,this.b=p,this.f=S,this.c=m||null,this.i=_||null,this.l=this.u=this.A=null,this.h=[],this.v=this.a=null}function pv(i){var l=za();return ec(i).then(function(p){e:{var m=Sr(l),_=m.f;m=m.a;for(var S=0;S<p.length;S++){var k=p[S],O=m,Y=_;if(k.indexOf("chrome-extension://")==0?O=Sr(k).a==O&&Y=="chrome-extension":Y!="http"&&Y!="https"?O=!1:Ff.test(k)?O=O==k:(k=k.split(".").join("\\."),O=new RegExp("^(.+\\."+k+"|"+k+")$","i").test(O)),O){p=!0;break e}}p=!1}if(!p)throw new ih(za())})}function dv(i){return i.v||(i.v=Al().then(function(){if(!i.u){var l=i.c,p=i.i,m=Th(i.b),_=new er(i.o,i.g,i.b,i.f);_.f=l,_.b=p,_.c=ft(m||[]),i.u=_.toString()}i.m=new wu(i.u),Cn(i)})),i.v}t=Yr.prototype,t.Nb=function(i,l,p){var m=new P("popup-closed-by-user"),_=new P("web-storage-unsupported"),S=this,k=!1;return this.la().then(function(){Eu(S).then(function(O){O||(i&&co(i),l(_),k=!0)})}).s(function(){}).then(function(){if(!k)return Yo(i)}).then(function(){if(!k)return Va(p).then(function(){l(m)})})},t.Wb=function(){var i=rn();return!Ya(i)&&!Si(i)},t.Sb=function(){return!1},t.Lb=function(i,l,p,m,_,S,k,O){if(!i)return wt(new P("popup-blocked"));if(k&&!Ya())return this.la().s(function(ee){co(i),_(ee)}),m(),_e();this.a||(this.a=pv(vv(this)));var Y=this;return this.a.then(function(){var ee=Y.la().s(function(Pe){throw co(i),_(Pe),Pe});return m(),ee}).then(function(){if(lu(p),!k){var ee=An(Y.o,Y.g,Y.b,l,p,null,S,Y.c,void 0,Y.i,O,Y.f);Td(ee,i)}}).s(function(ee){throw ee.code=="auth/network-request-failed"&&(Y.a=null),ee})};function vv(i){return i.l||(i.A=i.c?Ds(i.c,Th(i.b)):null,i.l=new zr(i.g,re(i.i),i.A),i.f&&Hs(i.l,i.f)),i.l}t.Mb=function(i,l,p,m){this.a||(this.a=pv(vv(this)));var _=this;return this.a.then(function(){lu(l);var S=An(_.o,_.g,_.b,i,l,za(),p,_.c,void 0,_.i,m,_.f);Td(S)}).s(function(S){throw S.code=="auth/network-request-failed"&&(_.a=null),S})},t.la=function(){var i=this;return dv(this).then(function(){return i.m.qb}).s(function(){throw i.a=null,new P("network-request-failed")})},t.Zb=function(){return!0};function An(i,l,p,m,_,S,k,O,Y,ee,Pe,mt){return i=new ac(i,l,p,m,_,mt),i.l=S,i.g=k,i.i=O,i.b=ve(Y||null),i.f=ee,i.xb(Pe).toString()}function Cn(i){if(!i.m)throw Error("IfcHandler must be initialized!");cw(i.m,function(l){var p={};if(l&&l.authEvent){var m=!1;for(l=rh(l.authEvent),p=0;p<i.h.length;p++)m=i.h[p](l)||m;return p={},p.status=m?"ACK":"ERROR",_e(p)}return p.status="ERROR",_e(p)})}function Eu(i){var l={type:"webStorageSupport"};return dv(i).then(function(){return lw(i.m,l)}).then(function(p){if(p&&p.length&&typeof p[0].webStorageSupport<"u")return p[0].webStorageSupport;throw Error()})}t.Ea=function(i){this.h.push(i)},t.Ra=function(i){$e(this.h,function(l){return l==i})};function gv(i){if(this.a=i||Z.INTERNAL.reactNative&&Z.INTERNAL.reactNative.AsyncStorage,!this.a)throw new P("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}t=gv.prototype,t.get=function(i){return _e(this.a.getItem(i)).then(function(l){return l&&jr(l)})},t.set=function(i,l){return _e(this.a.setItem(i,Xa(l)))},t.T=function(i){return _e(this.a.removeItem(i))},t.ca=function(){},t.ia=function(){};function mv(i){this.b=i,this.a={},this.f=L(this.c,this)}var yv=[];function dy(){var i=ar()?self:null;if(rt(yv,function(p){p.b==i&&(l=p)}),!l){var l=new mv(i);yv.push(l)}return l}mv.prototype.c=function(i){var l=i.data.eventType,p=i.data.eventId,m=this.a[l];if(m&&0<m.length){i.ports[0].postMessage({status:"ack",eventId:p,eventType:l,response:null});var _=[];rt(m,function(S){_.push(_e().then(function(){return S(i.origin,i.data.data)}))}),hd(_).then(function(S){var k=[];rt(S,function(O){k.push({fulfilled:O.Ob,value:O.value,reason:O.reason?O.reason.message:void 0})}),rt(k,function(O){for(var Y in O)typeof O[Y]>"u"&&delete O[Y]}),i.ports[0].postMessage({status:"done",eventId:p,eventType:l,response:k})})}};function uc(i,l,p){V(i.a)&&i.b.addEventListener("message",i.f),typeof i.a[l]>"u"&&(i.a[l]=[]),i.a[l].push(p)}function Eo(i){this.a=i}Eo.prototype.postMessage=function(i,l){this.a.postMessage(i,l)};function Ah(i){this.c=i,this.b=!1,this.a=[]}function Ch(i,l,p,m){var _,S=p||{},k,O,Y,ee=null;if(i.b)return wt(Error("connection_unavailable"));var Pe=m?800:50,mt=typeof MessageChannel<"u"?new MessageChannel:null;return new Ke(function(pt,Bn){mt?(_=Math.floor(Math.random()*Math.pow(10,20)).toString(),mt.port1.start(),O=setTimeout(function(){Bn(Error("unsupported_event"))},Pe),k=function(fa){fa.data.eventId===_&&(fa.data.status==="ack"?(clearTimeout(O),Y=setTimeout(function(){Bn(Error("timeout"))},3e3)):fa.data.status==="done"?(clearTimeout(Y),typeof fa.data.response<"u"?pt(fa.data.response):Bn(Error("unknown_error"))):(clearTimeout(O),clearTimeout(Y),Bn(Error("invalid_response"))))},ee={messageChannel:mt,onMessage:k},i.a.push(ee),mt.port1.addEventListener("message",k),i.c.postMessage({eventType:l,eventId:_,data:S},[mt.port2])):Bn(Error("connection_unavailable"))}).then(function(pt){return bv(i,ee),pt}).s(function(pt){throw bv(i,ee),pt})}function bv(i,l){if(l){var p=l.messageChannel,m=l.onMessage;p&&(p.port1.removeEventListener("message",m),p.port1.close()),$e(i.a,function(_){return _==l})}}Ah.prototype.close=function(){for(;0<this.a.length;)bv(this,this.a[0]);this.b=!0};function wv(){if(!Rh())throw new P("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=d.indexedDB,this.type="indexedDB",this.g=this.l=this.f=this.i=null,this.o=!1,this.h=null;var i=this;ar()&&self?(this.l=dy(),uc(this.l,"keyChanged",function(l,p){return vy(i).then(function(m){return 0<m.length&&rt(i.a,function(_){_(m)}),{keyProcessed:sr(m,p.key)}})}),uc(this.l,"ping",function(){return _e(["keyChanged"])})):Ms().then(function(l){(i.h=l)&&(i.g=new Ah(new Eo(l)),Ch(i.g,"ping",null,!0).then(function(p){p[0].fulfilled&&sr(p[0].value,"keyChanged")&&(i.o=!0)}).s(function(){}))})}var kh;function xh(i){return new Ke(function(l,p){var m=i.m.deleteDatabase("firebaseLocalStorageDb");m.onsuccess=function(){l()},m.onerror=function(_){p(Error(_.target.error))}})}function Nh(i){return new Ke(function(l,p){var m=i.m.open("firebaseLocalStorageDb",1);m.onerror=function(_){try{_.preventDefault()}catch{}p(Error(_.target.error))},m.onupgradeneeded=function(_){_=_.target.result;try{_.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(S){p(S)}},m.onsuccess=function(_){_=_.target.result,_.objectStoreNames.contains("firebaseLocalStorage")?l(_):xh(i).then(function(){return Nh(i)}).then(function(S){l(S)}).s(function(S){p(S)})}})}function lc(i){return i.v||(i.v=Nh(i)),i.v}function Rh(){try{return!!d.indexedDB}catch{return!1}}function Iu(i){return i.objectStore("firebaseLocalStorage")}function cc(i,l){return i.transaction(["firebaseLocalStorage"],l?"readwrite":"readonly")}function os(i){return new Ke(function(l,p){i.onsuccess=function(m){m&&m.target?l(m.target.result):l()},i.onerror=function(m){p(m.target.error)}})}t=wv.prototype,t.set=function(i,l){var p=!1,m,_=this;return lc(this).then(function(S){return m=S,S=Iu(cc(m,!0)),os(S.get(i))}).then(function(S){var k=Iu(cc(m,!0));return S?(S.value=l,os(k.put(S))):(_.b++,p=!0,S={},S.fbase_key=i,S.value=l,os(k.add(S)))}).then(function(){return _.c[i]=l,Q(_,i)}).na(function(){p&&_.b--})};function Q(i,l){return i.g&&i.h&&Tm()===i.h?Ch(i.g,"keyChanged",{key:l},i.o).then(function(){}).s(function(){}):_e()}t.get=function(i){return lc(this).then(function(l){return os(Iu(cc(l,!1)).get(i))}).then(function(l){return l&&l.value})},t.T=function(i){var l=!1,p=this;return lc(this).then(function(m){return l=!0,p.b++,os(Iu(cc(m,!0)).delete(i))}).then(function(){return delete p.c[i],Q(p,i)}).na(function(){l&&p.b--})};function vy(i){return lc(i).then(function(l){var p=Iu(cc(l,!1));return p.getAll?os(p.getAll()):new Ke(function(m,_){var S=[],k=p.openCursor();k.onsuccess=function(O){(O=O.target.result)?(S.push(O.value),O.continue()):m(S)},k.onerror=function(O){_(O.target.error)}})}).then(function(l){var p={},m=[];if(i.b==0){for(m=0;m<l.length;m++)p[l[m].fbase_key]=l[m].value;m=Em(i.c,p),i.c=p}return m})}t.ca=function(i){this.a.length==0&&kt(this),this.a.push(i)},t.ia=function(i){$e(this.a,function(l){return l==i}),this.a.length==0&&Su(this)};function kt(i){function l(){i.f=setTimeout(function(){i.i=vy(i).then(function(p){0<p.length&&rt(i.a,function(m){m(p)})}).then(function(){l()}).s(function(p){p.message!="STOP_EVENT"&&l()})},800)}Su(i),l()}function Su(i){i.i&&i.i.cancel("STOP_EVENT"),i.f&&(clearTimeout(i.f),i.f=null)}function $s(i){var l=this,p=null;this.a=[],this.type="indexedDB",this.c=i,this.b=_e().then(function(){if(Rh()){var m=oi(),_="__sak"+m;return kh||(kh=new wv),p=kh,p.set(_,m).then(function(){return p.get(_)}).then(function(S){if(S!==m)throw Error("indexedDB not supported!");return p.T(_)}).then(function(){return p}).s(function(){return l.c})}return l.c}).then(function(m){return l.type=m.type,m.ca(function(_){rt(l.a,function(S){S(_)})}),m})}t=$s.prototype,t.get=function(i){return this.b.then(function(l){return l.get(i)})},t.set=function(i,l){return this.b.then(function(p){return p.set(i,l)})},t.T=function(i){return this.b.then(function(l){return l.T(i)})},t.ca=function(i){this.a.push(i)},t.ia=function(i){$e(this.a,function(l){return l==i})};function Tu(){this.a={},this.type="inMemory"}t=Tu.prototype,t.get=function(i){return _e(this.a[i])},t.set=function(i,l){return this.a[i]=l,_e()},t.T=function(i){return delete this.a[i],_e()},t.ca=function(){},t.ia=function(){};function fc(){if(!gy())throw ii()=="Node"?new P("internal-error","The LocalStorage compatibility library was not found."):new P("web-storage-unsupported");this.a=_v()||Z.INTERNAL.node.localStorage,this.type="localStorage"}function _v(){try{var i=d.localStorage,l=oi();return i&&(i.setItem(l,"1"),i.removeItem(l)),i}catch{return null}}function gy(){var i=ii()=="Node";if(i=_v()||i&&Z.INTERNAL.node&&Z.INTERNAL.node.localStorage,!i)return!1;try{return i.setItem("__sak","1"),i.removeItem("__sak"),!0}catch{return!1}}t=fc.prototype,t.get=function(i){var l=this;return _e().then(function(){var p=l.a.getItem(i);return jr(p)})},t.set=function(i,l){var p=this;return _e().then(function(){var m=Xa(l);m===null?p.T(i):p.a.setItem(i,m)})},t.T=function(i){var l=this;return _e().then(function(){l.a.removeItem(i)})},t.ca=function(i){d.window&&Fr(d.window,"storage",i)},t.ia=function(i){d.window&&Mn(d.window,"storage",i)};function Oh(){this.type="nullStorage"}t=Oh.prototype,t.get=function(){return _e(null)},t.set=function(){return _e()},t.T=function(){return _e()},t.ca=function(){},t.ia=function(){};function Ph(){if(!my())throw ii()=="Node"?new P("internal-error","The SessionStorage compatibility library was not found."):new P("web-storage-unsupported");this.a=Ev()||Z.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Ev(){try{var i=d.sessionStorage,l=oi();return i&&(i.setItem(l,"1"),i.removeItem(l)),i}catch{return null}}function my(){var i=ii()=="Node";if(i=Ev()||i&&Z.INTERNAL.node&&Z.INTERNAL.node.sessionStorage,!i)return!1;try{return i.setItem("__sak","1"),i.removeItem("__sak"),!0}catch{return!1}}t=Ph.prototype,t.get=function(i){var l=this;return _e().then(function(){var p=l.a.getItem(i);return jr(p)})},t.set=function(i,l){var p=this;return _e().then(function(){var m=Xa(l);m===null?p.T(i):p.a.setItem(i,m)})},t.T=function(i){var l=this;return _e().then(function(){l.a.removeItem(i)})},t.ca=function(){},t.ia=function(){};function yy(){var i={};i.Browser=by,i.Node=wy,i.ReactNative=_y,i.Worker=Ey,this.a=i[ii()]}var Dh,by={D:fc,ab:Ph},wy={D:fc,ab:Ph},_y={D:gv,ab:Oh},Ey={D:fc,ab:Oh},Qs={qd:"local",NONE:"none",sd:"session"};function Iy(i){var l=new P("invalid-persistence-type"),p=new P("unsupported-persistence-type");e:{for(m in Qs)if(Qs[m]==i){var m=!0;break e}m=!1}if(!m||typeof i!="string")throw l;switch(ii()){case"ReactNative":if(i==="session")throw p;break;case"Node":if(i!=="none")throw p;break;case"Worker":if(i==="session"||!Rh()&&i!=="none")throw p;break;default:if(!kl()&&i!=="none")throw p}}function Iv(){var i=!!(!Si(rn())&&Cl()),l=Ya(),p=kl();this.v=i,this.h=l,this.l=p,this.a={},Dh||(Dh=new yy),i=Dh;try{this.g=!Df()&&qf()||!d.indexedDB?new i.a.D:new $s(ar()?new Tu:new i.a.D)}catch{this.g=new Tu,this.h=!0}try{this.i=new i.a.ab}catch{this.i=new Tu}this.m=new Tu,this.f=L(this.Xb,this),this.b={}}var Lh;function Au(){return Lh||(Lh=new Iv),Lh}function ss(i,l){switch(l){case"session":return i.i;case"none":return i.m;default:return i.g}}function Js(i,l){return"firebase:"+i.name+(l?":"+l:"")}function Sy(i,l,p){var m=Js(l,p),_=ss(i,l.D);return i.get(l,p).then(function(S){var k=null;try{k=jr(d.localStorage.getItem(m))}catch{}if(k&&!S)return d.localStorage.removeItem(m),i.set(l,k,p);k&&S&&_.type!="localStorage"&&d.localStorage.removeItem(m)})}t=Iv.prototype,t.get=function(i,l){return ss(this,i.D).get(Js(i,l))};function Zs(i,l,p){return p=Js(l,p),l.D=="local"&&(i.b[p]=null),ss(i,l.D).T(p)}t.set=function(i,l,p){var m=Js(i,p),_=this,S=ss(this,i.D);return S.set(m,l).then(function(){return S.get(m)}).then(function(k){i.D=="local"&&(_.b[m]=k)})},t.addListener=function(i,l,p){i=Js(i,l),this.l&&(this.b[i]=d.localStorage.getItem(i)),V(this.a)&&(ss(this,"local").ca(this.f),this.h||(Df()||!qf())&&d.indexedDB||!this.l||Ty(this)),this.a[i]||(this.a[i]=[]),this.a[i].push(p)},t.removeListener=function(i,l,p){i=Js(i,l),this.a[i]&&($e(this.a[i],function(m){return m==p}),this.a[i].length==0&&delete this.a[i]),V(this.a)&&(ss(this,"local").ia(this.f),Mh(this))};function Ty(i){Mh(i),i.c=setInterval(function(){for(var l in i.a){var p=d.localStorage.getItem(l),m=i.b[l];p!=m&&(i.b[l]=p,p=new Ns({type:"storage",key:l,target:window,oldValue:m,newValue:p,a:!0}),i.Xb(p))}},1e3)}function Mh(i){i.c&&(clearInterval(i.c),i.c=null)}t.Xb=function(i){if(i&&i.g){var l=i.a.key;if(l==null)for(var p in this.a){var m=this.b[p];typeof m>"u"&&(m=null);var _=d.localStorage.getItem(p);_!==m&&(this.b[p]=_,this.lb(p))}else if(l.indexOf("firebase:")==0&&this.a[l]){if(typeof i.a.a<"u"?ss(this,"local").ia(this.f):Mh(this),this.v){if(p=d.localStorage.getItem(l),m=i.a.newValue,m!==p)m!==null?d.localStorage.setItem(l,m):d.localStorage.removeItem(l);else if(this.b[l]===m&&typeof i.a.a>"u")return}var S=this;p=function(){(typeof i.a.a<"u"||S.b[l]!==d.localStorage.getItem(l))&&(S.b[l]=d.localStorage.getItem(l),S.lb(l))},Mr&&Zi&&Zi==10&&d.localStorage.getItem(l)!==i.a.newValue&&i.a.newValue!==i.a.oldValue?setTimeout(p,10):p()}}else rt(i,L(this.lb,this))},t.lb=function(i){this.a[i]&&rt(this.a[i],function(l){l()})};function Ay(i){this.a=i,this.b=Au()}var Fh={name:"authEvent",D:"local"};function Cy(i){return i.b.get(Fh,i.a).then(function(l){return rh(l)})}function ky(){this.a=Au()}function xy(){this.b=-1}function hc(i,l){this.b=Sv,this.f=d.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=i,this.h=l,this.l=d.Int32Array?new Int32Array(64):Array(64),pc===void 0&&(d.Int32Array?pc=new Int32Array(Jt):pc=Jt),this.reset()}var pc;z(hc,xy);for(var Sv=64,Ny=Sv-1,Tv=[],Uh=0;Uh<Ny;Uh++)Tv[Uh]=0;var Av=dt(128,Tv);hc.prototype.reset=function(){this.g=this.c=0,this.a=d.Int32Array?new Int32Array(this.h):ft(this.h)};function jh(i){for(var l=i.f,p=i.l,m=0,_=0;_<l.length;)p[m++]=l[_]<<24|l[_+1]<<16|l[_+2]<<8|l[_+3],_=4*m;for(l=16;64>l;l++){_=p[l-15]|0,m=p[l-2]|0;var S=(p[l-16]|0)+((_>>>7|_<<25)^(_>>>18|_<<14)^_>>>3)|0,k=(p[l-7]|0)+((m>>>17|m<<15)^(m>>>19|m<<13)^m>>>10)|0;p[l]=S+k|0}m=i.a[0]|0,_=i.a[1]|0;var O=i.a[2]|0,Y=i.a[3]|0,ee=i.a[4]|0,Pe=i.a[5]|0,mt=i.a[6]|0;for(S=i.a[7]|0,l=0;64>l;l++){var pt=((m>>>2|m<<30)^(m>>>13|m<<19)^(m>>>22|m<<10))+(m&_^m&O^_&O)|0;k=ee&Pe^~ee&mt,S=S+((ee>>>6|ee<<26)^(ee>>>11|ee<<21)^(ee>>>25|ee<<7))|0,k=k+(pc[l]|0)|0,k=S+(k+(p[l]|0)|0)|0,S=mt,mt=Pe,Pe=ee,ee=Y+k|0,Y=O,O=_,_=m,m=k+pt|0}i.a[0]=i.a[0]+m|0,i.a[1]=i.a[1]+_|0,i.a[2]=i.a[2]+O|0,i.a[3]=i.a[3]+Y|0,i.a[4]=i.a[4]+ee|0,i.a[5]=i.a[5]+Pe|0,i.a[6]=i.a[6]+mt|0,i.a[7]=i.a[7]+S|0}function Vh(i,l,p){p===void 0&&(p=l.length);var m=0,_=i.c;if(typeof l=="string")for(;m<p;)i.f[_++]=l.charCodeAt(m++),_==i.b&&(jh(i),_=0);else if(T(l))for(;m<p;){var S=l[m++];if(!(typeof S=="number"&&0<=S&&255>=S&&S==(S|0)))throw Error("message must be a byte array");i.f[_++]=S,_==i.b&&(jh(i),_=0)}else throw Error("message must be string or array");i.c=_,i.g+=p}var Jt=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Kt(){hc.call(this,8,vn)}z(Kt,hc);var vn=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function dc(i,l,p,m,_,S){this.m=i,this.i=l,this.l=p,this.v=m||null,this.u=_||null,this.o=S,this.h=l+":"+p,this.A=new ky,this.g=new Ay(this.h),this.f=null,this.b=[],this.a=this.c=null}function ea(i){return new P("invalid-cordova-configuration",i)}t=dc.prototype,t.la=function(){return this.Ia?this.Ia:this.Ia=Im().then(function(){if(typeof Tt("universalLinks.subscribe",d)!="function")throw ea("cordova-universal-links-plugin-fix is not installed");if(typeof Tt("BuildInfo.packageName",d)>"u")throw ea("cordova-plugin-buildinfo is not installed");if(typeof Tt("cordova.plugins.browsertab.openUrl",d)!="function")throw ea("cordova-plugin-browsertab is not installed");if(typeof Tt("cordova.InAppBrowser.open",d)!="function")throw ea("cordova-plugin-inappbrowser is not installed")},function(){throw new P("cordova-not-ready")})};function Ry(){for(var i=20,l=[];0<i;)l.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),i--;return l.join("")}function Oy(i){var l=new Kt;Vh(l,i),i=[];var p=8*l.g;56>l.c?Vh(l,Av,56-l.c):Vh(l,Av,l.b-(l.c-56));for(var m=63;56<=m;m--)l.f[m]=p&255,p/=256;for(jh(l),m=p=0;m<l.i;m++)for(var _=24;0<=_;_-=8)i[p++]=l.a[m]>>_&255;return Vd(i)}t.Nb=function(i,l){return l(new P("operation-not-supported-in-this-environment")),_e()},t.Lb=function(){return wt(new P("operation-not-supported-in-this-environment"))},t.Zb=function(){return!1},t.Wb=function(){return!0},t.Sb=function(){return!0},t.Mb=function(i,l,p,m){if(this.c)return wt(new P("redirect-operation-pending"));var _=this,S=d.document,k=null,O=null,Y=null,ee=null;return this.c=_e().then(function(){return lu(l),Ri(_)}).then(function(){return Cu(_,i,l,p,m)}).then(function(){return new Ke(function(Pe,mt){O=function(){var pt=Tt("cordova.plugins.browsertab.close",d);return Pe(),typeof pt=="function"&&pt(),_.a&&typeof _.a.close=="function"&&(_.a.close(),_.a=null),!1},_.Ea(O),Y=function(){k||(k=Va(2e3).then(function(){mt(new P("redirect-cancelled-by-user"))}))},ee=function(){xl()&&Y()},S.addEventListener("resume",Y,!1),rn().toLowerCase().match(/android/)||S.addEventListener("visibilitychange",ee,!1)}).s(function(Pe){return Oi(_).then(function(){throw Pe})})}).na(function(){Y&&S.removeEventListener("resume",Y,!1),ee&&S.removeEventListener("visibilitychange",ee,!1),k&&k.cancel(),O&&_.Ra(O),_.c=null})};function Cu(i,l,p,m,_){var S=Ry(),k=new lr(l,m,null,S,new P("no-auth-event"),null,_),O=Tt("BuildInfo.packageName",d);if(typeof O!="string")throw new P("invalid-cordova-configuration");var Y=Tt("BuildInfo.displayName",d),ee={};if(rn().toLowerCase().match(/iphone|ipad|ipod/))ee.ibi=O;else if(rn().toLowerCase().match(/android/))ee.apn=O;else return wt(new P("operation-not-supported-in-this-environment"));Y&&(ee.appDisplayName=Y),S=Oy(S),ee.sessionId=S;var Pe=An(i.m,i.i,i.l,l,p,null,m,i.v,ee,i.u,_,i.o);return i.la().then(function(){var mt=i.h;return i.A.a.set(Fh,k.w(),mt)}).then(function(){var mt=Tt("cordova.plugins.browsertab.isAvailable",d);if(typeof mt!="function")throw new P("invalid-cordova-configuration");var pt=null;mt(function(Bn){if(Bn){if(pt=Tt("cordova.plugins.browsertab.openUrl",d),typeof pt!="function")throw new P("invalid-cordova-configuration");pt(Pe)}else{if(pt=Tt("cordova.InAppBrowser.open",d),typeof pt!="function")throw new P("invalid-cordova-configuration");Bn=rn(),i.a=pt(Pe,Bn.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||Bn.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}function Py(i,l){for(var p=0;p<i.b.length;p++)try{i.b[p](l)}catch{}}function Ri(i){return i.f||(i.f=i.la().then(function(){return new Ke(function(l){function p(m){return l(m),i.Ra(p),!1}i.Ea(p),ku(i)})})),i.f}function Oi(i){var l=null;return Cy(i.g).then(function(p){return l=p,p=i.g,Zs(p.b,Fh,p.a)}).then(function(){return l})}function ku(i){function l(k){m=!0,_&&_.cancel(),Oi(i).then(function(O){var Y=p;if(O&&k&&k.url){var ee=null;Y=Gd(k.url),Y.indexOf("/__/auth/callback")!=-1&&(ee=Sr(Y),ee=jr(hn(ee,"firebaseError")||null),ee=(ee=typeof ee=="object"?Be(ee):null)?new lr(O.c,O.b,null,null,ee,null,O.S()):new lr(O.c,O.b,Y,O.f,null,null,O.S())),Y=ee||p}Py(i,Y)})}var p=new lr("unknown",null,null,null,new P("no-auth-event")),m=!1,_=Va(500).then(function(){return Oi(i).then(function(){m||Py(i,p)})}),S=d.handleOpenURL;d.handleOpenURL=function(k){if(k.toLowerCase().indexOf(Tt("BuildInfo.packageName",d).toLowerCase()+"://")==0&&l({url:k}),typeof S=="function")try{S(k)}catch(O){console.error(O)}},Zo||(Zo=new Kd),qm(l)}t.Ea=function(i){this.b.push(i),Ri(this).s(function(l){l.code==="auth/invalid-cordova-configuration"&&(l=new lr("unknown",null,null,null,new P("no-auth-event")),i(l))})},t.Ra=function(i){$e(this.b,function(l){return l==i})};function xu(i){this.a=i,this.b=Au()}var as={name:"pendingRedirect",D:"session"};function vc(i){return i.b.set(as,"pending",i.a)}function it(i){return Zs(i.b,as,i.a)}function Bh(i){return i.b.get(as,i.a).then(function(l){return l=="pending"})}function gc(i,l,p,m){this.i={},this.u=0,this.O=i,this.m=l,this.v=p,this.G=m,this.h=[],this.f=!1,this.l=L(this.o,this),this.b=new ot,this.A=new gt,this.g=new xu(Pv(this.m,this.v)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.A,this.c.linkViaPopup=this.A,this.c.reauthViaPopup=this.A,this.a=Cv(this.O,this.m,this.v,le,this.G)}function Cv(i,l,p,m,_){var S=Z.SDK_VERSION||null;return Ad()?new dc(i,l,p,S,m,_):new Yr(i,l,p,S,m,_)}gc.prototype.reset=function(){this.f=!1,this.a.Ra(this.l),this.a=Cv(this.O,this.m,this.v,null,this.G),this.i={}};function kv(i){i.f||(i.f=!0,i.a.Ea(i.l));var l=i.a;return i.a.la().s(function(p){throw i.a==l&&i.reset(),p})}function xv(i){i.a.Wb()&&kv(i).s(function(l){var p=new lr("unknown",null,null,null,new P("operation-not-supported-in-this-environment"));Gh(l)&&i.o(p)}),i.a.Sb()||My(i.b)}function qh(i,l){sr(i.h,l)||i.h.push(l),i.f||Bh(i.g).then(function(p){p?it(i.g).then(function(){kv(i).s(function(m){var _=new lr("unknown",null,null,null,new P("operation-not-supported-in-this-environment"));Gh(m)&&i.o(_)})}):xv(i)}).s(function(){xv(i)})}function Nv(i,l){$e(i.h,function(p){return p==l})}gc.prototype.o=function(i){if(!i)throw new P("invalid-auth-event");if(6e5<=X()-this.u&&(this.i={},this.u=0),i&&i.getUid()&&this.i.hasOwnProperty(i.getUid()))return!1;for(var l=!1,p=0;p<this.h.length;p++){var m=this.h[p];if(m.Eb(i.c,i.b)){(l=this.c[i.c])&&(l.h(i,m),i&&(i.f||i.b)&&(this.i[i.getUid()]=!0,this.u=X())),l=!0;break}}return My(this.b),l};var Dy=new fo(2e3,1e4),Ly=new fo(3e4,6e4);gc.prototype.qa=function(){return this.b.qa()};function Rv(i,l,p,m,_,S,k){return i.a.Lb(l,p,m,function(){i.f||(i.f=!0,i.a.Ea(i.l))},function(){i.reset()},_,S,k)}function Gh(i){return!!(i&&i.code=="auth/cordova-not-ready")}function Ov(i,l,p,m,_){var S;return vc(i.g).then(function(){return i.a.Mb(l,p,m,_).s(function(k){if(Gh(k))throw new P("operation-not-supported-in-this-environment");return S=k,it(i.g).then(function(){throw S})}).then(function(){return i.a.Zb()?new Ke(function(){}):it(i.g).then(function(){return i.qa()}).then(function(){}).s(function(){})})})}function Nu(i,l,p,m,_){return i.a.Nb(m,function(S){l.ma(p,null,S,_)},Dy.get())}var li={};function Pv(i,l,p){return i=i+":"+l,p&&(i=i+":"+p.url),i}function mc(i,l,p,m){var _=Pv(l,p,m);return li[_]||(li[_]=new gc(i,l,p,m)),li[_]}function ot(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}ot.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},ot.prototype.h=function(i,l){if(i){this.reset(),this.g=!0;var p=i.c,m=i.b,_=i.a&&i.a.code=="auth/web-storage-unsupported",S=i.a&&i.a.code=="auth/operation-not-supported-in-this-environment";this.i=!(!_&&!S),p!="unknown"||_||S?i.a?(Pi(this,!0,null,i.a),_e()):l.Fa(p,m)?fw(this,i,l):wt(new P("invalid-auth-event")):(Pi(this,!1,null,null),_e())}else wt(new P("invalid-auth-event"))};function My(i){i.g||(i.g=!0,Pi(i,!1,null,null))}function us(i){i.g&&!i.i&&Pi(i,!1,null,null)}function fw(i,l,p){p=p.Fa(l.c,l.b);var m=l.g,_=l.f,S=l.i,k=l.S(),O=!!l.c.match(/Redirect$/);p(m,_,k,S).then(function(Y){Pi(i,O,Y,null)}).s(function(Y){Pi(i,O,null,Y)})}function hw(i,l){if(i.b=function(){return wt(l)},i.c.length)for(var p=0;p<i.c.length;p++)i.c[p](l)}function Fy(i,l){if(i.b=function(){return _e(l)},i.f.length)for(var p=0;p<i.f.length;p++)i.f[p](l)}function Pi(i,l,p,m){l?m?hw(i,m):Fy(i,p):Fy(i,{user:null}),i.f=[],i.c=[]}ot.prototype.qa=function(){var i=this;return new Ke(function(l,p){i.b?i.b().then(l,p):(i.f.push(l),i.c.push(p),Uy(i))})};function Uy(i){var l=new P("timeout");i.a&&i.a.cancel(),i.a=Va(Ly.get()).then(function(){i.b||(i.g=!0,Pi(i,!0,null,l))})}function gt(){}gt.prototype.h=function(i,l){if(i){var p=i.c,m=i.b;i.a?(l.ma(i.c,null,i.a,i.b),_e()):l.Fa(p,m)?jy(i,l):wt(new P("invalid-auth-event"))}else wt(new P("invalid-auth-event"))};function jy(i,l){var p=i.b,m=i.c;l.Fa(m,p)(i.g,i.f,i.S(),i.i).then(function(_){l.ma(m,_,null,p)}).s(function(_){l.ma(m,null,_,p)})}function Dv(){this.hb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.hb},set:function(i){this.hb=i},enumerable:!1})}function yc(i,l){this.a=l,me(this,"verificationId",i)}yc.prototype.confirm=function(i){return i=au(this.verificationId,i),this.a(i)};function bc(i,l,p,m){return new xi(i).eb(l,p).then(function(_){return new yc(_,m)})}function wc(i){var l=Mm(i);if(!(l&&l.exp&&l.auth_time&&l.iat))throw new P("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Jn(this,{token:i,expirationTime:$a(1e3*l.exp),authTime:$a(1e3*l.auth_time),issuedAtTime:$a(1e3*l.iat),signInProvider:l.firebase&&l.firebase.sign_in_provider?l.firebase.sign_in_provider:null,signInSecondFactor:l.firebase&&l.firebase.sign_in_second_factor?l.firebase.sign_in_second_factor:null,claims:l})}function _c(i,l,p){var m=l&&l[Ec];if(!m)throw new P("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=i,this.f=ve(l),this.g=p,this.c=new Vl(null,m),this.b=[];var _=this;rt(l[Ru]||[],function(S){(S=Ja(S))&&_.b.push(S)}),me(this,"auth",this.a),me(this,"session",this.c),me(this,"hints",this.b)}var Ru="mfaInfo",Ec="mfaPendingCredential";_c.prototype.Qc=function(i){var l=this;return i.rb(this.a.a,this.c).then(function(p){var m=ve(l.f);return delete m[Ru],delete m[Ec],Ue(m,p),l.g(m)})};function Wh(i,l,p,m){P.call(this,"multi-factor-auth-required",m,l),this.b=new _c(i,l,p),me(this,"resolver",this.b)}z(Wh,P);function Lv(i,l,p){if(i&&A(i.serverResponse)&&i.code==="auth/multi-factor-auth-required")try{return new Wh(l,i.serverResponse,p,i.message)}catch{}return null}function Ic(){}Ic.prototype.rb=function(i,l,p){return l.type==iu?Vy(this,i,l,p):pw(this,i,l)};function Vy(i,l,p,m){return p.Ha().then(function(_){return _={idToken:_},typeof m<"u"&&(_.displayName=m),Ue(_,{phoneVerificationInfo:zl(i.a)}),Ve(l,aw,_)})}function pw(i,l,p){return p.Ha().then(function(m){return m={mfaPendingCredential:m},Ue(m,{phoneVerificationInfo:zl(i.a)}),Ve(l,mu,m)})}function Mv(i){me(this,"factorId",i.fa),this.a=i}z(Mv,Ic);function Ou(i){if(Mv.call(this,i),this.a.fa!=xi.PROVIDER_ID)throw new P("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}z(Ou,Mv);function Di(i,l){$n.call(this,i);for(var p in l)this[p]=l[p]}z(Di,$n);function ta(i,l){this.a=i,this.b=[],this.c=L(this.xc,this),Fr(this.a,"userReloaded",this.c);var p=[];l&&l.multiFactor&&l.multiFactor.enrolledFactors&&rt(l.multiFactor.enrolledFactors,function(m){var _=null,S={};if(m){m.uid&&(S[Nd]=m.uid),m.displayName&&(S[Ti]=m.displayName),m.enrollmentTime&&(S[xd]=new Date(m.enrollmentTime).toISOString()),m.phoneNumber&&(S[Rd]=m.phoneNumber);try{_=new Vr(S)}catch{}m=_}else m=null;m&&p.push(m)}),zh(this,p)}function Hh(i){var l=[];return rt(i.mfaInfo||[],function(p){(p=Ja(p))&&l.push(p)}),l}t=ta.prototype,t.xc=function(i){zh(this,Hh(i.gd))};function zh(i,l){i.b=l,me(i,"enrolledFactors",l)}t.Qb=function(){return this.a.I().then(function(i){return new Vl(i,null)})},t.ec=function(i,l){var p=this,m=this.a.a;return this.Qb().then(function(_){return i.rb(m,_,l)}).then(function(_){return ci(p.a,_),p.a.reload()})},t.ad=function(i){var l=this,p=typeof i=="string"?i:i.uid,m=this.a.a;return this.a.I().then(function(_){return Ve(m,Je,{idToken:_,mfaEnrollmentId:p})}).then(function(_){var S=Zr(l.b,function(k){return k.uid!=p});return zh(l,S),ci(l.a,_),l.a.reload().s(function(k){if(k.code!="auth/user-token-expired")throw k})})},t.w=function(){return{multiFactor:{enrolledFactors:cn(this.b,function(i){return i.w()})}}};function Pu(i,l,p){if(this.h=i,this.i=l,this.g=p,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}Pu.prototype.start=function(){this.a=this.c,Kh(this,!0)};function By(i,l){return l?(i.a=i.c,i.g()):(l=i.a,i.a*=2,i.a>i.f&&(i.a=i.f),l)}function Kh(i,l){i.stop(),i.b=Va(By(i,l)).then(function(){return Ut()}).then(function(){return i.h()}).then(function(){Kh(i,!0)}).s(function(p){i.i(p)&&Kh(i,!1)})}Pu.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)};function na(i){this.c=i,this.b=this.a=null}na.prototype.w=function(){return{apiKey:this.c.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:ra(this)}};function ra(i){return i.b&&1e3*i.b.c||0}function qy(i,l){var p=l.refreshToken;i.b=Ll(l[ui]||""),i.a=p}function Gy(i,l){i.b=l.b,i.a=l.a}function dw(i,l){return mh(i.c,l).then(function(p){return i.b=Ll(p.access_token),i.a=p.refresh_token,{accessToken:i.b.toString(),refreshToken:i.a}}).s(function(p){throw p.code=="auth/user-token-expired"&&(i.a=null),p})}na.prototype.getToken=function(i){return i=!!i,this.b&&!this.a?wt(new P("user-token-expired")):i||!this.b||X()>ra(this)-3e4?this.a?dw(this,{grant_type:"refresh_token",refresh_token:this.a}):_e(null):_e({accessToken:this.b.toString(),refreshToken:this.a})};function Yh(i,l){this.a=i||null,this.b=l||null,Jn(this,{lastSignInTime:$a(l||null),creationTime:$a(i||null)})}function Xh(i){return new Yh(i.a,i.b)}Yh.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}};function Sc(i,l,p,m,_,S){Jn(this,{uid:i,displayName:m||null,photoURL:_||null,email:p||null,phoneNumber:S||null,providerId:l})}function kn(i,l,p){this.G=[],this.l=i.apiKey,this.m=i.appName,this.o=i.authDomain||null;var m=Z.SDK_VERSION?Ds(Z.SDK_VERSION):null;this.a=new zr(this.l,re(le),m),i.emulatorConfig&&Hs(this.a,i.emulatorConfig),this.b=new na(this.a),oa(this,l[ui]),qy(this.b,l),me(this,"refreshToken",this.b.a),Fu(this,p||{}),Fn.call(this),this.P=!1,this.o&&Ii()&&(this.i=mc(this.o,this.l,this.m)),this.R=[],this.f=null,this.u=Ac(this),this.$=L(this.gb,this);var _=this;this.pa=null,this.Ba=function(S){_.wa(S.h)},this.ba=null,this.za=function(S){Hs(_.a,S.c)},this.W=null,this.X=[],this.Aa=function(S){Lu(_,S.f)},this.aa=null,this.N=new ta(this,p),me(this,"multiFactor",this.N)}z(kn,Fn),kn.prototype.wa=function(i){this.pa=i,nv(this.a,i)},kn.prototype.ka=function(){return this.pa};function Du(i,l){i.ba&&Mn(i.ba,"languageCodeChanged",i.Ba),(i.ba=l)&&Fr(l,"languageCodeChanged",i.Ba)}function Tc(i,l){i.W&&Mn(i.W,"emulatorConfigChanged",i.za),(i.W=l)&&Fr(l,"emulatorConfigChanged",i.za)}function Lu(i,l){i.X=l,Zm(i.a,Z.SDK_VERSION?Ds(Z.SDK_VERSION,i.X):null)}kn.prototype.Ga=function(){return ft(this.X)};function Fv(i,l){i.aa&&Mn(i.aa,"frameworkChanged",i.Aa),(i.aa=l)&&Fr(l,"frameworkChanged",i.Aa)}kn.prototype.gb=function(){this.u.b&&(this.u.stop(),this.u.start())};function Uv(i){try{return Z.app(i.m).auth()}catch{throw new P("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+i.m+"'!")}}function Ac(i){return new Pu(function(){return i.I(!0)},function(l){return!!(l&&l.code=="auth/network-request-failed")},function(){var l=ra(i.b)-X()-3e5;return 0<l?l:0})}function Wy(i){i.A||i.u.b||(i.u.start(),Mn(i,"tokenChanged",i.$),Fr(i,"tokenChanged",i.$))}function ia(i){Mn(i,"tokenChanged",i.$),i.u.stop()}function oa(i,l){i.ya=l,me(i,"_lat",l)}function Mu(i,l){$e(i.R,function(p){return p==l})}function Xr(i){for(var l=[],p=0;p<i.R.length;p++)l.push(i.R[p](i));return hd(l).then(function(){return i})}function Cc(i){i.i&&!i.P&&(i.P=!0,qh(i.i,i))}function Fu(i,l){Jn(i,{uid:l.uid,displayName:l.displayName||null,photoURL:l.photoURL||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,isAnonymous:l.isAnonymous||!1,tenantId:l.tenantId||null,metadata:new Yh(l.createdAt,l.lastLoginAt),providerData:[]}),i.a.b=i.tenantId}me(kn.prototype,"providerId","firebase");function Hy(){}function kc(i){return _e().then(function(){if(i.A)throw new P("app-deleted")})}function xc(i){return cn(i.providerData,function(l){return l.providerId})}function sa(i,l){l&&(zy(i,l.providerId),i.providerData.push(l))}function zy(i,l){$e(i.providerData,function(p){return p.providerId==l})}function ls(i,l,p){(l!="uid"||p)&&i.hasOwnProperty(l)&&me(i,l,p)}function Uu(i,l){i!=l&&(Jn(i,{uid:l.uid,displayName:l.displayName,photoURL:l.photoURL,email:l.email,emailVerified:l.emailVerified,phoneNumber:l.phoneNumber,isAnonymous:l.isAnonymous,tenantId:l.tenantId,providerData:[]}),l.metadata?me(i,"metadata",Xh(l.metadata)):me(i,"metadata",new Yh),rt(l.providerData,function(p){sa(i,p)}),Gy(i.b,l.b),me(i,"refreshToken",i.b.a),zh(i.N,l.N.b))}t=kn.prototype,t.reload=function(){var i=this;return Yt(this,kc(this).then(function(){return $h(i).then(function(){return Xr(i)}).then(Hy)}))};function $h(i){return i.I().then(function(l){var p=i.isAnonymous;return ju(i,l).then(function(){return p||ls(i,"isAnonymous",!1),l})})}t.nc=function(i){return this.I(i).then(function(l){return new wc(l)})},t.I=function(i){var l=this;return Yt(this,kc(this).then(function(){return l.b.getToken(i)}).then(function(p){if(!p)throw new P("internal-error");return p.accessToken!=l.ya&&(oa(l,p.accessToken),l.dispatchEvent(new Di("tokenChanged"))),ls(l,"refreshToken",p.refreshToken),p.accessToken}))};function ci(i,l){l[ui]&&i.ya!=l[ui]&&(qy(i.b,l),i.dispatchEvent(new Di("tokenChanged")),oa(i,l[ui]),ls(i,"refreshToken",i.b.a))}function ju(i,l){return Ve(i.a,oy,{idToken:l}).then(L(i.Jc,i))}t.Jc=function(i){if(i=i.users,!i||!i.length)throw new P("internal-error");i=i[0],Fu(this,{uid:i.localId,displayName:i.displayName,photoURL:i.photoUrl,email:i.email,emailVerified:!!i.emailVerified,phoneNumber:i.phoneNumber,lastLoginAt:i.lastLoginAt,createdAt:i.createdAt,tenantId:i.tenantId});for(var l=vw(i),p=0;p<l.length;p++)sa(this,l[p]);ls(this,"isAnonymous",!(this.email&&i.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new Di("userReloaded",{gd:i}))};function vw(i){return(i=i.providerUserInfo)&&i.length?cn(i,function(l){return new Sc(l.rawId,l.providerId,l.email,l.displayName,l.photoUrl,l.phoneNumber)}):[]}t.Kc=function(i){return Gf("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.sb(i)},t.sb=function(i){var l=this,p=null;return Yt(this,i.c(this.a,this.uid).then(function(m){return ci(l,m),p=cs(l,m,"reauthenticate"),l.f=null,l.reload()}).then(function(){return p}),!0)};function Qh(i,l){return $h(i).then(function(){if(sr(xc(i),l))return Xr(i).then(function(){throw new P("provider-already-linked")})})}t.Bc=function(i){return Gf("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.pb(i)},t.pb=function(i){var l=this,p=null;return Yt(this,Qh(this,i.providerId).then(function(){return l.I()}).then(function(m){return i.b(l.a,m)}).then(function(m){return p=cs(l,m,"link"),Ky(l,m)}).then(function(){return p}))},t.Cc=function(i,l){var p=this;return Yt(this,Qh(this,"phone").then(function(){return bc(Uv(p),i,l,L(p.pb,p))}))},t.Lc=function(i,l){var p=this;return Yt(this,_e().then(function(){return bc(Uv(p),i,l,L(p.sb,p))}),!0)};function cs(i,l,p){var m=uu(l);return l=Ul(l),ho({user:i,credential:m,additionalUserInfo:l,operationType:p})}function Ky(i,l){return ci(i,l),i.reload().then(function(){return i})}t.Ab=function(i){var l=this;return Yt(this,this.I().then(function(p){return l.a.Ab(p,i)}).then(function(p){return ci(l,p),l.reload()}))},t.dd=function(i){var l=this;return Yt(this,this.I().then(function(p){return i.b(l.a,p)}).then(function(p){return ci(l,p),l.reload()}))},t.Bb=function(i){var l=this;return Yt(this,this.I().then(function(p){return l.a.Bb(p,i)}).then(function(p){return ci(l,p),l.reload()}))},t.Cb=function(i){if(i.displayName===void 0&&i.photoURL===void 0)return kc(this);var l=this;return Yt(this,this.I().then(function(p){return l.a.Cb(p,{displayName:i.displayName,photoUrl:i.photoURL})}).then(function(p){return ci(l,p),ls(l,"displayName",p.displayName||null),ls(l,"photoURL",p.photoUrl||null),rt(l.providerData,function(m){m.providerId==="password"&&(me(m,"displayName",l.displayName),me(m,"photoURL",l.photoURL))}),Xr(l)}).then(Hy))},t.bd=function(i){var l=this;return Yt(this,$h(this).then(function(p){return sr(xc(l),i)?Ni(l.a,p,[i]).then(function(m){var _={};return rt(m.providerUserInfo||[],function(S){_[S.providerId]=!0}),rt(xc(l),function(S){_[S]||zy(l,S)}),_[xi.PROVIDER_ID]||me(l,"phoneNumber",null),Xr(l)}):Xr(l).then(function(){throw new P("no-such-provider")})}))},t.delete=function(){var i=this;return Yt(this,this.I().then(function(l){return Ve(i.a,iy,{idToken:l})}).then(function(){i.dispatchEvent(new Di("userDeleted"))})).then(function(){for(var l=0;l<i.G.length;l++)i.G[l].cancel("app-deleted");Du(i,null),Tc(i,null),Fv(i,null),i.G=[],i.A=!0,ia(i),me(i,"refreshToken",null),i.i&&Nv(i.i,i)})},t.Eb=function(i,l){return!!(i=="linkViaPopup"&&(this.h||null)==l&&this.g||i=="reauthViaPopup"&&(this.h||null)==l&&this.g||i=="linkViaRedirect"&&(this.ga||null)==l||i=="reauthViaRedirect"&&(this.ga||null)==l)},t.ma=function(i,l,p,m){i!="linkViaPopup"&&i!="reauthViaPopup"||m!=(this.h||null)||(p&&this.O?this.O(p):l&&!p&&this.g&&this.g(l),this.c&&(this.c.cancel(),this.c=null),delete this.g,delete this.O)},t.Fa=function(i,l){return i=="linkViaPopup"&&l==(this.h||null)?L(this.Jb,this):i=="reauthViaPopup"&&l==(this.h||null)?L(this.Kb,this):i=="linkViaRedirect"&&(this.ga||null)==l?L(this.Jb,this):i=="reauthViaRedirect"&&(this.ga||null)==l?L(this.Kb,this):null},t.Dc=function(i){var l=this;return Yy(this,"linkViaPopup",i,function(){return Qh(l,i.providerId).then(function(){return Xr(l)})},!1)},t.Mc=function(i){return Yy(this,"reauthViaPopup",i,function(){return _e()},!0)};function Yy(i,l,p,m,_){if(!Ii())return wt(new P("operation-not-supported-in-this-environment"));if(i.f&&!_)return wt(i.f);var S=Fl(p.providerId),k=oi(i.uid+":::"),O=null;(!Ya()||Cl())&&i.o&&p.isOAuthProvider&&(O=An(i.o,i.l,i.m,l,p,null,k,Z.SDK_VERSION||null,null,null,i.tenantId));var Y=Wt(O,S&&S.ua,S&&S.ta);return m=m().then(function(){if(jv(i),!_)return i.I().then(function(){})}).then(function(){return Rv(i.i,Y,l,p,k,!!O,i.tenantId)}).then(function(){return new Ke(function(ee,Pe){i.ma(l,null,new P("cancelled-popup-request"),i.h||null),i.g=ee,i.O=Pe,i.h=k,i.c=Nu(i.i,i,l,Y,k)})}).then(function(ee){return Y&&co(Y),ee?ho(ee):null}).s(function(ee){throw Y&&co(Y),ee}),Yt(i,m,_)}t.Ec=function(i){var l=this;return fs(this,"linkViaRedirect",i,function(){return Qh(l,i.providerId)},!1)},t.Nc=function(i){return fs(this,"reauthViaRedirect",i,function(){return _e()},!0)};function fs(i,l,p,m,_){if(!Ii())return wt(new P("operation-not-supported-in-this-environment"));if(i.f&&!_)return wt(i.f);var S=null,k=oi(i.uid+":::");return m=m().then(function(){if(jv(i),!_)return i.I().then(function(){})}).then(function(){return i.ga=k,Xr(i)}).then(function(O){return i.ha&&(O=i.ha,O=O.b.set(Vu,i.w(),O.a)),O}).then(function(){return Ov(i.i,l,p,k,i.tenantId)}).s(function(O){if(S=O,i.ha)return Bu(i.ha);throw S}).then(function(){if(S)throw S}),Yt(i,m,_)}function jv(i){if(!i.i||!i.P)throw i.i&&!i.P?new P("internal-error"):new P("auth-domain-config-required")}t.Jb=function(i,l,p,m){var _=this;this.c&&(this.c.cancel(),this.c=null);var S=null;return p=this.I().then(function(k){return bh(_.a,{requestUri:i,postBody:m,sessionId:l,idToken:k})}).then(function(k){return S=cs(_,k,"link"),Ky(_,k)}).then(function(){return S}),Yt(this,p)},t.Kb=function(i,l,p,m){var _=this;this.c&&(this.c.cancel(),this.c=null);var S=null,k=_e().then(function(){return go(Ys(_.a,{requestUri:i,sessionId:l,postBody:m,tenantId:p}),_.uid)}).then(function(O){return S=cs(_,O,"reauthenticate"),ci(_,O),_.f=null,_.reload()}).then(function(){return S});return Yt(this,k,!0)},t.tb=function(i){var l=this,p=null;return Yt(this,this.I().then(function(m){return p=m,typeof i>"u"||V(i)?{}:Fs(new nu(i))}).then(function(m){return l.a.tb(p,m)}).then(function(m){if(l.email!=m)return l.reload()}).then(function(){}))},t.Db=function(i,l){var p=this,m=null;return Yt(this,this.I().then(function(_){return m=_,typeof l>"u"||V(l)?{}:Fs(new nu(l))}).then(function(_){return p.a.Db(m,i,_)}).then(function(_){if(p.email!=_)return p.reload()}).then(function(){}))};function Yt(i,l,p){var m=gw(i,l,p);return i.G.push(m),m.na(function(){ze(i.G,m)}),m.s(function(_){var S=null;throw _&&_.code==="auth/multi-factor-auth-required"&&(S=Lv(_.w(),Uv(i),L(i.ic,i))),S||_})}t.ic=function(i){var l=null,p=this;return i=go(_e(i),p.uid).then(function(m){return l=cs(p,m,"reauthenticate"),ci(p,m),p.f=null,p.reload()}).then(function(){return l}),Yt(this,i,!0)};function gw(i,l,p){return i.f&&!p?(l.cancel(),wt(i.f)):l.s(function(m){throw!m||m.code!="auth/user-disabled"&&m.code!="auth/user-token-expired"||(i.f||i.dispatchEvent(new Di("userInvalidated")),i.f=m),m})}t.toJSON=function(){return this.w()},t.w=function(){var i={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.o,stsTokenManager:this.b.w(),redirectEventId:this.ga||null};return this.metadata&&Ue(i,this.metadata.w()),rt(this.providerData,function(l){i.providerData.push(Qa(l))}),Ue(i,this.N.w()),i};function Jh(i){if(!i.apiKey)return null;var l={apiKey:i.apiKey,authDomain:i.authDomain,appName:i.appName,emulatorConfig:i.emulatorConfig},p={};if(i.stsTokenManager&&i.stsTokenManager.accessToken)p[ui]=i.stsTokenManager.accessToken,p.refreshToken=i.stsTokenManager.refreshToken||null;else return null;var m=new kn(l,p,i);return i.providerData&&rt(i.providerData,function(_){_&&sa(m,ho(_))}),i.redirectEventId&&(m.ga=i.redirectEventId),m}function mw(i,l,p,m){var _=new kn(i,l);return p&&(_.ha=p),m&&Lu(_,m),_.reload().then(function(){return _})}function Vv(i,l,p,m){var _=i.b,S={};return S[ui]=_.b&&_.b.toString(),S.refreshToken=_.a,l=new kn(l||{apiKey:i.l,authDomain:i.o,appName:i.m},S),p&&(l.ha=p),m&&Lu(l,m),Uu(l,i),l}function yw(i){this.a=i,this.b=Au()}var Vu={name:"redirectUser",D:"session"};function Bu(i){return Zs(i.b,Vu,i.a)}function Xy(i,l){return i.b.get(Vu,i.a).then(function(p){return p&&l&&(p.authDomain=l),Jh(p||{})})}function aa(i){this.a=i,this.b=Au(),this.c=null,this.f=Nc(this),this.b.addListener(sn("local"),this.a,L(this.g,this))}aa.prototype.g=function(){var i=this,l=sn("local");Oe(this,function(){return _e().then(function(){return i.c&&i.c.D!="local"?i.b.get(l,i.a):null}).then(function(p){if(p)return ua(i,"local").then(function(){i.c=l})})})};function ua(i,l){var p=[],m;for(m in Qs)Qs[m]!==l&&p.push(Zs(i.b,sn(Qs[m]),i.a));return p.push(Zs(i.b,la,i.a)),Fa(p)}function Nc(i){var l=sn("local"),p=sn("session"),m=sn("none");return Sy(i.b,l,i.a).then(function(){return i.b.get(p,i.a)}).then(function(_){return _?p:i.b.get(m,i.a).then(function(S){return S?m:i.b.get(l,i.a).then(function(k){return k?l:i.b.get(la,i.a).then(function(O){return O?sn(O):l})})})}).then(function(_){return i.c=_,ua(i,_.D)}).s(function(){i.c||(i.c=l)})}var la={name:"persistence",D:"session"};function sn(i){return{name:"authUser",D:i}}aa.prototype.wb=function(i){var l=null,p=this;return Iy(i),Oe(this,function(){return i!=p.c.D?p.b.get(p.c,p.a).then(function(m){return l=m,ua(p,i)}).then(function(){if(p.c=sn(i),l)return p.b.set(p.c,l,p.a)}):_e()})};function $y(i){return Oe(i,function(){return i.b.set(la,i.c.D,i.a)})}function qu(i,l){return Oe(i,function(){return i.b.set(i.c,l.w(),i.a)})}function Zh(i){return Oe(i,function(){return Zs(i.b,i.c,i.a)})}function Bv(i,l,p){return Oe(i,function(){return i.b.get(i.c,i.a).then(function(m){return m&&l&&(m.authDomain=l),m&&p&&(m.emulatorConfig=p),Jh(m||{})})})}function Oe(i,l){return i.f=i.f.then(l,l),i.f}function jn(i){if(this.m=!1,me(this,"settings",new Dv),me(this,"app",i),K(this).options&&K(this).options.apiKey)i=Z.SDK_VERSION?Ds(Z.SDK_VERSION):null,this.a=new zr(K(this).options&&K(this).options.apiKey,re(le),i);else throw new P("invalid-api-key");this.R=[],this.u=[],this.P=[],this.ac=Z.INTERNAL.createSubscribe(L(this.yc,this)),this.X=void 0,this.bc=Z.INTERNAL.createSubscribe(L(this.zc,this)),Ne(this,null),this.l=new aa(K(this).options.apiKey+":"+K(this).name),this.G=new yw(K(this).options.apiKey+":"+K(this).name),this.$=jt(this,eb(this)),this.i=jt(this,tb(this)),this.ba=!1,this.pa=L(this.Yc,this),this.Ba=L(this.da,this),this.ya=L(this.kc,this),this.za=L(this.vc,this),this.Aa=L(this.wc,this),this.b=null,tp(this),this.INTERNAL={},this.INTERNAL.delete=L(this.delete,this),this.INTERNAL.logFramework=L(this.Fc,this),this.A=0,Fn.call(this),Jy(this),this.N=[],this.f=null}z(jn,Fn);function We(i){$n.call(this,"languageCodeChanged"),this.h=i}z(We,$n);function $r(i){$n.call(this,"emulatorConfigChanged"),this.c=i}z($r,$n);function Se(i){$n.call(this,"frameworkChanged"),this.f=i}z(Se,$n),t=jn.prototype,t.wb=function(i){return i=this.l.wb(i),jt(this,i)},t.wa=function(i){this.aa===i||this.m||(this.aa=i,nv(this.a,this.aa),this.dispatchEvent(new We(this.ka())))},t.ka=function(){return this.aa},t.ed=function(){var i=d.navigator;this.wa(i&&(i.languages&&i.languages[0]||i.language||i.userLanguage)||null)},t.fd=function(i){if(!this.f){if(!/^https?:\/\//.test(i))throw new P("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");Qy(),this.f={url:i},this.settings.hb=!0,Hs(this.a,this.f),this.dispatchEvent(new $r(this.f))}};function Qy(){Ls("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),d.document&&Al().then(function(){var i=d.document.createElement("div");i.innerText="Running in emulator mode. Do not use with production credentials.",i.style.position="fixed",i.style.width="100%",i.style.backgroundColor="#ffffff",i.style.border=".1em solid #000000",i.style.color="#ff0000",i.style.bottom="0px",i.style.left="0px",i.style.margin="0px",i.style.zIndex=1e4,i.style.textAlign="center",i.classList.add("firebase-emulator-warning"),d.document.body.appendChild(i)})}t.Fc=function(i){this.N.push(i),Zm(this.a,Z.SDK_VERSION?Ds(Z.SDK_VERSION,this.N):null),this.dispatchEvent(new Se(this.N))},t.Ga=function(){return ft(this.N)},t.xb=function(i){this.W===i||this.m||(this.W=i,this.a.b=this.W)},t.S=function(){return this.W};function Jy(i){Object.defineProperty(i,"lc",{get:function(){return this.ka()},set:function(l){this.wa(l)},enumerable:!1}),i.aa=null,Object.defineProperty(i,"ti",{get:function(){return this.S()},set:function(l){this.xb(l)},enumerable:!1}),i.W=null}t.toJSON=function(){return{apiKey:K(this).options.apiKey,authDomain:K(this).options.authDomain,appName:K(this).name,currentUser:ae(this)&&ae(this).w()}};function ep(i){return i.gb||wt(new P("auth-domain-config-required"))}function tp(i){var l=K(i).options.authDomain,p=K(i).options.apiKey;l&&Ii()&&(i.gb=i.$.then(function(){if(!i.m){if(i.b=mc(l,p,K(i).name,i.f),qh(i.b,i),ae(i)&&Cc(ae(i)),i.o){Cc(i.o);var m=i.o;m.wa(i.ka()),Du(m,i),m=i.o,Lu(m,i.N),Fv(m,i),m=i.o,Hs(m.a,i.f),Tc(m,i),i.o=null}return i.b}}))}t.Eb=function(i,l){switch(i){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.h==l&&!!this.g;default:return!1}},t.ma=function(i,l,p,m){i=="signInViaPopup"&&this.h==m&&(p&&this.O?this.O(p):l&&!p&&this.g&&this.g(l),this.c&&(this.c.cancel(),this.c=null),delete this.g,delete this.O)},t.Fa=function(i,l){return i=="signInViaRedirect"||i=="signInViaPopup"&&this.h==l&&this.g?L(this.hc,this):null},t.hc=function(i,l,p,m){var _=this,S={requestUri:i,postBody:m,sessionId:l,tenantId:p};return this.c&&(this.c.cancel(),this.c=null),_.$.then(function(){return ca(_,av(_.a,S))})},t.Wc=function(i){if(!Ii())return wt(new P("operation-not-supported-in-this-environment"));var l=this,p=Fl(i.providerId),m=oi(),_=null;(!Ya()||Cl())&&K(this).options.authDomain&&i.isOAuthProvider&&(_=An(K(this).options.authDomain,K(this).options.apiKey,K(this).name,"signInViaPopup",i,null,m,Z.SDK_VERSION||null,null,null,this.S(),this.f));var S=Wt(_,p&&p.ua,p&&p.ta);return p=ep(this).then(function(k){return Rv(k,S,"signInViaPopup",i,m,!!_,l.S())}).then(function(){return new Ke(function(k,O){l.ma("signInViaPopup",null,new P("cancelled-popup-request"),l.h),l.g=k,l.O=O,l.h=m,l.c=Nu(l.b,l,"signInViaPopup",S,m)})}).then(function(k){return S&&co(S),k?ho(k):null}).s(function(k){throw S&&co(S),k}),jt(this,p)},t.Xc=function(i){if(!Ii())return wt(new P("operation-not-supported-in-this-environment"));var l=this,p=ep(this).then(function(){return $y(l.l)}).then(function(){return Ov(l.b,"signInViaRedirect",i,void 0,l.S())});return jt(this,p)};function Li(i){if(!Ii())return wt(new P("operation-not-supported-in-this-environment"));var l=ep(i).then(function(){return i.b.qa()}).then(function(p){return p?ho(p):null});return jt(i,l)}t.qa=function(){var i=this;return Li(this).then(function(l){return i.b&&us(i.b.b),l}).s(function(l){throw i.b&&us(i.b.b),l})},t.cd=function(i){if(!i)return wt(new P("null-user"));if(this.W!=i.tenantId)return wt(new P("tenant-id-mismatch"));var l=this,p={};p.apiKey=K(this).options.apiKey,p.authDomain=K(this).options.authDomain,p.appName=K(this).name;var m=Vv(i,p,l.G,l.Ga());return jt(this,this.i.then(function(){if(K(l).options.apiKey!=i.l)return m.reload()}).then(function(){return ae(l)&&i.uid==ae(l).uid?(Uu(ae(l),i),l.da(i)):(Ne(l,m),Cc(m),l.da(m))}).then(function(){Rc(l)}))};function Zy(i,l){var p={};return p.apiKey=K(i).options.apiKey,p.authDomain=K(i).options.authDomain,p.appName=K(i).name,i.f&&(p.emulatorConfig=i.f),i.$.then(function(){return mw(p,l,i.G,i.Ga())}).then(function(m){return ae(i)&&m.uid==ae(i).uid?(Uu(ae(i),m),i.da(m)):(Ne(i,m),Cc(m),i.da(m))}).then(function(){Rc(i)})}function Ne(i,l){ae(i)&&(Mu(ae(i),i.Ba),Mn(ae(i),"tokenChanged",i.ya),Mn(ae(i),"userDeleted",i.za),Mn(ae(i),"userInvalidated",i.Aa),ia(ae(i))),l&&(l.R.push(i.Ba),Fr(l,"tokenChanged",i.ya),Fr(l,"userDeleted",i.za),Fr(l,"userInvalidated",i.Aa),0<i.A&&Wy(l)),me(i,"currentUser",l),l&&(l.wa(i.ka()),Du(l,i),Lu(l,i.N),Fv(l,i),Hs(l.a,i.f),Tc(l,i))}t.zb=function(){var i=this,l=this.i.then(function(){return i.b&&us(i.b.b),ae(i)?(Ne(i,null),Zh(i.l).then(function(){Rc(i)})):_e()});return jt(this,l)};function bw(i){var l=Xy(i.G,K(i).options.authDomain).then(function(p){return(i.o=p)&&(p.ha=i.G),Bu(i.G)});return jt(i,l)}function eb(i){var l=K(i).options.authDomain,p=bw(i).then(function(){return Bv(i.l,l,i.f)}).then(function(m){return m?(m.ha=i.G,i.o&&(i.o.ga||null)==(m.ga||null)?m:m.reload().then(function(){return qu(i.l,m).then(function(){return m})}).s(function(_){return _.code=="auth/network-request-failed"?m:Zh(i.l)})):null}).then(function(m){Ne(i,m||null)});return jt(i,p)}function tb(i){return i.$.then(function(){return Li(i)}).s(function(){}).then(function(){if(!i.m)return i.pa()}).s(function(){}).then(function(){if(!i.m){i.ba=!0;var l=i.l;l.b.addListener(sn("local"),l.a,i.pa)}})}t.Yc=function(){var i=this;return Bv(this.l,K(this).options.authDomain).then(function(l){if(!i.m){var p;if(p=ae(i)&&l){p=ae(i).uid;var m=l.uid;p=p==null||p===""||m===void 0||m===null||m===""?!1:p==m}if(p)return Uu(ae(i),l),ae(i).I();(ae(i)||l)&&(Ne(i,l),l&&(Cc(l),l.ha=i.G),i.b&&qh(i.b,i),Rc(i))}})},t.da=function(i){return qu(this.l,i)},t.kc=function(){Rc(this),this.da(ae(this))},t.vc=function(){this.zb()},t.wc=function(){this.zb()};function ca(i,l){var p=null,m=null;return jt(i,l.then(function(_){return p=uu(_),m=Ul(_),Zy(i,_)},function(_){var S=null;throw _&&_.code==="auth/multi-factor-auth-required"&&(S=Lv(_.w(),i,L(i.jc,i))),S||_}).then(function(){return ho({user:ae(i),credential:p,additionalUserInfo:m,operationType:"signIn"})}))}t.jc=function(i){var l=this;return this.i.then(function(){return ca(l,_e(i))})},t.yc=function(i){var l=this;this.addAuthTokenListener(function(){i.next(ae(l))})},t.zc=function(i){var l=this;ww(this,function(){i.next(ae(l))})},t.Hc=function(i,l,p){var m=this;return this.ba&&Promise.resolve().then(function(){typeof i=="function"?i(ae(m)):typeof i.next=="function"&&i.next(ae(m))}),this.ac(i,l,p)},t.Gc=function(i,l,p){var m=this;return this.ba&&Promise.resolve().then(function(){m.X=m.getUid(),typeof i=="function"?i(ae(m)):typeof i.next=="function"&&i.next(ae(m))}),this.bc(i,l,p)},t.mc=function(i){var l=this,p=this.i.then(function(){return ae(l)?ae(l).I(i).then(function(m){return{accessToken:m}}):null});return jt(this,p)},t.Sc=function(i){var l=this;return this.i.then(function(){return ca(l,Ve(l.a,py,{token:i}))}).then(function(p){var m=p.user;return ls(m,"isAnonymous",!1),l.da(m),p})},t.Tc=function(i,l){var p=this;return this.i.then(function(){return ca(p,Ve(p.a,fv,{email:i,password:l}))})},t.dc=function(i,l){var p=this;return this.i.then(function(){return ca(p,Ve(p.a,ny,{email:i,password:l}))})},t.Za=function(i){var l=this;return this.i.then(function(){return ca(l,i.ja(l.a))})},t.Rc=function(i){return Gf("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.Za(i)},t.yb=function(){var i=this;return this.i.then(function(){var l=ae(i);if(l&&l.isAnonymous){var p=ho({providerId:null,isNewUser:!1});return ho({user:l,credential:null,additionalUserInfo:p,operationType:"signIn"})}return ca(i,i.a.yb()).then(function(m){var _=m.user;return ls(_,"isAnonymous",!0),i.da(_),m})})};function K(i){return i.app}function ae(i){return i.currentUser}t.getUid=function(){return ae(this)&&ae(this).uid||null};function np(i){return ae(i)&&ae(i)._lat||null}function Rc(i){if(i.ba){for(var l=0;l<i.u.length;l++)i.u[l]&&i.u[l](np(i));if(i.X!==i.getUid()&&i.P.length)for(i.X=i.getUid(),l=0;l<i.P.length;l++)i.P[l]&&i.P[l](np(i))}}t.cc=function(i){this.addAuthTokenListener(i),this.A++,0<this.A&&ae(this)&&Wy(ae(this))},t.Oc=function(i){var l=this;rt(this.u,function(p){p==i&&l.A--}),0>this.A&&(this.A=0),this.A==0&&ae(this)&&ia(ae(this)),this.removeAuthTokenListener(i)},t.addAuthTokenListener=function(i){var l=this;this.u.push(i),jt(this,this.i.then(function(){l.m||sr(l.u,i)&&i(np(l))}))},t.removeAuthTokenListener=function(i){$e(this.u,function(l){return l==i})};function ww(i,l){i.P.push(l),jt(i,i.i.then(function(){!i.m&&sr(i.P,l)&&i.X!==i.getUid()&&(i.X=i.getUid(),l(np(i)))}))}t.delete=function(){this.m=!0;for(var i=0;i<this.R.length;i++)this.R[i].cancel("app-deleted");return this.R=[],this.l&&(i=this.l,i.b.removeListener(sn("local"),i.a,this.pa)),this.b&&(Nv(this.b,this),us(this.b.b)),Promise.resolve()};function jt(i,l){return i.R.push(l),l.na(function(){ze(i.R,l)}),l}t.gc=function(i){return jt(this,ow(this.a,i))},t.Ac=function(i){return!!zd(i)},t.vb=function(i,l){var p=this;return jt(this,_e().then(function(){var m=new nu(l);if(!m.c)throw new P("argument-error",Qf+" must be true when sending sign in link to email");return Fs(m)}).then(function(m){return p.a.vb(i,m)}).then(function(){}))},t.hd=function(i){return this.Qa(i).then(function(l){return l.data.email})},t.mb=function(i,l){return jt(this,this.a.mb(i,l).then(function(){}))},t.Qa=function(i){return jt(this,this.a.Qa(i).then(function(l){return new Nl(l)}))},t.ib=function(i){return jt(this,this.a.ib(i).then(function(){}))},t.ub=function(i,l){var p=this;return jt(this,_e().then(function(){return typeof l>"u"||V(l)?{}:Fs(new nu(l))}).then(function(m){return p.a.ub(i,m)}).then(function(){}))},t.Vc=function(i,l){return jt(this,bc(this,i,l,L(this.Za,this)))},t.Uc=function(i,l){var p=this;return jt(this,_e().then(function(){var m=l||za(),_=Hd(i,m);if(m=zd(m),!m)throw new P("argument-error","Invalid email link!");if(m.tenantId!==p.S())throw new P("tenant-id-mismatch");return p.Za(_)}))};function Gu(){}Gu.prototype.render=function(){},Gu.prototype.reset=function(){},Gu.prototype.getResponse=function(){},Gu.prototype.execute=function(){};function Wu(){this.a={},this.b=1e12}var qv=null;Wu.prototype.render=function(i,l){return this.a[this.b.toString()]=new hs(i,l),this.b++},Wu.prototype.reset=function(i){var l=Mi(this,i);i=Io(i),l&&i&&(l.delete(),delete this.a[i])},Wu.prototype.getResponse=function(i){return(i=Mi(this,i))?i.getResponse():null},Wu.prototype.execute=function(i){(i=Mi(this,i))&&i.execute()};function Mi(i,l){return(l=Io(l))&&i.a[l]||null}function Io(i){return(i=typeof i>"u"?1e12:i)?i.toString():null}function hs(i,l){this.g=!1,this.c=l,this.a=this.b=null,this.h=this.c.size!=="invisible",this.f=nn(i);var p=this;this.i=function(){p.execute()},this.h?this.execute():Fr(this.f,"click",this.i)}hs.prototype.getResponse=function(){return Hu(this),this.b},hs.prototype.execute=function(){Hu(this);var i=this;this.a||(this.a=setTimeout(function(){i.b=Sm();var l=i.c.callback,p=i.c["expired-callback"];if(l)try{l(i.b)}catch{}i.a=setTimeout(function(){if(i.a=null,i.b=null,p)try{p()}catch{}i.h&&i.execute()},6e4)},500))},hs.prototype.delete=function(){Hu(this),this.g=!0,clearTimeout(this.a),this.a=null,Mn(this.f,"click",this.i)};function Hu(i){if(i.g)throw Error("reCAPTCHA mock was already deleted!")}function Gv(){}me(Gv,"FACTOR_ID","phone");function Oc(){}Oc.prototype.g=function(){return qv||(qv=new Wu),_e(qv)},Oc.prototype.c=function(){};var Wv=null;function Hv(){this.b=d.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var rp=new Qe(Nt,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),nb=new fo(3e4,6e4);Hv.prototype.g=function(i){var l=this;return new Ke(function(p,m){var _=setTimeout(function(){m(new P("network-request-failed"))},nb.get());if(!d.grecaptcha||i!==l.f&&!l.b){d[l.a]=function(){if(d.grecaptcha){l.f=i;var k=d.grecaptcha.render;d.grecaptcha.render=function(O,Y){return O=k(O,Y),l.b++,O},clearTimeout(_),p(d.grecaptcha)}else clearTimeout(_),m(new P("internal-error"));delete d[l.a]};var S=gl(rp,{onload:l.a,hl:i||""});_e(dh(S)).s(function(){clearTimeout(_),m(new P("internal-error","Unable to load external reCAPTCHA dependencies!"))})}else clearTimeout(_),p(d.grecaptcha)})},Hv.prototype.c=function(){this.b--};var ip=null;function Pc(i,l,p,m,_,S,k){if(me(this,"type","recaptcha"),this.c=this.f=null,this.A=!1,this.m=l,this.g=null,k?(Wv||(Wv=new Oc),k=Wv):(ip||(ip=new Hv),k=ip),this.v=k,this.a=p||{theme:"light",type:"image"},this.h=[],this.a[ib])throw new P("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i=this.a[_w]==="invisible",!d.document)throw new P("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!nn(l)||!this.i&&nn(l).hasChildNodes())throw new P("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.o=new zr(i,S||null,_||null),this.u=m||function(){return null};var O=this;this.l=[];var Y=this.a[zv];this.a[zv]=function(Pe){if(Dc(O,Pe),typeof Y=="function")Y(Pe);else if(typeof Y=="string"){var mt=Tt(Y,d);typeof mt=="function"&&mt(Pe)}};var ee=this.a[rb];this.a[rb]=function(){if(Dc(O,null),typeof ee=="function")ee();else if(typeof ee=="string"){var Pe=Tt(ee,d);typeof Pe=="function"&&Pe()}}}var zv="callback",rb="expired-callback",ib="sitekey",_w="size";function Dc(i,l){for(var p=0;p<i.l.length;p++)try{i.l[p](l)}catch{}}function Kv(i,l){$e(i.l,function(p){return p==l})}function zu(i,l){return i.h.push(l),l.na(function(){ze(i.h,l)}),l}t=Pc.prototype,t.Ia=function(){var i=this;return this.f?this.f:this.f=zu(this,_e().then(function(){if(Bf()&&!ar())return Al();throw new P("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return i.v.g(i.u())}).then(function(l){return i.g=l,Ve(i.o,oc,{})}).then(function(l){i.a[ib]=l.recaptchaSiteKey}).s(function(l){throw i.f=null,l}))},t.render=function(){fr(this);var i=this;return zu(this,this.Ia().then(function(){if(i.c===null){var l=i.m;if(!i.i){var p=nn(l);l=lm("DIV"),p.appendChild(l)}i.c=i.g.render(l,i.a)}return i.c}))},t.verify=function(){fr(this);var i=this;return zu(this,this.render().then(function(l){return new Ke(function(p){var m=i.g.getResponse(l);if(m)p(m);else{var _=function(S){S&&(Kv(i,_),p(S))};i.l.push(_),i.i&&i.g.execute(i.c)}})}))},t.reset=function(){fr(this),this.c!==null&&this.g.reset(this.c)};function fr(i){if(i.A)throw new P("internal-error","RecaptchaVerifier instance has been destroyed.")}t.clear=function(){fr(this),this.A=!0,this.v.c();for(var i=0;i<this.h.length;i++)this.h[i].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){i=nn(this.m);for(var l;l=i.firstChild;)i.removeChild(l)}};function Fi(i,l,p){var m=!1;try{this.b=p||Z.app()}catch{throw new P("argument-error","No firebase.app.App instance is currently initialized.")}if(this.b.options&&this.b.options.apiKey)p=this.b.options.apiKey;else throw new P("invalid-api-key");var _=this,S=null;try{S=this.b.auth().Ga()}catch{}try{m=this.b.auth().settings.appVerificationDisabledForTesting}catch{}S=Z.SDK_VERSION?Ds(Z.SDK_VERSION,S):null,Pc.call(this,p,i,l,function(){try{var k=_.b.auth().ka()}catch{k=null}return k},S,re(le),m)}z(Fi,Pc);function o(i,l,p,m){e:{p=Array.prototype.slice.call(p);for(var _=0,S=!1,k=0;k<l.length;k++)if(l[k].optional)S=!0;else{if(S)throw new P("internal-error","Argument validator encountered a required argument after an optional argument.");_++}if(S=l.length,p.length<_||S<p.length)m="Expected "+(_==S?_==1?"1 argument":_+" arguments":_+"-"+S+" arguments")+" but got "+p.length+".";else{for(_=0;_<p.length;_++)if(S=l[_].optional&&p[_]===void 0,!l[_].K(p[_])&&!S){if(l=l[_],0>_||_>=u.length)throw new P("internal-error","Argument validator received an unsupported number of arguments.");p=u[_],m=(m?"":p+" argument ")+(l.name?'"'+l.name+'" ':"")+"must be "+l.J+".";break e}m=null}}if(m)throw new P("argument-error",i+" failed: "+m)}var u="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function f(i,l){return{name:i||"",J:"a valid string",optional:!!l,K:function(p){return typeof p=="string"}}}function v(i,l){return{name:i||"",J:"a boolean",optional:!!l,K:function(p){return typeof p=="boolean"}}}function b(i,l){return{name:i||"",J:"a valid object",optional:!!l,K:A}}function w(i,l){return{name:i||"",J:"a function",optional:!!l,K:function(p){return typeof p=="function"}}}function C(i,l){return{name:i||"",J:"null",optional:!!l,K:function(p){return p===null}}}function R(){return{name:"",J:"an HTML element",optional:!1,K:function(i){return!!(i&&i instanceof Element)}}}function W(){return{name:"auth",J:"an instance of Firebase Auth",optional:!0,K:function(i){return!!(i&&i instanceof jn)}}}function ne(){return{name:"app",J:"an instance of Firebase App",optional:!0,K:function(i){return!!(i&&i instanceof Z.app.App)}}}function pe(i){return{name:i?i+"Credential":"credential",J:i?"a valid "+i+" credential":"a valid credential",optional:!1,K:function(l){if(!l)return!1;var p=!i||l.providerId===i;return!(!l.ja||!p)}}}function lt(){return{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(i){return i?!!i.rb:!1}}}function Vn(){return{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(i){return!!(i&&i.providerId&&i.hasOwnProperty&&i.hasOwnProperty("isOAuthProvider"))}}}function op(i,l){return A(i)&&typeof i.type=="string"&&i.type===l&&typeof i.Ha=="function"}function Ku(i){return A(i)&&typeof i.uid=="string"}function tr(){return{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(i){return!(!i||typeof i.type!="string"||typeof i.verify!="function")}}}function Et(i,l,p,m){return{name:p||"",J:i.J+" or "+l.J,optional:!!m,K:function(_){return i.K(_)||l.K(_)}}}function It(i,l){for(var p in l){var m=l[p].name;i[m]=s1(m,i[p],l[p].j)}}function o1(i,l){for(var p in l){var m=l[p].name;m!==p&&Object.defineProperty(i,m,{get:H(function(_){return this[_]},p),set:H(function(_,S,k,O){o(_,[k],[O],!0),this[S]=O},m,p,l[p].jb),enumerable:!0})}}function an(i,l,p,m){i[l]=s1(l,p,m)}function s1(i,l,p){function m(){var k=Array.prototype.slice.call(arguments);return o(_,p,k),l.apply(this,k)}if(!p)return l;var _=uN(i),S;for(S in l)m[S]=l[S];for(S in l.prototype)m.prototype[S]=l.prototype[S];return m}function uN(i){return i=i.split("."),i[i.length-1]}It(jn.prototype,{ib:{name:"applyActionCode",j:[f("code")]},Qa:{name:"checkActionCode",j:[f("code")]},mb:{name:"confirmPasswordReset",j:[f("code"),f("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[f("email"),f("password")]},gc:{name:"fetchSignInMethodsForEmail",j:[f("email")]},qa:{name:"getRedirectResult",j:[]},Ac:{name:"isSignInWithEmailLink",j:[f("emailLink")]},Gc:{name:"onAuthStateChanged",j:[Et(b(),w(),"nextOrObserver"),w("opt_error",!0),w("opt_completed",!0)]},Hc:{name:"onIdTokenChanged",j:[Et(b(),w(),"nextOrObserver"),w("opt_error",!0),w("opt_completed",!0)]},ub:{name:"sendPasswordResetEmail",j:[f("email"),Et(b("opt_actionCodeSettings",!0),C(null,!0),"opt_actionCodeSettings",!0)]},vb:{name:"sendSignInLinkToEmail",j:[f("email"),b("actionCodeSettings")]},wb:{name:"setPersistence",j:[f("persistence")]},Rc:{name:"signInAndRetrieveDataWithCredential",j:[pe()]},yb:{name:"signInAnonymously",j:[]},Za:{name:"signInWithCredential",j:[pe()]},Sc:{name:"signInWithCustomToken",j:[f("token")]},Tc:{name:"signInWithEmailAndPassword",j:[f("email"),f("password")]},Uc:{name:"signInWithEmailLink",j:[f("email"),f("emailLink",!0)]},Vc:{name:"signInWithPhoneNumber",j:[f("phoneNumber"),tr()]},Wc:{name:"signInWithPopup",j:[Vn()]},Xc:{name:"signInWithRedirect",j:[Vn()]},cd:{name:"updateCurrentUser",j:[Et(function(i){return{name:"user",J:"an instance of Firebase User",optional:!1,K:function(l){return!!(l&&l instanceof kn)}}}(),C(),"user")]},zb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[f(null,!0)]},ed:{name:"useDeviceLanguage",j:[]},fd:{name:"useEmulator",j:[f("url")]},hd:{name:"verifyPasswordResetCode",j:[f("code")]}}),o1(jn.prototype,{lc:{name:"languageCode",jb:Et(f(),C(),"languageCode")},ti:{name:"tenantId",jb:Et(f(),C(),"tenantId")}}),jn.Persistence=Qs,jn.Persistence.LOCAL="local",jn.Persistence.SESSION="session",jn.Persistence.NONE="none",It(kn.prototype,{delete:{name:"delete",j:[]},nc:{name:"getIdTokenResult",j:[v("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[v("opt_forceRefresh",!0)]},Bc:{name:"linkAndRetrieveDataWithCredential",j:[pe()]},pb:{name:"linkWithCredential",j:[pe()]},Cc:{name:"linkWithPhoneNumber",j:[f("phoneNumber"),tr()]},Dc:{name:"linkWithPopup",j:[Vn()]},Ec:{name:"linkWithRedirect",j:[Vn()]},Kc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[pe()]},sb:{name:"reauthenticateWithCredential",j:[pe()]},Lc:{name:"reauthenticateWithPhoneNumber",j:[f("phoneNumber"),tr()]},Mc:{name:"reauthenticateWithPopup",j:[Vn()]},Nc:{name:"reauthenticateWithRedirect",j:[Vn()]},reload:{name:"reload",j:[]},tb:{name:"sendEmailVerification",j:[Et(b("opt_actionCodeSettings",!0),C(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[f(null,!0)]},bd:{name:"unlink",j:[f("provider")]},Ab:{name:"updateEmail",j:[f("email")]},Bb:{name:"updatePassword",j:[f("password")]},dd:{name:"updatePhoneNumber",j:[pe("phone")]},Cb:{name:"updateProfile",j:[b("profile")]},Db:{name:"verifyBeforeUpdateEmail",j:[f("email"),Et(b("opt_actionCodeSettings",!0),C(null,!0),"opt_actionCodeSettings",!0)]}}),It(Wu.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),It(Gu.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),It(Ke.prototype,{na:{name:"finally"},s:{name:"catch"},then:{name:"then"}}),o1(Dv.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",jb:v("appVerificationDisabledForTesting")}}),It(yc.prototype,{confirm:{name:"confirm",j:[f("verificationCode")]}}),an(ou,"fromJSON",function(i){i=typeof i=="string"?JSON.parse(i):i;for(var l,p=[jm,Vm,Bm,Um],m=0;m<p.length;m++)if(l=p[m](i))return l;return null},[Et(f(),b(),"json")]),an(Cr,"credential",function(i,l){return new yo(i,l)},[f("email"),f("password")]),It(yo.prototype,{w:{name:"toJSON",j:[f(null,!0)]}}),It(Jo.prototype,{Ca:{name:"addScope",j:[f("scope")]},Ka:{name:"setCustomParameters",j:[b("customOAuthParameters")]}}),an(Jo,"credential",ql,[Et(f(),b(),"token")]),an(Cr,"credentialWithLink",Hd,[f("email"),f("emailLink")]),It(Ai.prototype,{Ca:{name:"addScope",j:[f("scope")]},Ka:{name:"setCustomParameters",j:[b("customOAuthParameters")]}}),an(Ai,"credential",Gl,[Et(f(),b(),"token")]),It(Ci.prototype,{Ca:{name:"addScope",j:[f("scope")]},Ka:{name:"setCustomParameters",j:[b("customOAuthParameters")]}}),an(Ci,"credential",Wl,[Et(f(),Et(b(),C()),"idToken"),Et(f(),C(),"accessToken",!0)]),It(mo.prototype,{Ka:{name:"setCustomParameters",j:[b("customOAuthParameters")]}}),an(mo,"credential",Hl,[Et(f(),b(),"token"),f("secret",!0)]),It(pn.prototype,{Ca:{name:"addScope",j:[f("scope")]},credential:{name:"credential",j:[Et(f(),Et(b(),C()),"optionsOrIdToken"),Et(f(),C(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[b("customOAuthParameters")]}}),It(ur.prototype,{w:{name:"toJSON",j:[f(null,!0)]}}),It(qr.prototype,{w:{name:"toJSON",j:[f(null,!0)]}}),an(xi,"credential",au,[f("verificationId"),f("verificationCode")]),It(xi.prototype,{eb:{name:"verifyPhoneNumber",j:[Et(f(),function(i,l){return{name:i||"phoneInfoOptions",J:"valid phone info options",optional:!1,K:function(p){return p?p.session&&p.phoneNumber?op(p.session,iu)&&typeof p.phoneNumber=="string":p.session&&p.multiFactorHint?op(p.session,Bl)&&Ku(p.multiFactorHint):p.session&&p.multiFactorUid?op(p.session,Bl)&&typeof p.multiFactorUid=="string":p.phoneNumber?typeof p.phoneNumber=="string":!1:!1}}}(),"phoneInfoOptions"),tr()]}}),It(ki.prototype,{w:{name:"toJSON",j:[f(null,!0)]}}),It(P.prototype,{toJSON:{name:"toJSON",j:[f(null,!0)]}}),It(Vs.prototype,{toJSON:{name:"toJSON",j:[f(null,!0)]}}),It(ih.prototype,{toJSON:{name:"toJSON",j:[f(null,!0)]}}),It(Wh.prototype,{toJSON:{name:"toJSON",j:[f(null,!0)]}}),It(_c.prototype,{Qc:{name:"resolveSignIn",j:[lt()]}}),It(ta.prototype,{Qb:{name:"getSession",j:[]},ec:{name:"enroll",j:[lt(),f("displayName",!0)]},ad:{name:"unenroll",j:[Et({name:"multiFactorInfo",J:"a valid multiFactorInfo",optional:!1,K:Ku},f(),"multiFactorInfoIdentifier")]}}),It(Fi.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),an(Od,"parseLink",$f,[f("link")]),an(Gv,"assertion",function(i){return new Ou(i)},[pe("phone")]),function(){if(typeof Z<"u"&&Z.INTERNAL&&Z.INTERNAL.registerComponent){var i={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Rl,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:Za,VERIFY_AND_CHANGE_EMAIL:eu,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:jn,AuthCredential:ou,Error:P};an(i,"EmailAuthProvider",Cr,[]),an(i,"FacebookAuthProvider",Jo,[]),an(i,"GithubAuthProvider",Ai,[]),an(i,"GoogleAuthProvider",Ci,[]),an(i,"TwitterAuthProvider",mo,[]),an(i,"OAuthProvider",pn,[f("providerId")]),an(i,"SAMLAuthProvider",Wd,[f("providerId")]),an(i,"PhoneAuthProvider",xi,[W()]),an(i,"RecaptchaVerifier",Fi,[Et(f(),R(),"recaptchaContainer"),b("recaptchaParameters",!0),ne()]),an(i,"ActionCodeURL",Od,[]),an(i,"PhoneMultiFactorGenerator",Gv,[]),Z.INTERNAL.registerComponent({name:"auth",instanceFactory:function(l){return l=l.getProvider("app").getImmediate(),new jn(l)},multipleInstances:!1,serviceProps:i,instantiationMode:"LAZY",type:"PUBLIC"}),Z.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(l){return l=l.getProvider("auth").getImmediate(),{getUid:L(l.getUid,l),getToken:L(l.mc,l),addAuthTokenListener:L(l.cc,l),removeAuthTokenListener:L(l.Oc,l)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),Z.registerVersion("@firebase/auth","0.15.0"),Z.INTERNAL.extendNamespace({User:kn})}else throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.")}()}).apply(typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var FT={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ie=function(t,e){if(!t)throw jp(e)},jp=function(t){return new Error("Firebase Database ("+FT.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var UT=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},MN=function(t){for(var e=[],n=0,r=0;n<t.length;){var s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){var a=t[n++];e[r++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){var a=t[n++],c=t[n++],h=t[n++],d=((s&7)<<18|(a&63)<<12|(c&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{var a=t[n++],c=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(a&63)<<6|c&63)}}return e.join("")},cE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],s=0;s<t.length;s+=3){var a=t[s],c=s+1<t.length,h=c?t[s+1]:0,d=s+2<t.length,g=d?t[s+2]:0,y=a>>2,E=(a&3)<<4|h>>4,I=(h&15)<<2|g>>6,T=g&63;d||(T=64,c||(I=64)),r.push(n[y],n[E],n[I],n[T])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(UT(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):MN(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],s=0;s<t.length;){var a=n[t.charAt(s++)],c=s<t.length,h=c?n[t.charAt(s)]:0;++s;var d=s<t.length,g=d?n[t.charAt(s)]:64;++s;var y=s<t.length,E=y?n[t.charAt(s)]:64;if(++s,a==null||h==null||g==null||E==null)throw Error();var I=a<<2|h>>4;if(r.push(I),g!==64){var T=h<<4&240|g>>2;if(r.push(T),E!==64){var x=g<<6&192|E;r.push(x)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},FN=function(t){var e=UT(t);return cE.encodeByteArray(e,!0)},c1=function(t){try{return cE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UN(t){return jT(void 0,t)}function jT(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:var n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(var r in e)e.hasOwnProperty(r)&&(t[r]=jT(t[r],e[r]));return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ko=function(){function t(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(n,r){e.resolve=n,e.reject=r})}return t.prototype.wrapCallback=function(e){var n=this;return function(r,s){r?n.reject(r):n.resolve(s),typeof e=="function"&&(n.promise.catch(function(){}),e.length===1?e(r):e(r,s))}},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zc(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function fE(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(zc())}function hE(){var t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function VT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function jN(){return zc().indexOf("Electron/")>=0}function VN(){var t=zc();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function BN(){return zc().indexOf("MSAppHost/")>=0}function qN(){return FT.NODE_ADMIN===!0}function pE(){return"indexedDB"in self&&indexedDB!=null}function dE(){return new Promise(function(t,e){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",s=window.indexedDB.open(r);s.onsuccess=function(){s.result.close(),n||window.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=function(){n=!1},s.onerror=function(){var a;e(((a=s.error)===null||a===void 0?void 0:a.message)||"")}}catch(a){e(a)}})}function BT(){return!(!navigator||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var GN="FirebaseError",Rg=function(t){we(e,t);function e(n,r){var s=t.call(this,r)||this;return s.code=n,s.name=GN,Object.setPrototypeOf(s,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,Vp.prototype.create),s}return e}(Error),Vp=function(){function t(e,n,r){this.service=e,this.serviceName=n,this.errors=r}return t.prototype.create=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];for(var s=n[0]||{},a=this.service+"/"+e,c=this.errors[e],h=c?WN(c,s):"Error",d=this.serviceName+": "+h+" ("+a+").",g=new Rg(a,d),y=0,E=Object.keys(s);y<E.length;y++){var I=E[y];I.slice(-1)!=="_"&&(I in g&&console.warn('Overwriting FirebaseError base field "'+I+'" can cause unexpected behavior.'),g[I]=s[I])}return g},t}();function WN(t,e){return t.replace(HN,function(n,r){var s=e[r];return s!=null?String(s):"<"+r+"?>"})}var HN=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hg(t){return JSON.parse(t)}function Wn(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qT=function(t){var e={},n={},r={},s="";try{var a=t.split(".");e=hg(c1(a[0])||""),n=hg(c1(a[1])||""),s=a[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:s}},zN=function(t){var e=qT(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},KN=function(t){var e=qT(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hi(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function No(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function m_(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Nb(t,e,n){var r={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=e.call(n,t[s],s,t));return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YN(t){for(var e=[],n=function(d,g){Array.isArray(g)?g.forEach(function(y){e.push(encodeURIComponent(d)+"="+encodeURIComponent(y))}):e.push(encodeURIComponent(d)+"="+encodeURIComponent(g))},r=0,s=Object.entries(t);r<s.length;r++){var a=s[r],c=a[0],h=a[1];n(c,h)}return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var XN=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(e,n){n||(n=0);var r=this.W_;if(typeof e=="string")for(var s=0;s<16;s++)r[s]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(var s=0;s<16;s++)r[s]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(var s=16;s<80;s++){var a=r[s-3]^r[s-8]^r[s-14]^r[s-16];r[s]=(a<<1|a>>>31)&4294967295}for(var c=this.chain_[0],h=this.chain_[1],d=this.chain_[2],g=this.chain_[3],y=this.chain_[4],E,I,s=0;s<80;s++){s<40?s<20?(E=g^h&(d^g),I=1518500249):(E=h^d^g,I=1859775393):s<60?(E=h&d|g&(h|d),I=2400959708):(E=h^d^g,I=3395469782);var a=(c<<5|c>>>27)+E+y+I+r[s]&4294967295;y=g,g=d,d=(h<<30|h>>>2)&4294967295,h=c,c=a}this.chain_[0]=this.chain_[0]+c&4294967295,this.chain_[1]=this.chain_[1]+h&4294967295,this.chain_[2]=this.chain_[2]+d&4294967295,this.chain_[3]=this.chain_[3]+g&4294967295,this.chain_[4]=this.chain_[4]+y&4294967295},t.prototype.update=function(e,n){if(e!=null){n===void 0&&(n=e.length);for(var r=n-this.blockSize,s=0,a=this.buf_,c=this.inbuf_;s<n;){if(c===0)for(;s<=r;)this.compress_(e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<n;)if(a[c]=e.charCodeAt(s),++c,++s,c===this.blockSize){this.compress_(a),c=0;break}}else for(;s<n;)if(a[c]=e[s],++c,++s,c===this.blockSize){this.compress_(a),c=0;break}}this.inbuf_=c,this.total_+=n}},t.prototype.digest=function(){var e=[],n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var r=this.blockSize-1;r>=56;r--)this.buf_[r]=n&255,n/=256;this.compress_(this.buf_);for(var s=0,r=0;r<5;r++)for(var a=24;a>=0;a-=8)e[s]=this.chain_[r]>>a&255,++s;return e},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Re=function(t,e,n,r){var s;if(r<e?s="at least "+e:r>n&&(s=n===0?"none":"no more than "+n),s){var a=t+" failed: Was called with "+r+(r===1?" argument.":" arguments.")+" Expects "+s+".";throw new Error(a)}};function Gi(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}var s=t+" failed: ";return s+=r+" argument ",s}function Gn(t,e,n,r){if(!(r&&!n)&&typeof n!="function")throw new Error(Gi(t,e,r)+"must be a valid function.")}function f1(t,e,n,r){if(n&&(typeof n!="object"||n===null))throw new Error(Gi(t,e,r)+"must be a valid context object.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $N=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var s=t.charCodeAt(r);if(s>=55296&&s<=56319){var a=s-55296;r++,ie(r<t.length,"Surrogate pair missing trail surrogate.");var c=t.charCodeAt(r)-56320;s=65536+(a<<10)+c}s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):s<65536?(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},Eb=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var QN=1e3,JN=2,ZN=4*60*60*1e3,eR=.5;function y_(t,e,n){e===void 0&&(e=QN),n===void 0&&(n=JN);var r=e*Math.pow(n,t),s=Math.round(eR*r*(Math.random()-.5)*2);return Math.min(ZN,r+s)}var ms=function(){function t(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},t.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},t.prototype.setServiceProps=function(e){return this.serviceProps=e,this},t}(),tR={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nR=function(){function t(e){this.domStorage_=e,this.prefix_="firebase:"}return t.prototype.set=function(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Wn(n))},t.prototype.get=function(e){var n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:hg(n)},t.prototype.remove=function(e){this.domStorage_.removeItem(this.prefixedName_(e))},t.prototype.prefixedName_=function(e){return this.prefix_+e},t.prototype.toString=function(){return this.domStorage_.toString()},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rR=function(){function t(){this.cache_={},this.isInMemoryStorage=!0}return t.prototype.set=function(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n},t.prototype.get=function(e){return Hi(this.cache_,e)?this.cache_[e]:null},t.prototype.remove=function(e){delete this.cache_[e]},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var GT=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new nR(e)}}catch{}return new rR},jc=GT("localStorage"),b_=GT("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mp=new Up("@firebase/database"),WT=function(){var t=1;return function(){return t++}}(),HT=function(t){var e=$N(t),n=new XN;n.update(e);var r=n.digest();return cE.encodeByteArray(r)},Og=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n="",r=0;r<t.length;r++){var s=t[r];Array.isArray(s)||s&&typeof s=="object"&&typeof s.length=="number"?n+=Og.apply(null,s):typeof s=="object"?n+=Wn(s):n+=s,n+=" "}return n},qc=null,h1=!0,zT=function(t,e){ie(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(mp.logLevel=Le.VERBOSE,qc=mp.log.bind(mp),e&&b_.set("logging_enabled",!0)):typeof t=="function"?qc=t:(qc=null,b_.remove("logging_enabled"))},ir=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(h1===!0&&(h1=!1,qc===null&&b_.get("logging_enabled")===!0&&zT(!0)),qc){var n=Og.apply(null,t);qc(n)}},Pg=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];ir.apply(void 0,Ca([t],e))}},w_=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE INTERNAL ERROR: "+Og.apply(void 0,Ca(t));mp.error(n)},ga=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE FATAL ERROR: "+Og.apply(void 0,Ca(t));throw mp.error(n),new Error(n)},vr=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE WARNING: "+Og.apply(void 0,Ca(t));mp.warn(n)},iR=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&vr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},g0=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},oR=function(t){if(document.readyState==="complete")t();else{var e=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Kc="[MIN_NAME]",ol="[MAX_NAME]",sf=function(t,e){if(t===e)return 0;if(t===Kc||e===ol)return-1;if(e===Kc||t===ol)return 1;var n=p1(t),r=p1(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1},sR=function(t,e){return t===e?0:t<e?-1:1},Xv=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Wn(e))},vE=function(t){if(typeof t!="object"||t===null)return Wn(t);var e=[];for(var n in t)e.push(n);e.sort();for(var r="{",s=0;s<e.length;s++)s!==0&&(r+=","),r+=Wn(e[s]),r+=":",r+=vE(t[e[s]]);return r+="}",r},KT=function(t,e){var n=t.length;if(n<=e)return[t];for(var r=[],s=0;s<n;s+=e)s+e>n?r.push(t.substring(s,n)):r.push(t.substring(s,s+e));return r};function Rn(t,e){for(var n in t)t.hasOwnProperty(n)&&e(n,t[n])}var YT=function(t){ie(!g0(t),"Invalid JSON number");var e=11,n=52,r=(1<<e-1)-1,s,a,c,h,d;t===0?(a=0,c=0,s=1/t===-1/0?1:0):(s=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(h=Math.min(Math.floor(Math.log(t)/Math.LN2),r),a=h+r,c=Math.round(t*Math.pow(2,n-h)-Math.pow(2,n))):(a=0,c=Math.round(t/Math.pow(2,1-r-n))));var g=[];for(d=n;d;d-=1)g.push(c%2?1:0),c=Math.floor(c/2);for(d=e;d;d-=1)g.push(a%2?1:0),a=Math.floor(a/2);g.push(s?1:0),g.reverse();var y=g.join(""),E="";for(d=0;d<64;d+=8){var I=parseInt(y.substr(d,8),2).toString(16);I.length===1&&(I="0"+I),E=E+I}return E.toLowerCase()},aR=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},uR=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},lR=function(t,e){var n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");var r=new Error(t+" at "+e.path.toString()+": "+n);return r.code=t.toUpperCase(),r},cR=new RegExp("^-?(0*)\\d{1,10}$"),p1=function(t){if(cR.test(t)){var e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},Bp=function(t){try{t()}catch(e){setTimeout(function(){var n=e.stack||"";throw vr("Exception was thrown by user callback.",n),e},Math.floor(0))}},fR=function(){var t=typeof window=="object"&&window.navigator&&window.navigator.userAgent||"";return t.search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},ig=function(t,e){var n=setTimeout(t,e);return typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fe=function(){function t(e,n){if(n===void 0){this.pieces_=e.split("/");for(var r=0,s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[r]=this.pieces_[s],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}return Object.defineProperty(t,"Empty",{get:function(){return new t("")},enumerable:!1,configurable:!0}),t.prototype.getFront=function(){return this.pieceNum_>=this.pieces_.length?null:this.pieces_[this.pieceNum_]},t.prototype.getLength=function(){return this.pieces_.length-this.pieceNum_},t.prototype.popFront=function(){var e=this.pieceNum_;return e<this.pieces_.length&&e++,new t(this.pieces_,e)},t.prototype.getBack=function(){return this.pieceNum_<this.pieces_.length?this.pieces_[this.pieces_.length-1]:null},t.prototype.toString=function(){for(var e="",n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"},t.prototype.toUrlEncodedString=function(){for(var e="",n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(this.pieces_[n])));return e||"/"},t.prototype.slice=function(e){return e===void 0&&(e=0),this.pieces_.slice(this.pieceNum_+e)},t.prototype.parent=function(){if(this.pieceNum_>=this.pieces_.length)return null;for(var e=[],n=this.pieceNum_;n<this.pieces_.length-1;n++)e.push(this.pieces_[n]);return new t(e,0)},t.prototype.child=function(e){for(var n=[],r=this.pieceNum_;r<this.pieces_.length;r++)n.push(this.pieces_[r]);if(e instanceof t)for(var r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else for(var s=e.split("/"),r=0;r<s.length;r++)s[r].length>0&&n.push(s[r]);return new t(n,0)},t.prototype.isEmpty=function(){return this.pieceNum_>=this.pieces_.length},t.relativePath=function(e,n){var r=e.getFront(),s=n.getFront();if(r===null)return n;if(r===s)return t.relativePath(e.popFront(),n.popFront());throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+e+")")},t.comparePaths=function(e,n){for(var r=e.slice(),s=n.slice(),a=0;a<r.length&&a<s.length;a++){var c=sf(r[a],s[a]);if(c!==0)return c}return r.length===s.length?0:r.length<s.length?-1:1},t.prototype.equals=function(e){if(this.getLength()!==e.getLength())return!1;for(var n=this.pieceNum_,r=e.pieceNum_;n<=this.pieces_.length;n++,r++)if(this.pieces_[n]!==e.pieces_[r])return!1;return!0},t.prototype.contains=function(e){var n=this.pieceNum_,r=e.pieceNum_;if(this.getLength()>e.getLength())return!1;for(;n<this.pieces_.length;){if(this.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0},t}(),hR=function(){function t(e,n){this.errorPrefix_=n,this.parts_=e.slice(),this.byteLength_=Math.max(1,this.parts_.length);for(var r=0;r<this.parts_.length;r++)this.byteLength_+=Eb(this.parts_[r]);this.checkValid_()}return Object.defineProperty(t,"MAX_PATH_DEPTH",{get:function(){return 32},enumerable:!1,configurable:!0}),Object.defineProperty(t,"MAX_PATH_LENGTH_BYTES",{get:function(){return 768},enumerable:!1,configurable:!0}),t.prototype.push=function(e){this.parts_.length>0&&(this.byteLength_+=1),this.parts_.push(e),this.byteLength_+=Eb(e),this.checkValid_()},t.prototype.pop=function(){var e=this.parts_.pop();this.byteLength_-=Eb(e),this.parts_.length>0&&(this.byteLength_-=1)},t.prototype.checkValid_=function(){if(this.byteLength_>t.MAX_PATH_LENGTH_BYTES)throw new Error(this.errorPrefix_+"has a key path longer than "+t.MAX_PATH_LENGTH_BYTES+" bytes ("+this.byteLength_+").");if(this.parts_.length>t.MAX_PATH_DEPTH)throw new Error(this.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+t.MAX_PATH_DEPTH+") or object contains a cycle "+this.toErrorString())},t.prototype.toErrorString=function(){return this.parts_.length===0?"":"in property '"+this.parts_.join(".")+"'"},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gE="5",XT="v",$T="s",QT="r",JT="f",ZT="firebaseio.com",eA="ls",pR="p",tA="websocket",nA="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rA=function(){function t(e,n,r,s,a,c,h){a===void 0&&(a=!1),c===void 0&&(c=""),h===void 0&&(h=!1),this.secure=n,this.namespace=r,this.webSocketOnly=s,this.nodeAdmin=a,this.persistenceKey=c,this.includeNamespaceInQueryParams=h,this.host=e.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.internalHost=jc.get("host:"+e)||this.host}return t.prototype.needsQueryParam=function(){return this.host!==this.internalHost||this.isCustomHost()||this.includeNamespaceInQueryParams},t.prototype.isCacheableHost=function(){return this.internalHost.substr(0,2)==="s-"},t.prototype.isDemoHost=function(){return this.domain==="firebaseio-demo.com"},t.prototype.isCustomHost=function(){return this.domain!=="firebaseio.com"&&this.domain!=="firebaseio-demo.com"},t.prototype.updateHost=function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&jc.set("host:"+this.host,this.internalHost))},t.prototype.connectionURL=function(e,n){ie(typeof e=="string","typeof type must == string"),ie(typeof n=="object","typeof params must == object");var r;if(e===tA)r=(this.secure?"wss://":"ws://")+this.internalHost+"/.ws?";else if(e===nA)r=(this.secure?"https://":"http://")+this.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);this.needsQueryParam()&&(n.ns=this.namespace);var s=[];return Rn(n,function(a,c){s.push(a+"="+c)}),r+s.join("&")},t.prototype.toString=function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e},t.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dR(t){for(var e="",n=t.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var s=n[r];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}e+="/"+s}return e}function vR(t){var e,n,r={};t.charAt(0)==="?"&&(t=t.substring(1));try{for(var s=un(t.split("&")),a=s.next();!a.done;a=s.next()){var c=a.value;if(c.length!==0){var h=c.split("=");h.length===2?r[decodeURIComponent(h[0])]=decodeURIComponent(h[1]):vr("Invalid query segment '"+c+"' in query '"+t+"'")}}}catch(d){e={error:d}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}return r}var __=function(t,e){var n=gR(t),r=n.namespace;n.domain==="firebase.com"&&ga(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&ga("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||iR();var s=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new rA(n.host,n.secure,r,e,s,"",r!==n.subdomain),path:new fe(n.pathString)}},gR=function(t){var e="",n="",r="",s="",a="",c=!0,h="https",d=443;if(typeof t=="string"){var g=t.indexOf("//");g>=0&&(h=t.substring(0,g-1),t=t.substring(g+2));var y=t.indexOf("/");y===-1&&(y=t.length);var E=t.indexOf("?");E===-1&&(E=t.length),e=t.substring(0,Math.min(y,E)),y<E&&(s=dR(t.substring(y,E)));var I=vR(t.substring(Math.min(t.length,E)));g=e.indexOf(":"),g>=0?(c=h==="https"||h==="wss",d=parseInt(e.substring(g+1),10)):g=e.length;var T=e.slice(0,g);if(T.toLowerCase()==="localhost")n="localhost";else if(T.split(".").length<=2)n=T;else{var x=e.indexOf(".");r=e.substring(0,x).toLowerCase(),n=e.substring(x+1),a=r}"ns"in I&&(a=I.ns)}return{host:e,port:d,domain:n,subdomain:r,secure:c,scheme:h,pathString:s,namespace:a}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mR=/[\[\].#$\/\u0000-\u001F\u007F]/,yR=/[\[\].#$\u0000-\u001F\u007F]/,Iw=10*1024*1024,m0=function(t){return typeof t=="string"&&t.length!==0&&!mR.test(t)},iA=function(t){return typeof t=="string"&&t.length!==0&&!yR.test(t)},bR=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),iA(t)},pg=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!g0(t)||t&&typeof t=="object"&&Hi(t,".sv")},tl=function(t,e,n,r,s){s&&n===void 0||Dg(Gi(t,e,s),n,r)},Dg=function(t,e,n){var r=n instanceof fe?new hR(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+r.toErrorString());if(typeof e=="function")throw new Error(t+"contains a function "+r.toErrorString()+" with contents = "+e.toString());if(g0(e))throw new Error(t+"contains "+e.toString()+" "+r.toErrorString());if(typeof e=="string"&&e.length>Iw/3&&Eb(e)>Iw)throw new Error(t+"contains a string greater than "+Iw+" utf8 bytes "+r.toErrorString()+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){var s=!1,a=!1;if(Rn(e,function(c,h){if(c===".value")s=!0;else if(c!==".priority"&&c!==".sv"&&(a=!0,!m0(c)))throw new Error(t+" contains an invalid key ("+c+") "+r.toErrorString()+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);r.push(c),Dg(t,h,r),r.pop()}),s&&a)throw new Error(t+' contains ".value" child '+r.toErrorString()+" in addition to actual children.")}},wR=function(t,e){var n,r;for(n=0;n<e.length;n++){r=e[n];for(var s=r.slice(),a=0;a<s.length;a++)if(!(s[a]===".priority"&&a===s.length-1)){if(!m0(s[a]))throw new Error(t+"contains an invalid key ("+s[a]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(fe.comparePaths);var c=null;for(n=0;n<e.length;n++){if(r=e[n],c!==null&&c.contains(r))throw new Error(t+"contains a path "+c.toString()+" that is ancestor of another path "+r.toString());c=r}},oA=function(t,e,n,r,s){var a=Gi(t,e,s);if(!(n&&typeof n=="object")||Array.isArray(n))throw new Error(a+" must be an object containing the children to replace.");var c=[];Rn(n,function(h,d){var g=new fe(h);if(Dg(a,d,r.child(g)),g.getBack()===".priority"&&!pg(d))throw new Error(a+"contains an invalid value for '"+g.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");c.push(g)}),wR(a,c)},E_=function(t,e,n,r){if(g0(n))throw new Error(Gi(t,e,r)+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!pg(n))throw new Error(Gi(t,e,r)+"must be a valid Firebase priority (a string, finite number, server value, or null).")},Sw=function(t,e,n,r){if(!(r&&n===void 0))switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Gi(t,e,r)+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},Tw=function(t,e,n,r){if(n!==void 0&&!m0(n))throw new Error(Gi(t,e,r)+'was an invalid key = "'+n+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},dg=function(t,e,n,r){if(!iA(n))throw new Error(Gi(t,e,r)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},_R=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),dg(t,e,n,r)},Ui=function(t,e){if(e.getFront()===".info")throw new Error(t+" failed = Can't modify data under /.info/")},sA=function(t,e,n){var r=n.path.toString();if(typeof n.repoInfo.host!="string"||n.repoInfo.host.length===0||!m0(n.repoInfo.namespace)&&n.repoInfo.host.split(":")[0]!=="localhost"||r.length!==0&&!bR(r))throw new Error(Gi(t,e,!1)+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)},ER=function(t,e,n,r){if(n!==void 0&&typeof n!="boolean")throw new Error(Gi(t,e,r)+"must be a boolean.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var IR=function(){function t(e,n){this.repo_=e,this.path_=n}return t.prototype.cancel=function(e){Re("OnDisconnect.cancel",0,1,arguments.length),Gn("OnDisconnect.cancel",1,e,!0);var n=new ko;return this.repo_.onDisconnectCancel(this.path_,n.wrapCallback(e)),n.promise},t.prototype.remove=function(e){Re("OnDisconnect.remove",0,1,arguments.length),Ui("OnDisconnect.remove",this.path_),Gn("OnDisconnect.remove",1,e,!0);var n=new ko;return this.repo_.onDisconnectSet(this.path_,null,n.wrapCallback(e)),n.promise},t.prototype.set=function(e,n){Re("OnDisconnect.set",1,2,arguments.length),Ui("OnDisconnect.set",this.path_),tl("OnDisconnect.set",1,e,this.path_,!1),Gn("OnDisconnect.set",2,n,!0);var r=new ko;return this.repo_.onDisconnectSet(this.path_,e,r.wrapCallback(n)),r.promise},t.prototype.setWithPriority=function(e,n,r){Re("OnDisconnect.setWithPriority",2,3,arguments.length),Ui("OnDisconnect.setWithPriority",this.path_),tl("OnDisconnect.setWithPriority",1,e,this.path_,!1),E_("OnDisconnect.setWithPriority",2,n,!1),Gn("OnDisconnect.setWithPriority",3,r,!0);var s=new ko;return this.repo_.onDisconnectSetWithPriority(this.path_,e,n,s.wrapCallback(r)),s.promise},t.prototype.update=function(e,n){if(Re("OnDisconnect.update",1,2,arguments.length),Ui("OnDisconnect.update",this.path_),Array.isArray(e)){for(var r={},s=0;s<e.length;++s)r[""+s]=e[s];e=r,vr("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}oA("OnDisconnect.update",1,e,this.path_,!1),Gn("OnDisconnect.update",2,n,!0);var a=new ko;return this.repo_.onDisconnectUpdate(this.path_,e,a.wrapCallback(n)),a.promise},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var SR=function(){function t(e,n){this.committed=e,this.snapshot=n}return t.prototype.toJSON=function(){return Re("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var TR=function(){var t="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",e=0,n=[];return function(r){var s=r===e;e=r;var a,c=new Array(8);for(a=7;a>=0;a--)c[a]=t.charAt(r%64),r=Math.floor(r/64);ie(r===0,"Cannot push at time == 0");var h=c.join("");if(s){for(a=11;a>=0&&n[a]===63;a--)n[a]=0;n[a]++}else for(a=0;a<12;a++)n[a]=Math.floor(Math.random()*64);for(a=0;a<12;a++)h+=t.charAt(n[a]);return ie(h.length===20,"nextPushId: Length should be 20."),h}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tt=function(){function t(e,n){this.name=e,this.node=n}return t.Wrap=function(e,n){return new t(e,n)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var y0=function(){function t(){}return t.prototype.getCompare=function(){return this.compare.bind(this)},t.prototype.indexedValueChanged=function(e,n){var r=new tt(Kc,e),s=new tt(Kc,n);return this.compare(r,s)!==0},t.prototype.minPost=function(){return tt.MIN},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ob,aA=function(t){we(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e,"__EMPTY_NODE",{get:function(){return ob},set:function(n){ob=n},enumerable:!1,configurable:!0}),e.prototype.compare=function(n,r){return sf(n.name,r.name)},e.prototype.isDefinedOn=function(n){throw jp("KeyIndex.isDefinedOn not expected to be called.")},e.prototype.indexedValueChanged=function(n,r){return!1},e.prototype.minPost=function(){return tt.MIN},e.prototype.maxPost=function(){return new tt(ol,ob)},e.prototype.makePost=function(n,r){return ie(typeof n=="string","KeyIndex indexValue must always be a string."),new tt(n,ob)},e.prototype.toString=function(){return".key"},e}(y0),nl=new aA;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var I_;function AR(t){I_=t}var uA=function(t){return typeof t=="number"?"number:"+YT(t):"string:"+t},lA=function(t){if(t.isLeafNode()){var e=t.val();ie(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Hi(e,".sv"),"Priority must be a string or number.")}else ie(t===I_||t.isEmpty(),"priority of unexpected type.");ie(t===I_||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var d1,Ap=function(){function t(e,n){n===void 0&&(n=t.__childrenNodeConstructor.EMPTY_NODE),this.value_=e,this.priorityNode_=n,this.lazyHash_=null,ie(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),lA(this.priorityNode_)}return Object.defineProperty(t,"__childrenNodeConstructor",{get:function(){return d1},set:function(e){d1=e},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!0},t.prototype.getPriority=function(){return this.priorityNode_},t.prototype.updatePriority=function(e){return new t(this.value_,e)},t.prototype.getImmediateChild=function(e){return e===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.getChild=function(e){return e.isEmpty()?this:e.getFront()===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.hasChild=function(){return!1},t.prototype.getPredecessorChildName=function(e,n){return null},t.prototype.updateImmediateChild=function(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)},t.prototype.updateChild=function(e,n){var r=e.getFront();return r===null?n:n.isEmpty()&&r!==".priority"?this:(ie(r!==".priority"||e.getLength()===1,".priority must be the last token in a path"),this.updateImmediateChild(r,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(e.popFront(),n)))},t.prototype.isEmpty=function(){return!1},t.prototype.numChildren=function(){return 0},t.prototype.forEachChild=function(e,n){return!1},t.prototype.val=function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},t.prototype.hash=function(){if(this.lazyHash_===null){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+uA(this.priorityNode_.val())+":");var n=typeof this.value_;e+=n+":",n==="number"?e+=YT(this.value_):e+=this.value_,this.lazyHash_=HT(e)}return this.lazyHash_},t.prototype.getValue=function(){return this.value_},t.prototype.compareTo=function(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:(ie(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))},t.prototype.compareToLeafNode_=function(e){var n=typeof e.value_,r=typeof this.value_,s=t.VALUE_TYPE_ORDER.indexOf(n),a=t.VALUE_TYPE_ORDER.indexOf(r);return ie(s>=0,"Unknown leaf type: "+n),ie(a>=0,"Unknown leaf type: "+r),s===a?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:a-s},t.prototype.withIndex=function(){return this},t.prototype.isIndexed=function(){return!0},t.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode()){var n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1},t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cA,fA;function CR(t){cA=t}function kR(t){fA=t}var xR=function(t){we(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.compare=function(n,r){var s=n.node.getPriority(),a=r.node.getPriority(),c=s.compareTo(a);return c===0?sf(n.name,r.name):c},e.prototype.isDefinedOn=function(n){return!n.getPriority().isEmpty()},e.prototype.indexedValueChanged=function(n,r){return!n.getPriority().equals(r.getPriority())},e.prototype.minPost=function(){return tt.MIN},e.prototype.maxPost=function(){return new tt(ol,new Ap("[PRIORITY-POST]",fA))},e.prototype.makePost=function(n,r){var s=cA(n);return new tt(r,new Ap("[PRIORITY-POST]",s))},e.prototype.toString=function(){return".priority"},e}(y0),bt=new xR;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sb=function(){function t(e,n,r,s,a){a===void 0&&(a=null),this.isReverse_=s,this.resultGenerator_=a,this.nodeStack_=[];for(var c=1;!e.isEmpty();)if(e=e,c=n?r(e.key,n):1,s&&(c*=-1),c<0)this.isReverse_?e=e.left:e=e.right;else if(c===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}return t.prototype.getNext=function(){if(this.nodeStack_.length===0)return null;var e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n},t.prototype.hasNext=function(){return this.nodeStack_.length>0},t.prototype.peek=function(){if(this.nodeStack_.length===0)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}},t}(),Ao=function(){function t(e,n,r,s,a){this.key=e,this.value=n,this.color=r??t.RED,this.left=s??ma.EMPTY_NODE,this.right=a??ma.EMPTY_NODE}return t.prototype.copy=function(e,n,r,s,a){return new t(e??this.key,n??this.value,r??this.color,s??this.left,a??this.right)},t.prototype.count=function(){return this.left.count()+1+this.right.count()},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)},t.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},t.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},t.prototype.minKey=function(){return this.min_().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(e,n,r){var s=this,a=r(e,s.key);return a<0?s=s.copy(null,null,null,s.left.insert(e,n,r),null):a===0?s=s.copy(null,n,null,null,null):s=s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp_()},t.prototype.removeMin_=function(){if(this.left.isEmpty())return ma.EMPTY_NODE;var e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()},t.prototype.remove=function(e,n){var r,s;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return ma.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()},t.prototype.isRed_=function(){return this.color},t.prototype.fixUp_=function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e},t.prototype.moveRedLeft_=function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e},t.prototype.moveRedRight_=function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e},t.prototype.rotateLeft_=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight_=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip_=function(){var e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)},t.prototype.checkMaxDepth_=function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1},t.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)},t.RED=!0,t.BLACK=!1,t}(),NR=function(){function t(){}return t.prototype.copy=function(e,n,r,s,a){return this},t.prototype.insert=function(e,n,r){return new Ao(e,n,null)},t.prototype.remove=function(e,n){return this},t.prototype.count=function(){return 0},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(e){return!1},t.prototype.reverseTraversal=function(e){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.check_=function(){return 0},t.prototype.isRed_=function(){return!1},t}(),ma=function(){function t(e,n){n===void 0&&(n=t.EMPTY_NODE),this.comparator_=e,this.root_=n}return t.prototype.insert=function(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Ao.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Ao.BLACK,null,null))},t.prototype.get=function(e){for(var n,r=this.root_;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null},t.prototype.getPredecessorKey=function(e){for(var n,r=this.root_,s=null;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return s?s.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(s=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},t.prototype.isEmpty=function(){return this.root_.isEmpty()},t.prototype.count=function(){return this.root_.count()},t.prototype.minKey=function(){return this.root_.minKey()},t.prototype.maxKey=function(){return this.root_.maxKey()},t.prototype.inorderTraversal=function(e){return this.root_.inorderTraversal(e)},t.prototype.reverseTraversal=function(e){return this.root_.reverseTraversal(e)},t.prototype.getIterator=function(e){return new sb(this.root_,null,this.comparator_,!1,e)},t.prototype.getIteratorFrom=function(e,n){return new sb(this.root_,e,this.comparator_,!1,n)},t.prototype.getReverseIteratorFrom=function(e,n){return new sb(this.root_,e,this.comparator_,!0,n)},t.prototype.getReverseIterator=function(e){return new sb(this.root_,null,this.comparator_,!0,e)},t.EMPTY_NODE=new NR,t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var RR=Math.log(2),OR=function(){function t(e){var n=function(a){return parseInt(Math.log(a)/RR,10)},r=function(a){return parseInt(Array(a+1).join("1"),2)};this.count=n(e+1),this.current_=this.count-1;var s=r(this.count);this.bits_=e+1&s}return t.prototype.nextBitIsOne=function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e},t}(),Rb=function(t,e,n,r){t.sort(e);var s=function(d,g){var y=g-d,E,I;if(y===0)return null;if(y===1)return E=t[d],I=n?n(E):E,new Ao(I,E.node,Ao.BLACK,null,null);var T=parseInt(y/2,10)+d,x=s(d,T),A=s(T+1,g);return E=t[T],I=n?n(E):E,new Ao(I,E.node,Ao.BLACK,x,A)},a=function(d){for(var g=null,y=null,E=t.length,I=function(D,L){var H=E-D,X=E;E-=D;var z=s(H+1,X),P=t[H],Be=n?n(P):P;T(new Ao(Be,P.node,L,null,z))},T=function(D){g?(g.left=D,g=D):(y=D,g=D)},x=0;x<d.count;++x){var A=d.nextBitIsOne(),N=Math.pow(2,d.count-(x+1));A?I(N,Ao.BLACK):(I(N,Ao.BLACK),I(N,Ao.RED))}return y},c=new OR(t.length),h=a(c);return new ma(r||e,h)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Aw,ap={},Ob=function(){function t(e,n){this.indexes_=e,this.indexSet_=n}return Object.defineProperty(t,"Default",{get:function(){return ie(ap&&bt,"ChildrenNode.ts has not been loaded"),Aw=Aw||new t({".priority":ap},{".priority":bt}),Aw},enumerable:!1,configurable:!0}),t.prototype.get=function(e){var n=No(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof ma?n:null},t.prototype.hasIndex=function(e){return Hi(this.indexSet_,e.toString())},t.prototype.addIndex=function(e,n){ie(e!==nl,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r=[],s=!1,a=n.getIterator(tt.Wrap),c=a.getNext();c;)s=s||e.isDefinedOn(c.node),r.push(c),c=a.getNext();var h;s?h=Rb(r,e.getCompare()):h=ap;var d=e.toString(),g=$t({},this.indexSet_);g[d]=e;var y=$t({},this.indexes_);return y[d]=h,new t(y,g)},t.prototype.addToIndexes=function(e,n){var r=this,s=Nb(this.indexes_,function(a,c){var h=No(r.indexSet_,c);if(ie(h,"Missing index implementation for "+c),a===ap)if(h.isDefinedOn(e.node)){for(var d=[],g=n.getIterator(tt.Wrap),y=g.getNext();y;)y.name!==e.name&&d.push(y),y=g.getNext();return d.push(e),Rb(d,h.getCompare())}else return ap;else{var E=n.get(e.name),I=a;return E&&(I=I.remove(new tt(e.name,E))),I.insert(e,e.node)}});return new t(s,this.indexSet_)},t.prototype.removeFromIndexes=function(e,n){var r=Nb(this.indexes_,function(s){if(s===ap)return s;var a=n.get(e.name);return a?s.remove(new tt(e.name,a)):s});return new t(r,this.indexSet_)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PR(t,e){return sf(t.name,e.name)}function mE(t,e){return sf(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $v,Me=function(){function t(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&lA(this.priorityNode_),this.children_.isEmpty()&&ie(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(t,"EMPTY_NODE",{get:function(){return $v||($v=new t(new ma(mE),null,Ob.Default))},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!1},t.prototype.getPriority=function(){return this.priorityNode_||$v},t.prototype.updatePriority=function(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)},t.prototype.getImmediateChild=function(e){if(e===".priority")return this.getPriority();var n=this.children_.get(e);return n===null?$v:n},t.prototype.getChild=function(e){var n=e.getFront();return n===null?this:this.getImmediateChild(n).getChild(e.popFront())},t.prototype.hasChild=function(e){return this.children_.get(e)!==null},t.prototype.updateImmediateChild=function(e,n){if(ie(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);var r=new tt(e,n),s=void 0,a=void 0;n.isEmpty()?(s=this.children_.remove(e),a=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(e,n),a=this.indexMap_.addToIndexes(r,this.children_));var c=s.isEmpty()?$v:this.priorityNode_;return new t(s,c,a)},t.prototype.updateChild=function(e,n){var r=e.getFront();if(r===null)return n;ie(e.getFront()!==".priority"||e.getLength()===1,".priority must be the last token in a path");var s=this.getImmediateChild(r).updateChild(e.popFront(),n);return this.updateImmediateChild(r,s)},t.prototype.isEmpty=function(){return this.children_.isEmpty()},t.prototype.numChildren=function(){return this.children_.count()},t.prototype.val=function(e){if(this.isEmpty())return null;var n={},r=0,s=0,a=!0;if(this.forEachChild(bt,function(d,g){n[d]=g.val(e),r++,a&&t.INTEGER_REGEXP_.test(d)?s=Math.max(s,Number(d)):a=!1}),!e&&a&&s<2*r){var c=[];for(var h in n)c[h]=n[h];return c}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},t.prototype.hash=function(){if(this.lazyHash_===null){var e="";this.getPriority().isEmpty()||(e+="priority:"+uA(this.getPriority().val())+":"),this.forEachChild(bt,function(n,r){var s=r.hash();s!==""&&(e+=":"+n+":"+s)}),this.lazyHash_=e===""?"":HT(e)}return this.lazyHash_},t.prototype.getPredecessorChildName=function(e,n,r){var s=this.resolveIndex_(r);if(s){var a=s.getPredecessorKey(new tt(e,n));return a?a.name:null}else return this.children_.getPredecessorKey(e)},t.prototype.getFirstChildName=function(e){var n=this.resolveIndex_(e);if(n){var r=n.minKey();return r&&r.name}else return this.children_.minKey()},t.prototype.getFirstChild=function(e){var n=this.getFirstChildName(e);return n?new tt(n,this.children_.get(n)):null},t.prototype.getLastChildName=function(e){var n=this.resolveIndex_(e);if(n){var r=n.maxKey();return r&&r.name}else return this.children_.maxKey()},t.prototype.getLastChild=function(e){var n=this.getLastChildName(e);return n?new tt(n,this.children_.get(n)):null},t.prototype.forEachChild=function(e,n){var r=this.resolveIndex_(e);return r?r.inorderTraversal(function(s){return n(s.name,s.node)}):this.children_.inorderTraversal(n)},t.prototype.getIterator=function(e){return this.getIteratorFrom(e.minPost(),e)},t.prototype.getIteratorFrom=function(e,n){var r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,function(c){return c});for(var s=this.children_.getIteratorFrom(e.name,tt.Wrap),a=s.peek();a!=null&&n.compare(a,e)<0;)s.getNext(),a=s.peek();return s},t.prototype.getReverseIterator=function(e){return this.getReverseIteratorFrom(e.maxPost(),e)},t.prototype.getReverseIteratorFrom=function(e,n){var r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,function(c){return c});for(var s=this.children_.getReverseIteratorFrom(e.name,tt.Wrap),a=s.peek();a!=null&&n.compare(a,e)>0;)s.getNext(),a=s.peek();return s},t.prototype.compareTo=function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Lg?-1:0},t.prototype.withIndex=function(e){if(e===nl||this.indexMap_.hasIndex(e))return this;var n=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,n)},t.prototype.isIndexed=function(e){return e===nl||this.indexMap_.hasIndex(e)},t.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){for(var r=this.getIterator(bt),s=n.getIterator(bt),a=r.getNext(),c=s.getNext();a&&c;){if(a.name!==c.name||!a.node.equals(c.node))return!1;a=r.getNext(),c=s.getNext()}return a===null&&c===null}else return!1;else return!1},t.prototype.resolveIndex_=function(e){return e===nl?null:this.indexMap_.get(e.toString())},t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t}(),DR=function(t){we(e,t);function e(){return t.call(this,new ma(mE),Me.EMPTY_NODE,Ob.Default)||this}return e.prototype.compareTo=function(n){return n===this?0:1},e.prototype.equals=function(n){return n===this},e.prototype.getPriority=function(){return this},e.prototype.getImmediateChild=function(n){return Me.EMPTY_NODE},e.prototype.isEmpty=function(){return!1},e}(Me),Lg=new DR;Object.defineProperties(tt,{MIN:{value:new tt(Kc,Me.EMPTY_NODE)},MAX:{value:new tt(ol,Lg)}});aA.__EMPTY_NODE=Me.EMPTY_NODE;Ap.__childrenNodeConstructor=Me;AR(Lg);kR(Lg);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var LR=!0;function Zt(t,e){if(e===void 0&&(e=null),t===null)return Me.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),ie(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){var n=t;return new Ap(n,Zt(e))}if(!(t instanceof Array)&&LR){var r=[],s=!1,a=t;if(Rn(a,function(g,y){if(g.substring(0,1)!=="."){var E=Zt(y);E.isEmpty()||(s=s||!E.getPriority().isEmpty(),r.push(new tt(g,E)))}}),r.length===0)return Me.EMPTY_NODE;var c=Rb(r,PR,function(g){return g.name},mE);if(s){var h=Rb(r,bt.getCompare());return new Me(c,Zt(e),new Ob({".priority":h},{".priority":bt}))}else return new Me(c,Zt(e),Ob.Default)}else{var d=Me.EMPTY_NODE;return Rn(t,function(g,y){if(Hi(t,g)&&g.substring(0,1)!=="."){var E=Zt(y);(E.isLeafNode()||!E.isEmpty())&&(d=d.updateImmediateChild(g,E))}}),d.updatePriority(Zt(e))}}CR(Zt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var MR=function(t){we(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.compare=function(n,r){var s=n.node.compareTo(r.node);return s===0?sf(n.name,r.name):s},e.prototype.isDefinedOn=function(n){return!0},e.prototype.indexedValueChanged=function(n,r){return!n.equals(r)},e.prototype.minPost=function(){return tt.MIN},e.prototype.maxPost=function(){return tt.MAX},e.prototype.makePost=function(n,r){var s=Zt(n);return new tt(r,s)},e.prototype.toString=function(){return".value"},e}(y0),S_=new MR;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var T_=function(t){we(e,t);function e(n){var r=t.call(this)||this;return r.indexPath_=n,ie(!n.isEmpty()&&n.getFront()!==".priority","Can't create PathIndex with empty path or .priority key"),r}return e.prototype.extractChild=function(n){return n.getChild(this.indexPath_)},e.prototype.isDefinedOn=function(n){return!n.getChild(this.indexPath_).isEmpty()},e.prototype.compare=function(n,r){var s=this.extractChild(n.node),a=this.extractChild(r.node),c=s.compareTo(a);return c===0?sf(n.name,r.name):c},e.prototype.makePost=function(n,r){var s=Zt(n),a=Me.EMPTY_NODE.updateChild(this.indexPath_,s);return new tt(r,a)},e.prototype.maxPost=function(){var n=Me.EMPTY_NODE.updateChild(this.indexPath_,Lg);return new tt(ol,n)},e.prototype.toString=function(){return this.indexPath_.slice().join("/")},e}(y0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qp=function(){function t(e,n,r){this.node_=e,this.ref_=n,this.index_=r}return t.prototype.val=function(){return Re("DataSnapshot.val",0,0,arguments.length),this.node_.val()},t.prototype.exportVal=function(){return Re("DataSnapshot.exportVal",0,0,arguments.length),this.node_.val(!0)},t.prototype.toJSON=function(){return Re("DataSnapshot.toJSON",0,1,arguments.length),this.exportVal()},t.prototype.exists=function(){return Re("DataSnapshot.exists",0,0,arguments.length),!this.node_.isEmpty()},t.prototype.child=function(e){Re("DataSnapshot.child",0,1,arguments.length),e=String(e),dg("DataSnapshot.child",1,e,!1);var n=new fe(e),r=this.ref_.child(n);return new t(this.node_.getChild(n),r,bt)},t.prototype.hasChild=function(e){Re("DataSnapshot.hasChild",1,1,arguments.length),dg("DataSnapshot.hasChild",1,e,!1);var n=new fe(e);return!this.node_.getChild(n).isEmpty()},t.prototype.getPriority=function(){return Re("DataSnapshot.getPriority",0,0,arguments.length),this.node_.getPriority().val()},t.prototype.forEach=function(e){var n=this;if(Re("DataSnapshot.forEach",1,1,arguments.length),Gn("DataSnapshot.forEach",1,e,!1),this.node_.isLeafNode())return!1;var r=this.node_;return!!r.forEachChild(this.index_,function(s,a){return e(new t(a,n.ref_.child(s),bt))})},t.prototype.hasChildren=function(){return Re("DataSnapshot.hasChildren",0,0,arguments.length),this.node_.isLeafNode()?!1:!this.node_.isEmpty()},Object.defineProperty(t.prototype,"key",{get:function(){return this.ref_.getKey()},enumerable:!1,configurable:!0}),t.prototype.numChildren=function(){return Re("DataSnapshot.numChildren",0,0,arguments.length),this.node_.numChildren()},t.prototype.getRef=function(){return Re("DataSnapshot.ref",0,0,arguments.length),this.ref_},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hA=function(){function t(e,n,r,s){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=s}return t.prototype.getPath=function(){var e=this.snapshot.getRef();return this.eventType==="value"?e.path:e.getParent().path},t.prototype.getEventType=function(){return this.eventType},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+Wn(this.snapshot.exportVal())},t}(),pA=function(){function t(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}return t.prototype.getPath=function(){return this.path},t.prototype.getEventType=function(){return"cancel"},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.path.toString()+":cancel"},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var v1=function(){function t(e,n,r){this.callback_=e,this.cancelCallback_=n,this.context_=r}return t.prototype.respondsTo=function(e){return e==="value"},t.prototype.createEvent=function(e,n){var r=n.getQueryParams().getIndex();return new hA("value",this,new qp(e.snapshotNode,n.getRef(),r))},t.prototype.getEventRunner=function(e){var n=this.context_;if(e.getEventType()==="cancel"){ie(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var r=this.cancelCallback_;return function(){r.call(n,e.error)}}else{var s=this.callback_;return function(){s.call(n,e.snapshot)}}},t.prototype.createCancelEvent=function(e,n){return this.cancelCallback_?new pA(this,e,n):null},t.prototype.matches=function(e){return e instanceof t?!e.callback_||!this.callback_?!0:e.callback_===this.callback_&&e.context_===this.context_:!1},t.prototype.hasAnyCallback=function(){return this.callback_!==null},t}(),g1=function(){function t(e,n,r){this.callbacks_=e,this.cancelCallback_=n,this.context_=r}return t.prototype.respondsTo=function(e){var n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,Hi(this.callbacks_,n)},t.prototype.createCancelEvent=function(e,n){return this.cancelCallback_?new pA(this,e,n):null},t.prototype.createEvent=function(e,n){ie(e.childName!=null,"Child events should have a childName.");var r=n.getRef().child(e.childName),s=n.getQueryParams().getIndex();return new hA(e.type,this,new qp(e.snapshotNode,r,s),e.prevName)},t.prototype.getEventRunner=function(e){var n=this.context_;if(e.getEventType()==="cancel"){ie(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var r=this.cancelCallback_;return function(){r.call(n,e.error)}}else{var s=this.callbacks_[e.eventType];return function(){s.call(n,e.snapshot,e.prevName)}}},t.prototype.matches=function(e){var n=this;if(e instanceof t){if(!this.callbacks_||!e.callbacks_)return!0;if(this.context_===e.context_){var r=Object.keys(e.callbacks_),s=Object.keys(this.callbacks_),a=r.length,c=s.length;if(a===c)if(a===1){var h=r[0],d=s[0];return d===h&&(!e.callbacks_[h]||!this.callbacks_[d]||e.callbacks_[h]===this.callbacks_[d])}else return s.every(function(g){return e.callbacks_[g]===n.callbacks_[g]})}}return!1},t.prototype.hasAnyCallback=function(){return this.callbacks_!==null},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cw,yE=function(){function t(e,n,r,s){this.repo=e,this.path=n,this.queryParams_=r,this.orderByCalled_=s}return Object.defineProperty(t,"__referenceConstructor",{get:function(){return ie(Cw,"Reference.ts has not been loaded"),Cw},set:function(e){Cw=e},enumerable:!1,configurable:!0}),t.validateQueryEndpoints_=function(e){var n=null,r=null;if(e.hasStart()&&(n=e.getIndexStartValue()),e.hasEnd()&&(r=e.getIndexEndValue()),e.getIndex()===nl){var s="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",a="Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.";if(e.hasStart()){var c=e.getIndexStartName();if(c!==Kc)throw new Error(s);if(typeof n!="string")throw new Error(a)}if(e.hasEnd()){var h=e.getIndexEndName();if(h!==ol)throw new Error(s);if(typeof r!="string")throw new Error(a)}}else if(e.getIndex()===bt){if(n!=null&&!pg(n)||r!=null&&!pg(r))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(ie(e.getIndex()instanceof T_||e.getIndex()===S_,"unknown index type."),n!=null&&typeof n=="object"||r!=null&&typeof r=="object")throw new Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")},t.validateLimit_=function(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.")},t.prototype.validateNoPreviousOrderByCall_=function(e){if(this.orderByCalled_===!0)throw new Error(e+": You can't combine multiple orderBy calls.")},t.prototype.getQueryParams=function(){return this.queryParams_},t.prototype.getRef=function(){return Re("Query.ref",0,0,arguments.length),new t.__referenceConstructor(this.repo,this.path)},t.prototype.on=function(e,n,r,s){Re("Query.on",2,4,arguments.length),Sw("Query.on",1,e,!1),Gn("Query.on",2,n,!1);var a=t.getCancelAndContextArgs_("Query.on",r,s);if(e==="value")this.onValueEvent(n,a.cancel,a.context);else{var c={};c[e]=n,this.onChildEvent(c,a.cancel,a.context)}return n},t.prototype.onValueEvent=function(e,n,r){var s=new v1(e,n||null,r||null);this.repo.addEventCallbackForQuery(this,s)},t.prototype.onChildEvent=function(e,n,r){var s=new g1(e,n,r);this.repo.addEventCallbackForQuery(this,s)},t.prototype.off=function(e,n,r){Re("Query.off",0,3,arguments.length),Sw("Query.off",1,e,!0),Gn("Query.off",2,n,!0),f1("Query.off",3,r,!0);var s=null,a=null;if(e==="value"){var c=n||null;s=new v1(c,null,r||null)}else e&&(n&&(a={},a[e]=n),s=new g1(a,null,r||null));this.repo.removeEventCallbackForQuery(this,s)},t.prototype.once=function(e,n,r,s){var a=this;Re("Query.once",1,4,arguments.length),Sw("Query.once",1,e,!1),Gn("Query.once",2,n,!0);var c=t.getCancelAndContextArgs_("Query.once",r,s),h=!0,d=new ko;d.promise.catch(function(){});var g=function(y){h&&(h=!1,a.off(e,g),n&&n.bind(c.context)(y),d.resolve(y))};return this.on(e,g,function(y){a.off(e,g),c.cancel&&c.cancel.bind(c.context)(y),d.reject(y)}),d.promise},t.prototype.limitToFirst=function(e){if(Re("Query.limitToFirst",1,1,arguments.length),typeof e!="number"||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToFirst: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,this.queryParams_.limitToFirst(e),this.orderByCalled_)},t.prototype.limitToLast=function(e){if(Re("Query.limitToLast",1,1,arguments.length),typeof e!="number"||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToLast: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,this.queryParams_.limitToLast(e),this.orderByCalled_)},t.prototype.orderByChild=function(e){if(Re("Query.orderByChild",1,1,arguments.length),e==="$key")throw new Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if(e==="$priority")throw new Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if(e==="$value")throw new Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');dg("Query.orderByChild",1,e,!1),this.validateNoPreviousOrderByCall_("Query.orderByChild");var n=new fe(e);if(n.isEmpty())throw new Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");var r=new T_(n),s=this.queryParams_.orderBy(r);return t.validateQueryEndpoints_(s),new t(this.repo,this.path,s,!0)},t.prototype.orderByKey=function(){Re("Query.orderByKey",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByKey");var e=this.queryParams_.orderBy(nl);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByPriority=function(){Re("Query.orderByPriority",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByPriority");var e=this.queryParams_.orderBy(bt);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByValue=function(){Re("Query.orderByValue",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByValue");var e=this.queryParams_.orderBy(S_);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.startAt=function(e,n){e===void 0&&(e=null),Re("Query.startAt",0,2,arguments.length),tl("Query.startAt",1,e,this.path,!0),Tw("Query.startAt",2,n,!0);var r=this.queryParams_.startAt(e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasStart())throw new Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return e===void 0&&(e=null,n=null),new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.endAt=function(e,n){e===void 0&&(e=null),Re("Query.endAt",0,2,arguments.length),tl("Query.endAt",1,e,this.path,!0),Tw("Query.endAt",2,n,!0);var r=this.queryParams_.endAt(e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasEnd())throw new Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.equalTo=function(e,n){if(Re("Query.equalTo",1,2,arguments.length),tl("Query.equalTo",1,e,this.path,!1),Tw("Query.equalTo",2,n,!0),this.queryParams_.hasStart())throw new Error("Query.equalTo: Starting point was already set (by another call to startAt or equalTo).");if(this.queryParams_.hasEnd())throw new Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.startAt(e,n).endAt(e,n)},t.prototype.toString=function(){return Re("Query.toString",0,0,arguments.length),this.repo.toString()+this.path.toUrlEncodedString()},t.prototype.toJSON=function(){return Re("Query.toJSON",0,1,arguments.length),this.toString()},t.prototype.queryObject=function(){return this.queryParams_.getQueryObject()},t.prototype.queryIdentifier=function(){var e=this.queryObject(),n=vE(e);return n==="{}"?"default":n},t.prototype.isEqual=function(e){if(Re("Query.isEqual",1,1,arguments.length),!(e instanceof t)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}var r=this.repo===e.repo,s=this.path.equals(e.path),a=this.queryIdentifier()===e.queryIdentifier();return r&&s&&a},t.getCancelAndContextArgs_=function(e,n,r){var s={cancel:null,context:null};if(n&&r)s.cancel=n,Gn(e,3,s.cancel,!0),s.context=r,f1(e,4,s.context,!0);else if(n)if(typeof n=="object"&&n!==null)s.context=n;else if(typeof n=="function")s.cancel=n;else throw new Error(Gi(e,3,!0)+" must either be a cancel callback or a context object.");return s},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var FR=function(){function t(e){this.node_=e}return t.prototype.getImmediateChild=function(e){var n=this.node_.getImmediateChild(e);return new t(n)},t.prototype.node=function(){return this.node_},t}(),UR=function(){function t(e,n){this.syncTree_=e,this.path_=n}return t.prototype.getImmediateChild=function(e){var n=this.path_.child(e);return new t(this.syncTree_,n)},t.prototype.node=function(){return this.syncTree_.calcCompleteEventCache(this.path_)},t}(),jR=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},m1=function(t,e,n){if(!t||typeof t!="object")return t;if(ie(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return VR(t[".sv"],e,n);if(typeof t[".sv"]=="object")return BR(t[".sv"],e);ie(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},VR=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:ie(!1,"Unexpected server value: "+t)}},BR=function(t,e,n){t.hasOwnProperty("increment")||ie(!1,"Unexpected server value: "+JSON.stringify(t,null,2));var r=t.increment;typeof r!="number"&&ie(!1,"Unexpected increment value: "+r);var s=e.node();if(ie(s!==null&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return r;var a=s,c=a.getValue();return typeof c!="number"?r:c+r},y1=function(t,e,n,r){return wE(e,new UR(n,t),r)},bE=function(t,e,n){return wE(t,new FR(e),n)};function wE(t,e,n){var r=t.getPriority().val(),s=m1(r,e.getImmediateChild(".priority"),n),a;if(t.isLeafNode()){var c=t,h=m1(c.getValue(),e,n);return h!==c.getValue()||s!==c.getPriority().val()?new Ap(h,Zt(s)):t}else{var d=t;return a=d,s!==d.getPriority().val()&&(a=a.updatePriority(new Ap(s))),d.forEachChild(bt,function(g,y){var E=wE(y,e.getImmediateChild(g),n);E!==y&&(a=a.updateImmediateChild(g,E))}),a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kw=function(){function t(){this.value=null,this.children=new Map}return t.prototype.find=function(e){if(this.value!=null)return this.value.getChild(e);if(!e.isEmpty()&&this.children.size>0){var n=e.getFront();if(e=e.popFront(),this.children.has(n)){var r=this.children.get(n);return r.find(e)}else return null}else return null},t.prototype.remember=function(e,n){if(e.isEmpty())this.value=n,this.children.clear();else if(this.value!==null)this.value=this.value.updateChild(e,n);else{var r=e.getFront();this.children.has(r)||this.children.set(r,new t);var s=this.children.get(r);e=e.popFront(),s.remember(e,n)}},t.prototype.forget=function(e){if(e.isEmpty())return this.value=null,this.children.clear(),!0;if(this.value!==null){if(this.value.isLeafNode())return!1;var n=this.value;this.value=null;var r=this;return n.forEachChild(bt,function(c,h){r.remember(new fe(c),h)}),this.forget(e)}else if(this.children.size>0){var s=e.getFront();if(e=e.popFront(),this.children.has(s)){var a=this.children.get(s).forget(e);a&&this.children.delete(s)}return this.children.size===0}else return!0},t.prototype.forEachTree=function(e,n){this.value!==null?n(e,this.value):this.forEachChild(function(r,s){var a=new fe(e.toString()+"/"+r);s.forEachTree(a,n)})},t.prototype.forEachChild=function(e){this.children.forEach(function(n,r){e(r,n)})},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ro;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Ro||(Ro={}));var pa=function(){function t(e,n,r,s){this.fromUser=e,this.fromServer=n,this.queryId=r,this.tagged=s,ie(!s||n,"Tagged queries must be from server.")}return t.User=new t(!0,!1,null,!1),t.Server=new t(!1,!0,null,!1),t.forServerTaggedQuery=function(e){return new t(!1,!0,e,!0)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qR=function(){function t(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Ro.ACK_USER_WRITE,this.source=pa.User}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){if(this.affectedTree.value!=null)return ie(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new fe(e));return new t(fe.Empty,n,this.revert)}else return ie(this.path.getFront()===e,"operationForChild called for unrelated child."),new t(this.path.popFront(),this.affectedTree,this.revert)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xw,GR=function(){return xw||(xw=new ma(sR)),xw},di=function(){function t(e,n){n===void 0&&(n=GR()),this.value=e,this.children=n}return t.fromObject=function(e){var n=t.Empty;return Rn(e,function(r,s){n=n.set(new fe(r),s)}),n},t.prototype.isEmpty=function(){return this.value===null&&this.children.isEmpty()},t.prototype.findRootMostMatchingPathAndValue=function(e,n){if(this.value!=null&&n(this.value))return{path:fe.Empty,value:this.value};if(e.isEmpty())return null;var r=e.getFront(),s=this.children.get(r);if(s!==null){var a=s.findRootMostMatchingPathAndValue(e.popFront(),n);if(a!=null){var c=new fe(r).child(a.path);return{path:c,value:a.value}}else return null}else return null},t.prototype.findRootMostValueAndPath=function(e){return this.findRootMostMatchingPathAndValue(e,function(){return!0})},t.prototype.subtree=function(e){if(e.isEmpty())return this;var n=e.getFront(),r=this.children.get(n);return r!==null?r.subtree(e.popFront()):t.Empty},t.prototype.set=function(e,n){if(e.isEmpty())return new t(n,this.children);var r=e.getFront(),s=this.children.get(r)||t.Empty,a=s.set(e.popFront(),n),c=this.children.insert(r,a);return new t(this.value,c)},t.prototype.remove=function(e){if(e.isEmpty())return this.children.isEmpty()?t.Empty:new t(null,this.children);var n=e.getFront(),r=this.children.get(n);if(r){var s=r.remove(e.popFront()),a=void 0;return s.isEmpty()?a=this.children.remove(n):a=this.children.insert(n,s),this.value===null&&a.isEmpty()?t.Empty:new t(this.value,a)}else return this},t.prototype.get=function(e){if(e.isEmpty())return this.value;var n=e.getFront(),r=this.children.get(n);return r?r.get(e.popFront()):null},t.prototype.setTree=function(e,n){if(e.isEmpty())return n;var r=e.getFront(),s=this.children.get(r)||t.Empty,a=s.setTree(e.popFront(),n),c=void 0;return a.isEmpty()?c=this.children.remove(r):c=this.children.insert(r,a),new t(this.value,c)},t.prototype.fold=function(e){return this.fold_(fe.Empty,e)},t.prototype.fold_=function(e,n){var r={};return this.children.inorderTraversal(function(s,a){r[s]=a.fold_(e.child(s),n)}),n(e,this.value,r)},t.prototype.findOnPath=function(e,n){return this.findOnPath_(e,fe.Empty,n)},t.prototype.findOnPath_=function(e,n,r){var s=this.value?r(n,this.value):!1;if(s)return s;if(e.isEmpty())return null;var a=e.getFront(),c=this.children.get(a);return c?c.findOnPath_(e.popFront(),n.child(a),r):null},t.prototype.foreachOnPath=function(e,n){return this.foreachOnPath_(e,fe.Empty,n)},t.prototype.foreachOnPath_=function(e,n,r){if(e.isEmpty())return this;this.value&&r(n,this.value);var s=e.getFront(),a=this.children.get(s);return a?a.foreachOnPath_(e.popFront(),n.child(s),r):t.Empty},t.prototype.foreach=function(e){this.foreach_(fe.Empty,e)},t.prototype.foreach_=function(e,n){this.children.inorderTraversal(function(r,s){s.foreach_(e.child(r),n)}),this.value&&n(e,this.value)},t.prototype.foreachChild=function(e){this.children.inorderTraversal(function(n,r){r.value&&e(n,r.value)})},t.Empty=new t(null),t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var b1=function(){function t(e,n){this.source=e,this.path=n,this.type=Ro.LISTEN_COMPLETE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,fe.Empty):new t(this.source,this.path.popFront())},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ib=function(){function t(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Ro.OVERWRITE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,fe.Empty,this.snap.getImmediateChild(e)):new t(this.source,this.path.popFront(),this.snap)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nw=function(){function t(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Ro.MERGE}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){var n=this.children.subtree(new fe(e));return n.isEmpty()?null:n.value?new Ib(this.source,fe.Empty,n.value):new t(this.source,fe.Empty,n)}else return ie(this.path.getFront()===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,this.path.popFront(),this.children)},t.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ya=function(){function t(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}return t.prototype.isFullyInitialized=function(){return this.fullyInitialized_},t.prototype.isFiltered=function(){return this.filtered_},t.prototype.isCompleteForPath=function(e){if(e.isEmpty())return this.isFullyInitialized()&&!this.filtered_;var n=e.getFront();return this.isCompleteForChild(n)},t.prototype.isCompleteForChild=function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)},t.prototype.getNode=function(){return this.node_},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dA=function(){function t(e,n){this.eventCache_=e,this.serverCache_=n}return t.prototype.updateEventSnap=function(e,n,r){return new t(new ya(e,n,r),this.serverCache_)},t.prototype.updateServerSnap=function(e,n,r){return new t(this.eventCache_,new ya(e,n,r))},t.prototype.getEventCache=function(){return this.eventCache_},t.prototype.getCompleteEventSnap=function(){return this.eventCache_.isFullyInitialized()?this.eventCache_.getNode():null},t.prototype.getServerCache=function(){return this.serverCache_},t.prototype.getCompleteServerSnap=function(){return this.serverCache_.isFullyInitialized()?this.serverCache_.getNode():null},t.Empty=new t(new ya(Me.EMPTY_NODE,!1,!1),new ya(Me.EMPTY_NODE,!1,!1)),t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ye=function(){function t(e,n,r,s,a){this.type=e,this.snapshotNode=n,this.childName=r,this.oldSnap=s,this.prevName=a}return t.valueChange=function(e){return new t(t.VALUE,e)},t.childAddedChange=function(e,n){return new t(t.CHILD_ADDED,n,e)},t.childRemovedChange=function(e,n){return new t(t.CHILD_REMOVED,n,e)},t.childChangedChange=function(e,n,r){return new t(t.CHILD_CHANGED,n,e,r)},t.childMovedChange=function(e,n){return new t(t.CHILD_MOVED,n,e)},t.CHILD_ADDED="child_added",t.CHILD_REMOVED="child_removed",t.CHILD_CHANGED="child_changed",t.CHILD_MOVED="child_moved",t.VALUE="value",t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _E=function(){function t(e){this.index_=e}return t.prototype.updateChild=function(e,n,r,s,a,c){ie(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var h=e.getImmediateChild(n);return h.getChild(s).equals(r.getChild(s))&&h.isEmpty()===r.isEmpty()||(c!=null&&(r.isEmpty()?e.hasChild(n)?c.trackChildChange(Ye.childRemovedChange(n,h)):ie(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):h.isEmpty()?c.trackChildChange(Ye.childAddedChange(n,r)):c.trackChildChange(Ye.childChangedChange(n,r,h))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)},t.prototype.updateFullNode=function(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(bt,function(s,a){n.hasChild(s)||r.trackChildChange(Ye.childRemovedChange(s,a))}),n.isLeafNode()||n.forEachChild(bt,function(s,a){if(e.hasChild(s)){var c=e.getImmediateChild(s);c.equals(a)||r.trackChildChange(Ye.childChangedChange(s,a,c))}else r.trackChildChange(Ye.childAddedChange(s,a))})),n.withIndex(this.index_)},t.prototype.updatePriority=function(e,n){return e.isEmpty()?Me.EMPTY_NODE:e.updatePriority(n)},t.prototype.filtersNodes=function(){return!1},t.prototype.getIndexedFilter=function(){return this},t.prototype.getIndex=function(){return this.index_},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var WR=function(){function t(){this.changeMap=new Map}return t.prototype.trackChildChange=function(e){var n=e.type,r=e.childName;ie(n===Ye.CHILD_ADDED||n===Ye.CHILD_CHANGED||n===Ye.CHILD_REMOVED,"Only child changes supported for tracking"),ie(r!==".priority","Only non-priority child changes can be tracked.");var s=this.changeMap.get(r);if(s){var a=s.type;if(n===Ye.CHILD_ADDED&&a===Ye.CHILD_REMOVED)this.changeMap.set(r,Ye.childChangedChange(r,e.snapshotNode,s.snapshotNode));else if(n===Ye.CHILD_REMOVED&&a===Ye.CHILD_ADDED)this.changeMap.delete(r);else if(n===Ye.CHILD_REMOVED&&a===Ye.CHILD_CHANGED)this.changeMap.set(r,Ye.childRemovedChange(r,s.oldSnap));else if(n===Ye.CHILD_CHANGED&&a===Ye.CHILD_ADDED)this.changeMap.set(r,Ye.childAddedChange(r,e.snapshotNode));else if(n===Ye.CHILD_CHANGED&&a===Ye.CHILD_CHANGED)this.changeMap.set(r,Ye.childChangedChange(r,e.snapshotNode,s.oldSnap));else throw jp("Illegal combination of changes: "+e+" occurred after "+s)}else this.changeMap.set(r,e)},t.prototype.getChanges=function(){return Array.from(this.changeMap.values())},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var HR=function(){function t(){}return t.prototype.getCompleteChild=function(e){return null},t.prototype.getChildAfterChild=function(e,n,r){return null},t}(),w1=new HR,Rw=function(){function t(e,n,r){r===void 0&&(r=null),this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}return t.prototype.getCompleteChild=function(e){var n=this.viewCache_.getEventCache();if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);var r=this.optCompleteServerCache_!=null?new ya(this.optCompleteServerCache_,!0,!1):this.viewCache_.getServerCache();return this.writes_.calcCompleteChild(e,r)},t.prototype.getChildAfterChild=function(e,n,r){var s=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:this.viewCache_.getCompleteServerSnap(),a=this.writes_.calcIndexedSlice(s,n,1,r,e);return a.length===0?null:a[0]},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zR=function(){function t(e,n){this.viewCache=e,this.changes=n}return t}(),KR=function(){function t(e){this.filter_=e}return t.prototype.assertIndexed=function(e){ie(e.getEventCache().getNode().isIndexed(this.filter_.getIndex()),"Event snap not indexed"),ie(e.getServerCache().getNode().isIndexed(this.filter_.getIndex()),"Server snap not indexed")},t.prototype.applyOperation=function(e,n,r,s){var a=new WR,c,h;if(n.type===Ro.OVERWRITE){var d=n;d.source.fromUser?c=this.applyUserOverwrite_(e,d.path,d.snap,r,s,a):(ie(d.source.fromServer,"Unknown source."),h=d.source.tagged||e.getServerCache().isFiltered()&&!d.path.isEmpty(),c=this.applyServerOverwrite_(e,d.path,d.snap,r,s,h,a))}else if(n.type===Ro.MERGE){var g=n;g.source.fromUser?c=this.applyUserMerge_(e,g.path,g.children,r,s,a):(ie(g.source.fromServer,"Unknown source."),h=g.source.tagged||e.getServerCache().isFiltered(),c=this.applyServerMerge_(e,g.path,g.children,r,s,h,a))}else if(n.type===Ro.ACK_USER_WRITE){var y=n;y.revert?c=this.revertUserWrite_(e,y.path,r,s,a):c=this.ackUserWrite_(e,y.path,y.affectedTree,r,s,a)}else if(n.type===Ro.LISTEN_COMPLETE)c=this.listenComplete_(e,n.path,r,a);else throw jp("Unknown operation type: "+n.type);var E=a.getChanges();return t.maybeAddValueEvent_(e,c,E),new zR(c,E)},t.maybeAddValueEvent_=function(e,n,r){var s=n.getEventCache();if(s.isFullyInitialized()){var a=s.getNode().isLeafNode()||s.getNode().isEmpty(),c=e.getCompleteEventSnap();(r.length>0||!e.getEventCache().isFullyInitialized()||a&&!s.getNode().equals(c)||!s.getNode().getPriority().equals(c.getPriority()))&&r.push(Ye.valueChange(n.getCompleteEventSnap()))}},t.prototype.generateEventCacheAfterServerEvent_=function(e,n,r,s,a){var c=e.getEventCache();if(r.shadowingWrite(n)!=null)return e;var h=void 0,d=void 0;if(n.isEmpty())if(ie(e.getServerCache().isFullyInitialized(),"If change path is empty, we must have complete server data"),e.getServerCache().isFiltered()){var g=e.getCompleteServerSnap(),y=g instanceof Me?g:Me.EMPTY_NODE,E=r.calcCompleteEventChildren(y);h=this.filter_.updateFullNode(e.getEventCache().getNode(),E,a)}else{var I=r.calcCompleteEventCache(e.getCompleteServerSnap());h=this.filter_.updateFullNode(e.getEventCache().getNode(),I,a)}else{var T=n.getFront();if(T===".priority"){ie(n.getLength()===1,"Can't have a priority with additional path components");var x=c.getNode();d=e.getServerCache().getNode();var A=r.calcEventCacheAfterServerOverwrite(n,x,d);A!=null?h=this.filter_.updatePriority(x,A):h=c.getNode()}else{var N=n.popFront(),D=void 0;if(c.isCompleteForChild(T)){d=e.getServerCache().getNode();var L=r.calcEventCacheAfterServerOverwrite(n,c.getNode(),d);L!=null?D=c.getNode().getImmediateChild(T).updateChild(N,L):D=c.getNode().getImmediateChild(T)}else D=r.calcCompleteChild(T,e.getServerCache());D!=null?h=this.filter_.updateChild(c.getNode(),T,D,N,s,a):h=c.getNode()}}return e.updateEventSnap(h,c.isFullyInitialized()||n.isEmpty(),this.filter_.filtersNodes())},t.prototype.applyServerOverwrite_=function(e,n,r,s,a,c,h){var d=e.getServerCache(),g,y=c?this.filter_:this.filter_.getIndexedFilter();if(n.isEmpty())g=y.updateFullNode(d.getNode(),r,null);else if(y.filtersNodes()&&!d.isFiltered()){var E=d.getNode().updateChild(n,r);g=y.updateFullNode(d.getNode(),E,null)}else{var I=n.getFront();if(!d.isCompleteForPath(n)&&n.getLength()>1)return e;var T=n.popFront(),x=d.getNode().getImmediateChild(I),A=x.updateChild(T,r);I===".priority"?g=y.updatePriority(d.getNode(),A):g=y.updateChild(d.getNode(),I,A,T,w1,null)}var N=e.updateServerSnap(g,d.isFullyInitialized()||n.isEmpty(),y.filtersNodes()),D=new Rw(s,N,a);return this.generateEventCacheAfterServerEvent_(N,n,s,D,h)},t.prototype.applyUserOverwrite_=function(e,n,r,s,a,c){var h=e.getEventCache(),d,g,y=new Rw(s,e,a);if(n.isEmpty())g=this.filter_.updateFullNode(e.getEventCache().getNode(),r,c),d=e.updateEventSnap(g,!0,this.filter_.filtersNodes());else{var E=n.getFront();if(E===".priority")g=this.filter_.updatePriority(e.getEventCache().getNode(),r),d=e.updateEventSnap(g,h.isFullyInitialized(),h.isFiltered());else{var I=n.popFront(),T=h.getNode().getImmediateChild(E),x=void 0;if(I.isEmpty())x=r;else{var A=y.getCompleteChild(E);A!=null?I.getBack()===".priority"&&A.getChild(I.parent()).isEmpty()?x=A:x=A.updateChild(I,r):x=Me.EMPTY_NODE}if(T.equals(x))d=e;else{var N=this.filter_.updateChild(h.getNode(),E,x,I,y,c);d=e.updateEventSnap(N,h.isFullyInitialized(),this.filter_.filtersNodes())}}}return d},t.cacheHasChild_=function(e,n){return e.getEventCache().isCompleteForChild(n)},t.prototype.applyUserMerge_=function(e,n,r,s,a,c){var h=this,d=e;return r.foreach(function(g,y){var E=n.child(g);t.cacheHasChild_(e,E.getFront())&&(d=h.applyUserOverwrite_(d,E,y,s,a,c))}),r.foreach(function(g,y){var E=n.child(g);t.cacheHasChild_(e,E.getFront())||(d=h.applyUserOverwrite_(d,E,y,s,a,c))}),d},t.prototype.applyMerge_=function(e,n){return n.foreach(function(r,s){e=e.updateChild(r,s)}),e},t.prototype.applyServerMerge_=function(e,n,r,s,a,c,h){var d=this;if(e.getServerCache().getNode().isEmpty()&&!e.getServerCache().isFullyInitialized())return e;var g=e,y;n.isEmpty()?y=r:y=di.Empty.setTree(n,r);var E=e.getServerCache().getNode();return y.children.inorderTraversal(function(I,T){if(E.hasChild(I)){var x=e.getServerCache().getNode().getImmediateChild(I),A=d.applyMerge_(x,T);g=d.applyServerOverwrite_(g,new fe(I),A,s,a,c,h)}}),y.children.inorderTraversal(function(I,T){var x=!e.getServerCache().isCompleteForChild(I)&&T.value==null;if(!E.hasChild(I)&&!x){var A=e.getServerCache().getNode().getImmediateChild(I),N=d.applyMerge_(A,T);g=d.applyServerOverwrite_(g,new fe(I),N,s,a,c,h)}}),g},t.prototype.ackUserWrite_=function(e,n,r,s,a,c){if(s.shadowingWrite(n)!=null)return e;var h=e.getServerCache().isFiltered(),d=e.getServerCache();if(r.value!=null){if(n.isEmpty()&&d.isFullyInitialized()||d.isCompleteForPath(n))return this.applyServerOverwrite_(e,n,d.getNode().getChild(n),s,a,h,c);if(n.isEmpty()){var g=di.Empty;return d.getNode().forEachChild(nl,function(E,I){g=g.set(new fe(E),I)}),this.applyServerMerge_(e,n,g,s,a,h,c)}else return e}else{var y=di.Empty;return r.foreach(function(E,I){var T=n.child(E);d.isCompleteForPath(T)&&(y=y.set(E,d.getNode().getChild(T)))}),this.applyServerMerge_(e,n,y,s,a,h,c)}},t.prototype.listenComplete_=function(e,n,r,s){var a=e.getServerCache(),c=e.updateServerSnap(a.getNode(),a.isFullyInitialized()||n.isEmpty(),a.isFiltered());return this.generateEventCacheAfterServerEvent_(c,n,r,w1,s)},t.prototype.revertUserWrite_=function(e,n,r,s,a){var c;if(r.shadowingWrite(n)!=null)return e;var h=new Rw(r,e,s),d=e.getEventCache().getNode(),g=void 0;if(n.isEmpty()||n.getFront()===".priority"){var y=void 0;if(e.getServerCache().isFullyInitialized())y=r.calcCompleteEventCache(e.getCompleteServerSnap());else{var E=e.getServerCache().getNode();ie(E instanceof Me,"serverChildren would be complete if leaf node"),y=r.calcCompleteEventChildren(E)}y=y,g=this.filter_.updateFullNode(d,y,a)}else{var I=n.getFront(),T=r.calcCompleteChild(I,e.getServerCache());T==null&&e.getServerCache().isCompleteForChild(I)&&(T=d.getImmediateChild(I)),T!=null?g=this.filter_.updateChild(d,I,T,n.popFront(),h,a):e.getEventCache().getNode().hasChild(I)?g=this.filter_.updateChild(d,I,Me.EMPTY_NODE,n.popFront(),h,a):g=d,g.isEmpty()&&e.getServerCache().isFullyInitialized()&&(c=r.calcCompleteEventCache(e.getCompleteServerSnap()),c.isLeafNode()&&(g=this.filter_.updateFullNode(g,c,a)))}return c=e.getServerCache().isFullyInitialized()||r.shadowingWrite(fe.Empty)!=null,e.updateEventSnap(g,c,this.filter_.filtersNodes())},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var YR=function(){function t(e){this.query_=e,this.index_=this.query_.getQueryParams().getIndex()}return t.prototype.generateEventsForChanges=function(e,n,r){var s=this,a=[],c=[];return e.forEach(function(h){h.type===Ye.CHILD_CHANGED&&s.index_.indexedValueChanged(h.oldSnap,h.snapshotNode)&&c.push(Ye.childMovedChange(h.childName,h.snapshotNode))}),this.generateEventsForType_(a,Ye.CHILD_REMOVED,e,r,n),this.generateEventsForType_(a,Ye.CHILD_ADDED,e,r,n),this.generateEventsForType_(a,Ye.CHILD_MOVED,c,r,n),this.generateEventsForType_(a,Ye.CHILD_CHANGED,e,r,n),this.generateEventsForType_(a,Ye.VALUE,e,r,n),a},t.prototype.generateEventsForType_=function(e,n,r,s,a){var c=this,h=r.filter(function(d){return d.type===n});h.sort(this.compareChanges_.bind(this)),h.forEach(function(d){var g=c.materializeSingleChange_(d,a);s.forEach(function(y){y.respondsTo(d.type)&&e.push(y.createEvent(g,c.query_))})})},t.prototype.materializeSingleChange_=function(e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,this.index_)),e},t.prototype.compareChanges_=function(e,n){if(e.childName==null||n.childName==null)throw jp("Should only compare child_ events.");var r=new tt(e.childName,e.snapshotNode),s=new tt(n.childName,n.snapshotNode);return this.index_.compare(r,s)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var XR=function(){function t(e,n){this.query_=e,this.eventRegistrations_=[];var r=this.query_.getQueryParams(),s=new _E(r.getIndex()),a=r.getNodeFilter();this.processor_=new KR(a);var c=n.getServerCache(),h=n.getEventCache(),d=s.updateFullNode(Me.EMPTY_NODE,c.getNode(),null),g=a.updateFullNode(Me.EMPTY_NODE,h.getNode(),null),y=new ya(d,c.isFullyInitialized(),s.filtersNodes()),E=new ya(g,h.isFullyInitialized(),a.filtersNodes());this.viewCache_=new dA(E,y),this.eventGenerator_=new YR(this.query_)}return t.prototype.getQuery=function(){return this.query_},t.prototype.getServerCache=function(){return this.viewCache_.getServerCache().getNode()},t.prototype.getCompleteServerCache=function(e){var n=this.viewCache_.getCompleteServerSnap();return n&&(this.query_.getQueryParams().loadsAllData()||!e.isEmpty()&&!n.getImmediateChild(e.getFront()).isEmpty())?n.getChild(e):null},t.prototype.isEmpty=function(){return this.eventRegistrations_.length===0},t.prototype.addEventRegistration=function(e){this.eventRegistrations_.push(e)},t.prototype.removeEventRegistration=function(e,n){var r=[];if(n){ie(e==null,"A cancel should cancel all event registrations.");var s=this.query_.path;this.eventRegistrations_.forEach(function(d){n=n;var g=d.createCancelEvent(n,s);g&&r.push(g)})}if(e){for(var a=[],c=0;c<this.eventRegistrations_.length;++c){var h=this.eventRegistrations_[c];if(!h.matches(e))a.push(h);else if(e.hasAnyCallback()){a=a.concat(this.eventRegistrations_.slice(c+1));break}}this.eventRegistrations_=a}else this.eventRegistrations_=[];return r},t.prototype.applyOperation=function(e,n,r){e.type===Ro.MERGE&&e.source.queryId!==null&&(ie(this.viewCache_.getCompleteServerSnap(),"We should always have a full cache before handling merges"),ie(this.viewCache_.getCompleteEventSnap(),"Missing event cache, even though we have a server cache"));var s=this.viewCache_,a=this.processor_.applyOperation(s,e,n,r);return this.processor_.assertIndexed(a.viewCache),ie(a.viewCache.getServerCache().isFullyInitialized()||!s.getServerCache().isFullyInitialized(),"Once a server snap is complete, it should never go back"),this.viewCache_=a.viewCache,this.generateEventsForChanges_(a.changes,a.viewCache.getEventCache().getNode(),null)},t.prototype.getInitialEvents=function(e){var n=this.viewCache_.getEventCache(),r=[];if(!n.getNode().isLeafNode()){var s=n.getNode();s.forEachChild(bt,function(a,c){r.push(Ye.childAddedChange(a,c))})}return n.isFullyInitialized()&&r.push(Ye.valueChange(n.getNode())),this.generateEventsForChanges_(r,n.getNode(),e)},t.prototype.generateEventsForChanges_=function(e,n,r){var s=r?[r]:this.eventRegistrations_;return this.eventGenerator_.generateEventsForChanges(e,n,s)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ab,vA=function(){function t(){this.views=new Map}return Object.defineProperty(t,"__referenceConstructor",{get:function(){return ie(ab,"Reference.ts has not been loaded"),ab},set:function(e){ie(!ab,"__referenceConstructor has already been defined"),ab=e},enumerable:!1,configurable:!0}),t.prototype.isEmpty=function(){return this.views.size===0},t.prototype.applyOperation=function(e,n,r){var s,a,c=e.source.queryId;if(c!==null){var h=this.views.get(c);return ie(h!=null,"SyncTree gave us an op for an invalid query."),h.applyOperation(e,n,r)}else{var d=[];try{for(var g=un(this.views.values()),y=g.next();!y.done;y=g.next()){var h=y.value;d=d.concat(h.applyOperation(e,n,r))}}catch(E){s={error:E}}finally{try{y&&!y.done&&(a=g.return)&&a.call(g)}finally{if(s)throw s.error}}return d}},t.prototype.addEventRegistration=function(e,n,r,s,a){var c=e.queryIdentifier(),h=this.views.get(c);if(!h){var d=r.calcCompleteEventCache(a?s:null),g=!1;d?g=!0:s instanceof Me?(d=r.calcCompleteEventChildren(s),g=!1):(d=Me.EMPTY_NODE,g=!1);var y=new dA(new ya(d,g,!1),new ya(s,a,!1));h=new XR(e,y),this.views.set(c,h)}return h.addEventRegistration(n),h.getInitialEvents(n)},t.prototype.removeEventRegistration=function(e,n,r){var s,a,c=e.queryIdentifier(),h=[],d=[],g=this.hasCompleteView();if(c==="default")try{for(var y=un(this.views.entries()),E=y.next();!E.done;E=y.next()){var I=cg(E.value,2),T=I[0],x=I[1];d=d.concat(x.removeEventRegistration(n,r)),x.isEmpty()&&(this.views.delete(T),x.getQuery().getQueryParams().loadsAllData()||h.push(x.getQuery()))}}catch(A){s={error:A}}finally{try{E&&!E.done&&(a=y.return)&&a.call(y)}finally{if(s)throw s.error}}else{var x=this.views.get(c);x&&(d=d.concat(x.removeEventRegistration(n,r)),x.isEmpty()&&(this.views.delete(c),x.getQuery().getQueryParams().loadsAllData()||h.push(x.getQuery())))}return g&&!this.hasCompleteView()&&h.push(new t.__referenceConstructor(e.repo,e.path)),{removed:h,events:d}},t.prototype.getQueryViews=function(){var e,n,r=[];try{for(var s=un(this.views.values()),a=s.next();!a.done;a=s.next()){var c=a.value;c.getQuery().getQueryParams().loadsAllData()||r.push(c)}}catch(h){e={error:h}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}return r},t.prototype.getCompleteServerCache=function(e){var n,r,s=null;try{for(var a=un(this.views.values()),c=a.next();!c.done;c=a.next()){var h=c.value;s=s||h.getCompleteServerCache(e)}}catch(d){n={error:d}}finally{try{c&&!c.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return s},t.prototype.viewForQuery=function(e){var n=e.getQueryParams();if(n.loadsAllData())return this.getCompleteView();var r=e.queryIdentifier();return this.views.get(r)},t.prototype.viewExistsForQuery=function(e){return this.viewForQuery(e)!=null},t.prototype.hasCompleteView=function(){return this.getCompleteView()!=null},t.prototype.getCompleteView=function(){var e,n;try{for(var r=un(this.views.values()),s=r.next();!s.done;s=r.next()){var a=s.value;if(a.getQuery().getQueryParams().loadsAllData())return a}}catch(c){e={error:c}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return null},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _1=function(){function t(e){this.writeTree_=e}return t.prototype.addWrite=function(e,n){if(e.isEmpty())return new t(new di(n));var r=this.writeTree_.findRootMostValueAndPath(e);if(r!=null){var s=r.path,a=r.value,c=fe.relativePath(s,e);return a=a.updateChild(c,n),new t(this.writeTree_.set(s,a))}else{var h=new di(n),d=this.writeTree_.setTree(e,h);return new t(d)}},t.prototype.addWrites=function(e,n){var r=this;return Rn(n,function(s,a){r=r.addWrite(e.child(s),a)}),r},t.prototype.removeWrite=function(e){if(e.isEmpty())return t.Empty;var n=this.writeTree_.setTree(e,di.Empty);return new t(n)},t.prototype.hasCompleteWrite=function(e){return this.getCompleteNode(e)!=null},t.prototype.getCompleteNode=function(e){var n=this.writeTree_.findRootMostValueAndPath(e);return n!=null?this.writeTree_.get(n.path).getChild(fe.relativePath(n.path,e)):null},t.prototype.getCompleteChildren=function(){var e=[],n=this.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(bt,function(r,s){e.push(new tt(r,s))}):this.writeTree_.children.inorderTraversal(function(r,s){s.value!=null&&e.push(new tt(r,s.value))}),e},t.prototype.childCompoundWrite=function(e){if(e.isEmpty())return this;var n=this.getCompleteNode(e);return n!=null?new t(new di(n)):new t(this.writeTree_.subtree(e))},t.prototype.isEmpty=function(){return this.writeTree_.isEmpty()},t.prototype.apply=function(e){return gA(fe.Empty,this.writeTree_,e)},t.Empty=new t(new di(null)),t}();function gA(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);var r=null;return e.children.inorderTraversal(function(s,a){s===".priority"?(ie(a.value!==null,"Priority writes must always be leaf nodes"),r=a.value):n=gA(t.child(s),a,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(t.child(".priority"),r)),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $R=function(){function t(){this.visibleWrites_=_1.Empty,this.allWrites_=[],this.lastWriteId_=-1}return t.prototype.childWrites=function(e){return new QR(e,this)},t.prototype.addOverwrite=function(e,n,r,s){ie(r>this.lastWriteId_,"Stacking an older write on top of newer ones"),s===void 0&&(s=!0),this.allWrites_.push({path:e,snap:n,writeId:r,visible:s}),s&&(this.visibleWrites_=this.visibleWrites_.addWrite(e,n)),this.lastWriteId_=r},t.prototype.addMerge=function(e,n,r){ie(r>this.lastWriteId_,"Stacking an older merge on top of newer ones"),this.allWrites_.push({path:e,children:n,writeId:r,visible:!0}),this.visibleWrites_=this.visibleWrites_.addWrites(e,n),this.lastWriteId_=r},t.prototype.getWrite=function(e){for(var n=0;n<this.allWrites_.length;n++){var r=this.allWrites_[n];if(r.writeId===e)return r}return null},t.prototype.removeWrite=function(e){var n=this,r=this.allWrites_.findIndex(function(y){return y.writeId===e});ie(r>=0,"removeWrite called with nonexistent writeId.");var s=this.allWrites_[r];this.allWrites_.splice(r,1);for(var a=s.visible,c=!1,h=this.allWrites_.length-1;a&&h>=0;){var d=this.allWrites_[h];d.visible&&(h>=r&&this.recordContainsPath_(d,s.path)?a=!1:s.path.contains(d.path)&&(c=!0)),h--}if(a){if(c)return this.resetTree_(),!0;if(s.snap)this.visibleWrites_=this.visibleWrites_.removeWrite(s.path);else{var g=s.children;Rn(g,function(y){n.visibleWrites_=n.visibleWrites_.removeWrite(s.path.child(y))})}return!0}else return!1},t.prototype.getCompleteWriteData=function(e){return this.visibleWrites_.getCompleteNode(e)},t.prototype.calcCompleteEventCache=function(e,n,r,s){if(!r&&!s){var a=this.visibleWrites_.getCompleteNode(e);if(a!=null)return a;var c=this.visibleWrites_.childCompoundWrite(e);if(c.isEmpty())return n;if(n==null&&!c.hasCompleteWrite(fe.Empty))return null;var h=n||Me.EMPTY_NODE;return c.apply(h)}else{var d=this.visibleWrites_.childCompoundWrite(e);if(!s&&d.isEmpty())return n;if(!s&&n==null&&!d.hasCompleteWrite(fe.Empty))return null;var g=function(I){return(I.visible||s)&&(!r||!~r.indexOf(I.writeId))&&(I.path.contains(e)||e.contains(I.path))},y=t.layerTree_(this.allWrites_,g,e),h=n||Me.EMPTY_NODE;return y.apply(h)}},t.prototype.calcCompleteEventChildren=function(e,n){var r=Me.EMPTY_NODE,s=this.visibleWrites_.getCompleteNode(e);if(s)return s.isLeafNode()||s.forEachChild(bt,function(h,d){r=r.updateImmediateChild(h,d)}),r;if(n){var a=this.visibleWrites_.childCompoundWrite(e);return n.forEachChild(bt,function(h,d){var g=a.childCompoundWrite(new fe(h)).apply(d);r=r.updateImmediateChild(h,g)}),a.getCompleteChildren().forEach(function(h){r=r.updateImmediateChild(h.name,h.node)}),r}else{var c=this.visibleWrites_.childCompoundWrite(e);return c.getCompleteChildren().forEach(function(h){r=r.updateImmediateChild(h.name,h.node)}),r}},t.prototype.calcEventCacheAfterServerOverwrite=function(e,n,r,s){ie(r||s,"Either existingEventSnap or existingServerSnap must exist");var a=e.child(n);if(this.visibleWrites_.hasCompleteWrite(a))return null;var c=this.visibleWrites_.childCompoundWrite(a);return c.isEmpty()?s.getChild(n):c.apply(s.getChild(n))},t.prototype.calcCompleteChild=function(e,n,r){var s=e.child(n),a=this.visibleWrites_.getCompleteNode(s);if(a!=null)return a;if(r.isCompleteForChild(n)){var c=this.visibleWrites_.childCompoundWrite(s);return c.apply(r.getNode().getImmediateChild(n))}else return null},t.prototype.shadowingWrite=function(e){return this.visibleWrites_.getCompleteNode(e)},t.prototype.calcIndexedSlice=function(e,n,r,s,a,c){var h,d=this.visibleWrites_.childCompoundWrite(e),g=d.getCompleteNode(fe.Empty);if(g!=null)h=g;else if(n!=null)h=d.apply(n);else return[];if(h=h.withIndex(c),!h.isEmpty()&&!h.isLeafNode()){for(var y=[],E=c.getCompare(),I=a?h.getReverseIteratorFrom(r,c):h.getIteratorFrom(r,c),T=I.getNext();T&&y.length<s;)E(T,r)!==0&&y.push(T),T=I.getNext();return y}else return[]},t.prototype.recordContainsPath_=function(e,n){if(e.snap)return e.path.contains(n);for(var r in e.children)if(e.children.hasOwnProperty(r)&&e.path.child(r).contains(n))return!0;return!1},t.prototype.resetTree_=function(){this.visibleWrites_=t.layerTree_(this.allWrites_,t.DefaultFilter_,fe.Empty),this.allWrites_.length>0?this.lastWriteId_=this.allWrites_[this.allWrites_.length-1].writeId:this.lastWriteId_=-1},t.DefaultFilter_=function(e){return e.visible},t.layerTree_=function(e,n,r){for(var s=_1.Empty,a=0;a<e.length;++a){var c=e[a];if(n(c)){var h=c.path,d=void 0;if(c.snap)r.contains(h)?(d=fe.relativePath(r,h),s=s.addWrite(d,c.snap)):h.contains(r)&&(d=fe.relativePath(h,r),s=s.addWrite(fe.Empty,c.snap.getChild(d)));else if(c.children){if(r.contains(h))d=fe.relativePath(r,h),s=s.addWrites(d,c.children);else if(h.contains(r))if(d=fe.relativePath(h,r),d.isEmpty())s=s.addWrites(fe.Empty,c.children);else{var g=No(c.children,d.getFront());if(g){var y=g.getChild(d.popFront());s=s.addWrite(fe.Empty,y)}}}else throw jp("WriteRecord should have .snap or .children")}}return s},t}(),QR=function(){function t(e,n){this.treePath_=e,this.writeTree_=n}return t.prototype.calcCompleteEventCache=function(e,n,r){return this.writeTree_.calcCompleteEventCache(this.treePath_,e,n,r)},t.prototype.calcCompleteEventChildren=function(e){return this.writeTree_.calcCompleteEventChildren(this.treePath_,e)},t.prototype.calcEventCacheAfterServerOverwrite=function(e,n,r){return this.writeTree_.calcEventCacheAfterServerOverwrite(this.treePath_,e,n,r)},t.prototype.shadowingWrite=function(e){return this.writeTree_.shadowingWrite(this.treePath_.child(e))},t.prototype.calcIndexedSlice=function(e,n,r,s,a){return this.writeTree_.calcIndexedSlice(this.treePath_,e,n,r,s,a)},t.prototype.calcCompleteChild=function(e,n){return this.writeTree_.calcCompleteChild(this.treePath_,e,n)},t.prototype.child=function(e){return new t(this.treePath_.child(e),this.writeTree_)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var E1=function(){function t(e){this.listenProvider_=e,this.syncPointTree_=di.Empty,this.pendingWriteTree_=new $R,this.tagToQueryMap=new Map,this.queryToTagMap=new Map}return t.prototype.applyUserOverwrite=function(e,n,r,s){return this.pendingWriteTree_.addOverwrite(e,n,r,s),s?this.applyOperationToSyncPoints_(new Ib(pa.User,e,n)):[]},t.prototype.applyUserMerge=function(e,n,r){this.pendingWriteTree_.addMerge(e,n,r);var s=di.fromObject(n);return this.applyOperationToSyncPoints_(new Nw(pa.User,e,s))},t.prototype.ackUserWrite=function(e,n){n===void 0&&(n=!1);var r=this.pendingWriteTree_.getWrite(e),s=this.pendingWriteTree_.removeWrite(e);if(s){var a=di.Empty;return r.snap!=null?a=a.set(fe.Empty,!0):Rn(r.children,function(c,h){a=a.set(new fe(c),h)}),this.applyOperationToSyncPoints_(new qR(r.path,a,n))}else return[]},t.prototype.applyServerOverwrite=function(e,n){return this.applyOperationToSyncPoints_(new Ib(pa.Server,e,n))},t.prototype.applyServerMerge=function(e,n){var r=di.fromObject(n);return this.applyOperationToSyncPoints_(new Nw(pa.Server,e,r))},t.prototype.applyListenComplete=function(e){return this.applyOperationToSyncPoints_(new b1(pa.Server,e))},t.prototype.applyTaggedQueryOverwrite=function(e,n,r){var s=this.queryKeyForTag_(r);if(s!=null){var a=t.parseQueryKey_(s),c=a.path,h=a.queryId,d=fe.relativePath(c,e),g=new Ib(pa.forServerTaggedQuery(h),d,n);return this.applyTaggedOperation_(c,g)}else return[]},t.prototype.applyTaggedQueryMerge=function(e,n,r){var s=this.queryKeyForTag_(r);if(s){var a=t.parseQueryKey_(s),c=a.path,h=a.queryId,d=fe.relativePath(c,e),g=di.fromObject(n),y=new Nw(pa.forServerTaggedQuery(h),d,g);return this.applyTaggedOperation_(c,y)}else return[]},t.prototype.applyTaggedListenComplete=function(e,n){var r=this.queryKeyForTag_(n);if(r){var s=t.parseQueryKey_(r),a=s.path,c=s.queryId,h=fe.relativePath(a,e),d=new b1(pa.forServerTaggedQuery(c),h);return this.applyTaggedOperation_(a,d)}else return[]},t.prototype.addEventRegistration=function(e,n){var r=e.path,s=null,a=!1;this.syncPointTree_.foreachOnPath(r,function(A,N){var D=fe.relativePath(A,r);s=s||N.getCompleteServerCache(D),a=a||N.hasCompleteView()});var c=this.syncPointTree_.get(r);c?(a=a||c.hasCompleteView(),s=s||c.getCompleteServerCache(fe.Empty)):(c=new vA,this.syncPointTree_=this.syncPointTree_.set(r,c));var h;if(s!=null)h=!0;else{h=!1,s=Me.EMPTY_NODE;var d=this.syncPointTree_.subtree(r);d.foreachChild(function(A,N){var D=N.getCompleteServerCache(fe.Empty);D&&(s=s.updateImmediateChild(A,D))})}var g=c.viewExistsForQuery(e);if(!g&&!e.getQueryParams().loadsAllData()){var y=t.makeQueryKey_(e);ie(!this.queryToTagMap.has(y),"View does not exist, but we have a tag");var E=t.getNextQueryTag_();this.queryToTagMap.set(y,E),this.tagToQueryMap.set(E,y)}var I=this.pendingWriteTree_.childWrites(r),T=c.addEventRegistration(e,n,I,s,h);if(!g&&!a){var x=c.viewForQuery(e);T=T.concat(this.setupListener_(e,x))}return T},t.prototype.removeEventRegistration=function(e,n,r){var s=this,a=e.path,c=this.syncPointTree_.get(a),h=[];if(c&&(e.queryIdentifier()==="default"||c.viewExistsForQuery(e))){var d=c.removeEventRegistration(e,n,r);c.isEmpty()&&(this.syncPointTree_=this.syncPointTree_.remove(a));var g=d.removed;h=d.events;var y=g.findIndex(function(H){return H.getQueryParams().loadsAllData()})!==-1,E=this.syncPointTree_.findOnPath(a,function(H,X){return X.hasCompleteView()});if(y&&!E){var I=this.syncPointTree_.subtree(a);if(!I.isEmpty())for(var T=this.collectDistinctViewsForSubTree_(I),x=0;x<T.length;++x){var A=T[x],N=A.getQuery(),D=this.createListenerForView_(A);this.listenProvider_.startListening(t.queryForListening_(N),this.tagForQuery_(N),D.hashFn,D.onComplete)}}if(!E&&g.length>0&&!r)if(y){var L=null;this.listenProvider_.stopListening(t.queryForListening_(e),L)}else g.forEach(function(H){var X=s.queryToTagMap.get(t.makeQueryKey_(H));s.listenProvider_.stopListening(t.queryForListening_(H),X)});this.removeTags_(g)}return h},t.prototype.calcCompleteEventCache=function(e,n){var r=!0,s=this.pendingWriteTree_,a=this.syncPointTree_.findOnPath(e,function(c,h){var d=fe.relativePath(c,e),g=h.getCompleteServerCache(d);if(g)return g});return s.calcCompleteEventCache(e,a,n,r)},t.prototype.collectDistinctViewsForSubTree_=function(e){return e.fold(function(n,r,s){if(r&&r.hasCompleteView()){var a=r.getCompleteView();return[a]}else{var c=[];return r&&(c=r.getQueryViews()),Rn(s,function(h,d){c=c.concat(d)}),c}})},t.prototype.removeTags_=function(e){for(var n=0;n<e.length;++n){var r=e[n];if(!r.getQueryParams().loadsAllData()){var s=t.makeQueryKey_(r),a=this.queryToTagMap.get(s);this.queryToTagMap.delete(s),this.tagToQueryMap.delete(a)}}},t.queryForListening_=function(e){return e.getQueryParams().loadsAllData()&&!e.getQueryParams().isDefault()?e.getRef():e},t.prototype.setupListener_=function(e,n){var r=e.path,s=this.tagForQuery_(e),a=this.createListenerForView_(n),c=this.listenProvider_.startListening(t.queryForListening_(e),s,a.hashFn,a.onComplete),h=this.syncPointTree_.subtree(r);if(s)ie(!h.value.hasCompleteView(),"If we're adding a query, it shouldn't be shadowed");else for(var d=h.fold(function(E,I,T){if(!E.isEmpty()&&I&&I.hasCompleteView())return[I.getCompleteView().getQuery()];var x=[];return I&&(x=x.concat(I.getQueryViews().map(function(A){return A.getQuery()}))),Rn(T,function(A,N){x=x.concat(N)}),x}),g=0;g<d.length;++g){var y=d[g];this.listenProvider_.stopListening(t.queryForListening_(y),this.tagForQuery_(y))}return c},t.prototype.createListenerForView_=function(e){var n=this,r=e.getQuery(),s=this.tagForQuery_(r);return{hashFn:function(){var a=e.getServerCache()||Me.EMPTY_NODE;return a.hash()},onComplete:function(a){if(a==="ok")return s?n.applyTaggedListenComplete(r.path,s):n.applyListenComplete(r.path);var c=lR(a,r);return n.removeEventRegistration(r,null,c)}}},t.makeQueryKey_=function(e){return e.path.toString()+"$"+e.queryIdentifier()},t.parseQueryKey_=function(e){var n=e.indexOf("$");return ie(n!==-1&&n<e.length-1,"Bad queryKey."),{queryId:e.substr(n+1),path:new fe(e.substr(0,n))}},t.prototype.queryKeyForTag_=function(e){return this.tagToQueryMap.get(e)},t.prototype.tagForQuery_=function(e){var n=t.makeQueryKey_(e);return this.queryToTagMap.get(n)},t.getNextQueryTag_=function(){return t.nextQueryTag_++},t.prototype.applyTaggedOperation_=function(e,n){var r=this.syncPointTree_.get(e);ie(r,"Missing sync point for query tag that we're tracking");var s=this.pendingWriteTree_.childWrites(e);return r.applyOperation(n,s,null)},t.prototype.applyOperationToSyncPoints_=function(e){return this.applyOperationHelper_(e,this.syncPointTree_,null,this.pendingWriteTree_.childWrites(fe.Empty))},t.prototype.applyOperationHelper_=function(e,n,r,s){if(e.path.isEmpty())return this.applyOperationDescendantsHelper_(e,n,r,s);var a=n.get(fe.Empty);r==null&&a!=null&&(r=a.getCompleteServerCache(fe.Empty));var c=[],h=e.path.getFront(),d=e.operationForChild(h),g=n.children.get(h);if(g&&d){var y=r?r.getImmediateChild(h):null,E=s.child(h);c=c.concat(this.applyOperationHelper_(d,g,y,E))}return a&&(c=c.concat(a.applyOperation(e,s,r))),c},t.prototype.applyOperationDescendantsHelper_=function(e,n,r,s){var a=this,c=n.get(fe.Empty);r==null&&c!=null&&(r=c.getCompleteServerCache(fe.Empty));var h=[];return n.children.inorderTraversal(function(d,g){var y=r?r.getImmediateChild(d):null,E=s.child(d),I=e.operationForChild(d);I&&(h=h.concat(a.applyOperationDescendantsHelper_(I,g,y,E)))}),c&&(h=h.concat(c.applyOperation(e,s,r))),h},t.nextQueryTag_=1,t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var JR=function(){function t(){this.rootNode_=Me.EMPTY_NODE}return t.prototype.getNode=function(e){return this.rootNode_.getChild(e)},t.prototype.updateSnapshot=function(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ZR=function(){function t(){this.counters_={}}return t.prototype.incrementCounter=function(e,n){n===void 0&&(n=1),Hi(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n},t.prototype.get=function(){return UN(this.counters_)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pb=function(){function t(){}return t.getCollection=function(e){var n=e.toString();return this.collections_[n]||(this.collections_[n]=new ZR),this.collections_[n]},t.getOrCreateReporter=function(e,n){var r=e.toString();return this.reporters_[r]||(this.reporters_[r]=n()),this.reporters_[r]},t.collections_={},t.reporters_={},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mA=function(){function t(e){this.collection_=e,this.last_=null}return t.prototype.get=function(){var e=this.collection_.get(),n=$t({},e);return this.last_&&Rn(this.last_,function(r,s){n[r]=n[r]-s}),this.last_=e,n},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var I1=10*1e3,eO=30*1e3,tO=5*60*1e3,nO=function(){function t(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new mA(e);var r=I1+(eO-I1)*Math.random();ig(this.reportStats_.bind(this),Math.floor(r))}return t.prototype.includeStat=function(e){this.statsToReport_[e]=!0},t.prototype.reportStats_=function(){var e=this,n=this.statsListener_.get(),r={},s=!1;Rn(n,function(a,c){c>0&&Hi(e.statsToReport_,a)&&(r[a]=c,s=!0)}),s&&this.server_.reportStats(r),ig(this.reportStats_.bind(this),Math.floor(Math.random()*2*tO))},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rO=function(){function t(){this.eventLists_=[],this.recursionDepth_=0}return t.prototype.queueEvents=function(e){for(var n=null,r=0;r<e.length;r++){var s=e[r],a=s.getPath();n!==null&&!a.equals(n.getPath())&&(this.eventLists_.push(n),n=null),n===null&&(n=new iO(a)),n.add(s)}n&&this.eventLists_.push(n)},t.prototype.raiseEventsAtPath=function(e,n){this.queueEvents(n),this.raiseQueuedEventsMatchingPredicate_(function(r){return r.equals(e)})},t.prototype.raiseEventsForChangedPath=function(e,n){this.queueEvents(n),this.raiseQueuedEventsMatchingPredicate_(function(r){return r.contains(e)||e.contains(r)})},t.prototype.raiseQueuedEventsMatchingPredicate_=function(e){this.recursionDepth_++;for(var n=!0,r=0;r<this.eventLists_.length;r++){var s=this.eventLists_[r];if(s){var a=s.getPath();e(a)?(this.eventLists_[r].raise(),this.eventLists_[r]=null):n=!1}}n&&(this.eventLists_=[]),this.recursionDepth_--},t}(),iO=function(){function t(e){this.path_=e,this.events_=[]}return t.prototype.add=function(e){this.events_.push(e)},t.prototype.raise=function(){for(var e=0;e<this.events_.length;e++){var n=this.events_[e];if(n!==null){this.events_[e]=null;var r=n.getEventRunner();qc&&ir("event: "+n.toString()),Bp(r)}}},t.prototype.getPath=function(){return this.path_},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yA=function(){function t(e){this.allowedEvents_=e,this.listeners_={},ie(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}return t.prototype.trigger=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];if(Array.isArray(this.listeners_[e]))for(var s=Ca(this.listeners_[e]),a=0;a<s.length;a++)s[a].callback.apply(s[a].context,n)},t.prototype.on=function(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});var s=this.getInitialEvent(e);s&&n.apply(r,s)},t.prototype.off=function(e,n,r){this.validateEventType_(e);for(var s=this.listeners_[e]||[],a=0;a<s.length;a++)if(s[a].callback===n&&(!r||r===s[a].context)){s.splice(a,1);return}},t.prototype.validateEventType_=function(e){ie(this.allowedEvents_.find(function(n){return n===e}),"Unknown event: "+e)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oO=function(t){we(e,t);function e(){var n=t.call(this,["visible"])||this,r,s;return typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(s="visibilitychange",r="hidden"):typeof document.mozHidden<"u"?(s="mozvisibilitychange",r="mozHidden"):typeof document.msHidden<"u"?(s="msvisibilitychange",r="msHidden"):typeof document.webkitHidden<"u"&&(s="webkitvisibilitychange",r="webkitHidden")),n.visible_=!0,s&&document.addEventListener(s,function(){var a=!document[r];a!==n.visible_&&(n.visible_=a,n.trigger("visible",a))},!1),n}return e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(n){return ie(n==="visible","Unknown event type: "+n),[this.visible_]},e}(yA);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var S1=function(t){we(e,t);function e(){var n=t.call(this,["online"])||this;return n.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!fE()&&(window.addEventListener("online",function(){n.online_||(n.online_=!0,n.trigger("online",!0))},!1),window.addEventListener("offline",function(){n.online_&&(n.online_=!1,n.trigger("online",!1))},!1)),n}return e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(n){return ie(n==="online","Unknown event type: "+n),[this.online_]},e.prototype.currentlyOnline=function(){return this.online_},e}(yA);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sO=function(){function t(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return t.prototype.closeAfter=function(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},t.prototype.handleResponse=function(e,n){var r=this;this.pendingResponses[e]=n;for(var s=function(){var h=a.pendingResponses[a.currentResponseNum];delete a.pendingResponses[a.currentResponseNum];for(var d=function(y){h[y]&&Bp(function(){r.onMessage_(h[y])})},g=0;g<h.length;++g)d(g);if(a.currentResponseNum===a.closeAfterResponse)return a.onClose&&(a.onClose(),a.onClose=null),"break";a.currentResponseNum++},a=this;this.pendingResponses[this.currentResponseNum];){var c=s();if(c==="break")break}},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var T1="start",aO="close",uO="pLPCommand",lO="pRTLPCB",bA="id",wA="pw",_A="ser",cO="cb",fO="seg",hO="ts",pO="d",dO="dframe",EA=1870,IA=30,vO=EA-IA,gO=25e3,mO=3e4,EE=function(){function t(e,n,r,s,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Pg(e),this.stats_=Pb.getCollection(n),this.urlFn=function(c){return n.connectionURL(nA,c)}}return t.prototype.open=function(e,n){var r=this;this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new sO(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){r.log_("Timed out trying to connect."),r.onClosed_(),r.connectTimeoutTimer_=null},Math.floor(mO)),oR(function(){if(!r.isClosed_){r.scriptTagHolder=new yO(function(){for(var c=[],h=0;h<arguments.length;h++)c[h]=arguments[h];var d=cg(c,5),g=d[0],y=d[1],E=d[2];if(d[3],d[4],r.incrementIncomingBytes_(c),!!r.scriptTagHolder)if(r.connectTimeoutTimer_&&(clearTimeout(r.connectTimeoutTimer_),r.connectTimeoutTimer_=null),r.everConnected_=!0,g===T1)r.id=y,r.password=E;else if(g===aO)y?(r.scriptTagHolder.sendNewPolls=!1,r.myPacketOrderer.closeAfter(y,function(){r.onClosed_()})):r.onClosed_();else throw new Error("Unrecognized command received: "+g)},function(){for(var c=[],h=0;h<arguments.length;h++)c[h]=arguments[h];var d=cg(c,2),g=d[0],y=d[1];r.incrementIncomingBytes_(c),r.myPacketOrderer.handleResponse(g,y)},function(){r.onClosed_()},r.urlFn);var s={};s[T1]="t",s[_A]=Math.floor(Math.random()*1e8),r.scriptTagHolder.uniqueCallbackIdentifier&&(s[cO]=r.scriptTagHolder.uniqueCallbackIdentifier),s[XT]=gE,r.transportSessionId&&(s[$T]=r.transportSessionId),r.lastSessionId&&(s[eA]=r.lastSessionId),r.applicationId&&(s[pR]=r.applicationId),typeof location<"u"&&location.href&&location.href.indexOf(ZT)!==-1&&(s[QT]=JT);var a=r.urlFn(s);r.log_("Connecting via long-poll to "+a),r.scriptTagHolder.addTag(a,function(){})}})},t.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},t.forceAllow=function(){t.forceAllow_=!0},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){return t.forceAllow_?!0:!t.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!aR()&&!uR()},t.prototype.markConnectionHealthy=function(){},t.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},t.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},t.prototype.send=function(e){var n=Wn(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);for(var r=FN(n),s=KT(r,vO),a=0;a<s.length;a++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[a]),this.curSegmentNum++},t.prototype.addDisconnectPingFrame=function(e,n){this.myDisconnFrame=document.createElement("iframe");var r={};r[dO]="t",r[bA]=e,r[wA]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)},t.prototype.incrementIncomingBytes_=function(e){var n=Wn(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)},t}(),yO=function(){function t(e,n,r,s){this.onDisconnect=r,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=WT(),window[uO+this.uniqueCallbackIdentifier]=e,window[lO+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();var a="";if(this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"){var c=document.domain;a='<script>document.domain="'+c+'";<\/script>'}var h="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(h),this.myIFrame.doc.close()}catch(d){ir("frame writing exception"),d.stack&&ir(d.stack),ir(d)}}}return t.createIFrame_=function(){var e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{var n=e.contentWindow.document;n||ir("No IE domain setting required")}catch{var r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e},t.prototype.close=function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){e.myIFrame!==null&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)},Math.floor(0)));var n=this.onDisconnect;n&&(this.onDisconnect=null,n())},t.prototype.startLongPoll=function(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););},t.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e[bA]=this.myID,e[wA]=this.myPW,e[_A]=this.currentSerial;for(var n=this.urlFn(e),r="",s=0;this.pendingSegs.length>0;){var a=this.pendingSegs[0];if(a.d.length+IA+r.length<=EA){var c=this.pendingSegs.shift();r=r+"&"+fO+s+"="+c.seg+"&"+hO+s+"="+c.ts+"&"+pO+s+"="+c.d,s++}else break}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1},t.prototype.enqueueSegment=function(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()},t.prototype.addLongPollTag_=function(e,n){var r=this;this.outstandingRequests.add(n);var s=function(){r.outstandingRequests.delete(n),r.newRequest_()},a=setTimeout(s,Math.floor(gO)),c=function(){clearTimeout(a),s()};this.addTag(e,c)},t.prototype.addTag=function(e,n){var r=this;setTimeout(function(){try{if(!r.sendNewPolls)return;var s=r.myIFrame.doc.createElement("script");s.type="text/javascript",s.async=!0,s.src=e,s.onload=s.onreadystatechange=function(){var a=s.readyState;(!a||a==="loaded"||a==="complete")&&(s.onload=s.onreadystatechange=null,s.parentNode&&s.parentNode.removeChild(s),n())},s.onerror=function(){ir("Long-poll script failed to load: "+e),r.sendNewPolls=!1,r.close()},r.myIFrame.doc.body.appendChild(s)}catch{}},Math.floor(1))},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var SA="";function bO(t){SA=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wO=16384,_O=45e3,Db=null;typeof MozWebSocket<"u"?Db=MozWebSocket:typeof WebSocket<"u"&&(Db=WebSocket);var Fc=function(){function t(e,n,r,s,a){this.connId=e,this.applicationId=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Pg(this.connId),this.stats_=Pb.getCollection(n),this.connURL=t.connectionURL_(n,s,a),this.nodeAdmin=n.nodeAdmin}return t.connectionURL_=function(e,n,r){var s={};return s[XT]=gE,typeof location<"u"&&location.href&&location.href.indexOf(ZT)!==-1&&(s[QT]=JT),n&&(s[$T]=n),r&&(s[eA]=r),e.connectionURL(tA,s)},t.prototype.open=function(e,n){var r=this;this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,jc.set("previous_websocket_failure",!0);try{var s,a,c,h;if(!qN()){var a={headers:{"X-Firebase-GMPID":this.applicationId||""}};this.mySock=new Db(this.connURL,[],a)}}catch(g){this.log_("Error instantiating WebSocket.");var d=g.message||g.data;d&&this.log_(d),this.onClosed_();return}this.mySock.onopen=function(){r.log_("Websocket connected."),r.everConnected_=!0},this.mySock.onclose=function(){r.log_("Websocket connection was disconnected."),r.mySock=null,r.onClosed_()},this.mySock.onmessage=function(g){r.handleIncomingFrame(g)},this.mySock.onerror=function(g){r.log_("WebSocket error.  Closing connection.");var y=g.message||g.data;y&&r.log_(y),r.onClosed_()}},t.prototype.start=function(){},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){var e=!1;if(typeof navigator<"u"&&navigator.userAgent){var n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Db!==null&&!t.forceDisallow_},t.previouslyFailed=function(){return jc.isInMemoryStorage||jc.get("previous_websocket_failure")===!0},t.prototype.markConnectionHealthy=function(){jc.remove("previous_websocket_failure")},t.prototype.appendFrame_=function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var n=this.frames.join("");this.frames=null;var r=hg(n);this.onMessage(r)}},t.prototype.handleNewFrameCount_=function(e){this.totalFrames=e,this.frames=[]},t.prototype.extractFrameCount_=function(e){if(ie(this.frames===null,"We already have a frame buffer"),e.length<=6){var n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e},t.prototype.handleIncomingFrame=function(e){if(this.mySock!==null){var n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{var r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}},t.prototype.send=function(e){this.resetKeepAlive();var n=Wn(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);var r=KT(n,wO);r.length>1&&this.sendString_(String(r.length));for(var s=0;s<r.length;s++)this.sendString_(r[s])},t.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},t.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},t.prototype.resetKeepAlive=function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()},Math.floor(_O))},t.prototype.sendString_=function(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var EO=function(){function t(e){this.initTransports_(e)}return Object.defineProperty(t,"ALL_TRANSPORTS",{get:function(){return[EE,Fc]},enumerable:!1,configurable:!0}),t.prototype.initTransports_=function(e){var n,r,s=Fc&&Fc.isAvailable(),a=s&&!Fc.previouslyFailed();if(e.webSocketOnly&&(s||vr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),a=!0),a)this.transports_=[Fc];else{var c=this.transports_=[];try{for(var h=un(t.ALL_TRANSPORTS),d=h.next();!d.done;d=h.next()){var g=d.value;g&&g.isAvailable()&&c.push(g)}}catch(y){n={error:y}}finally{try{d&&!d.done&&(r=h.return)&&r.call(h)}finally{if(n)throw n.error}}}},t.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},t.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var IO=6e4,SO=5e3,TO=10*1024,AO=100*1024,Ow="t",A1="d",CO="s",C1="r",kO="e",k1="o",x1="a",N1="n",R1="p",xO="h",TA=function(){function t(e,n,r,s,a,c,h,d){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=c,this.onKill_=h,this.lastSessionId=d,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Pg("c:"+this.id+":"),this.transportManager_=new EO(n),this.log_("Connection created"),this.start_()}return t.prototype.start_=function(){var e=this,n=this.transportManager_.initialTransport();this.conn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,void 0,this.lastSessionId),this.primaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;var r=this.connReceiver_(this.conn_),s=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){e.conn_&&e.conn_.open(r,s)},Math.floor(0));var a=n.healthyTimeout||0;a>0&&(this.healthyTimeout_=ig(function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>AO?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>TO?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))},Math.floor(a)))},t.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},t.prototype.disconnReceiver_=function(e){var n=this;return function(r){e===n.conn_?n.onConnectionLost_(r):e===n.secondaryConn_?(n.log_("Secondary connection lost."),n.onSecondaryConnectionLost_()):n.log_("closing an old connection")}},t.prototype.connReceiver_=function(e){var n=this;return function(r){n.state_!==2&&(e===n.rx_?n.onPrimaryMessageReceived_(r):e===n.secondaryConn_?n.onSecondaryMessageReceived_(r):n.log_("message on old connection"))}},t.prototype.sendRequest=function(e){var n={t:"d",d:e};this.sendData_(n)},t.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},t.prototype.onSecondaryControl_=function(e){if(Ow in e){var n=e[Ow];n===x1?this.upgradeIfSecondaryHealthy_():n===C1?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===k1&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},t.prototype.onSecondaryMessageReceived_=function(e){var n=Xv("t",e),r=Xv("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)},t.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:R1,d:{}}}))},t.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:x1,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:N1,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},t.prototype.onPrimaryMessageReceived_=function(e){var n=Xv("t",e),r=Xv("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)},t.prototype.onDataMessage_=function(e){this.onPrimaryResponse_(),this.onMessage_(e)},t.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},t.prototype.onControl_=function(e){var n=Xv(Ow,e);if(A1 in e){var r=e[A1];if(n===xO)this.onHandshake_(r);else if(n===N1){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===CO?this.onConnectionShutdown_(r):n===C1?this.onReset_(r):n===kO?w_("Server Error: "+r):n===k1?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):w_("Unknown control packet command: "+n)}},t.prototype.onHandshake_=function(e){var n=e.ts,r=e.v,s=e.h;this.sessionId=e.s,this.repoInfo_.updateHost(s),this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),gE!==r&&vr("Protocol version mismatch detected"),this.tryStartUpgrade_())},t.prototype.tryStartUpgrade_=function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)},t.prototype.startUpgrade_=function(e){var n=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var r=this.connReceiver_(this.secondaryConn_),s=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(r,s),ig(function(){n.secondaryConn_&&(n.log_("Timed out trying to upgrade."),n.secondaryConn_.close())},Math.floor(IO))},t.prototype.onReset_=function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.updateHost(e),this.state_===1?this.close():(this.closeConnections_(),this.start_())},t.prototype.onConnectionEstablished_=function(e,n){var r=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ig(function(){r.sendPingOnPrimaryIfNecessary_()},Math.floor(SO))},t.prototype.sendPingOnPrimaryIfNecessary_=function(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:R1,d:{}}}))},t.prototype.onSecondaryConnectionLost_=function(){var e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()},t.prototype.onConnectionLost_=function(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(jc.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()},t.prototype.onConnectionShutdown_=function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()},t.prototype.sendData_=function(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)},t.prototype.close=function(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},t.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var AA=function(){function t(){}return t.prototype.put=function(e,n,r,s){},t.prototype.merge=function(e,n,r,s){},t.prototype.refreshAuthToken=function(e){},t.prototype.onDisconnectPut=function(e,n,r){},t.prototype.onDisconnectMerge=function(e,n,r){},t.prototype.onDisconnectCancel=function(e,n){},t.prototype.reportStats=function(e){},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qv=1e3,NO=60*5*1e3,O1=30*1e3,RO=1.3,OO=3e4,PO="server_kill",DO=3,Gc=function(t){we(e,t);function e(n,r,s,a,c,h,d){var g=t.call(this)||this;if(g.repoInfo_=n,g.applicationId_=r,g.onDataUpdate_=s,g.onConnectStatus_=a,g.onServerInfoUpdate_=c,g.authTokenProvider_=h,g.authOverride_=d,g.id=e.nextPersistentConnectionId_++,g.log_=Pg("p:"+g.id+":"),g.interruptReasons_={},g.listens=new Map,g.outstandingPuts_=[],g.outstandingPutCount_=0,g.onDisconnectRequestQueue_=[],g.connected_=!1,g.reconnectDelay_=Qv,g.maxReconnectDelay_=NO,g.securityDebugCallback_=null,g.lastSessionId=null,g.establishConnectionTimer_=null,g.visible_=!1,g.requestCBHash_={},g.requestNumber_=0,g.realtime_=null,g.authToken_=null,g.forceTokenRefresh_=!1,g.invalidAuthTokenCount_=0,g.firstConnection_=!0,g.lastConnectionAttemptTime_=null,g.lastConnectionEstablishedTime_=null,d)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return g.scheduleConnect_(0),oO.getInstance().on("visible",g.onVisible_,g),n.host.indexOf("fblocal")===-1&&S1.getInstance().on("online",g.onOnline_,g),g}return e.prototype.sendRequest=function(n,r,s){var a=++this.requestNumber_,c={r:a,a:n,b:r};this.log_(Wn(c)),ie(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(c),s&&(this.requestCBHash_[a]=s)},e.prototype.listen=function(n,r,s,a){var c=n.queryIdentifier(),h=n.path.toString();this.log_("Listen called for "+h+" "+c),this.listens.has(h)||this.listens.set(h,new Map),ie(n.getQueryParams().isDefault()||!n.getQueryParams().loadsAllData(),"listen() called for non-default but complete query"),ie(!this.listens.get(h).has(c),"listen() called twice for same path/queryId.");var d={onComplete:a,hashFn:r,query:n,tag:s};this.listens.get(h).set(c,d),this.connected_&&this.sendListen_(d)},e.prototype.sendListen_=function(n){var r=this,s=n.query,a=s.path.toString(),c=s.queryIdentifier();this.log_("Listen on "+a+" for "+c);var h={p:a},d="q";n.tag&&(h.q=s.queryObject(),h.t=n.tag),h.h=n.hashFn(),this.sendRequest(d,h,function(g){var y=g.d,E=g.s;e.warnOnListenWarnings_(y,s);var I=r.listens.get(a)&&r.listens.get(a).get(c);I===n&&(r.log_("listen response",g),E!=="ok"&&r.removeListen_(a,c),n.onComplete&&n.onComplete(E,y))})},e.warnOnListenWarnings_=function(n,r){if(n&&typeof n=="object"&&Hi(n,"w")){var s=No(n,"w");if(Array.isArray(s)&&~s.indexOf("no_index")){var a='".indexOn": "'+r.getQueryParams().getIndex().toString()+'"',c=r.path.toString();vr("Using an unspecified index. Your data will be downloaded and "+("filtered on the client. Consider adding "+a+" at ")+(c+" to your security rules for better performance."))}}},e.prototype.refreshAuthToken=function(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(n)},e.prototype.reduceReconnectDelayIfAdminCredential_=function(n){var r=n&&n.length===40;(r||KN(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=O1)},e.prototype.tryAuth=function(){var n=this;if(this.connected_&&this.authToken_){var r=this.authToken_,s=zN(r)?"auth":"gauth",a={cred:r};this.authOverride_===null?a.noauth=!0:typeof this.authOverride_=="object"&&(a.authvar=this.authOverride_),this.sendRequest(s,a,function(c){var h=c.s,d=c.d||"error";n.authToken_===r&&(h==="ok"?n.invalidAuthTokenCount_=0:n.onAuthRevoked_(h,d))})}},e.prototype.unlisten=function(n,r){var s=n.path.toString(),a=n.queryIdentifier();this.log_("Unlisten called for "+s+" "+a),ie(n.getQueryParams().isDefault()||!n.getQueryParams().loadsAllData(),"unlisten() called for non-default but complete query");var c=this.removeListen_(s,a);c&&this.connected_&&this.sendUnlisten_(s,a,n.queryObject(),r)},e.prototype.sendUnlisten_=function(n,r,s,a){this.log_("Unlisten on "+n+" for "+r);var c={p:n},h="n";a&&(c.q=s,c.t=a),this.sendRequest(h,c)},e.prototype.onDisconnectPut=function(n,r,s){this.connected_?this.sendOnDisconnect_("o",n,r,s):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:s})},e.prototype.onDisconnectMerge=function(n,r,s){this.connected_?this.sendOnDisconnect_("om",n,r,s):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:s})},e.prototype.onDisconnectCancel=function(n,r){this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})},e.prototype.sendOnDisconnect_=function(n,r,s,a){var c={p:r,d:s};this.log_("onDisconnect "+n,c),this.sendRequest(n,c,function(h){a&&setTimeout(function(){a(h.s,h.d)},Math.floor(0))})},e.prototype.put=function(n,r,s,a){this.putInternal("p",n,r,s,a)},e.prototype.merge=function(n,r,s,a){this.putInternal("m",n,r,s,a)},e.prototype.putInternal=function(n,r,s,a,c){var h={p:r,d:s};c!==void 0&&(h.h=c),this.outstandingPuts_.push({action:n,request:h,onComplete:a}),this.outstandingPutCount_++;var d=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(d):this.log_("Buffering put: "+r)},e.prototype.sendPut_=function(n){var r=this,s=this.outstandingPuts_[n].action,a=this.outstandingPuts_[n].request,c=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(s,a,function(h){r.log_(s+" response",h),delete r.outstandingPuts_[n],r.outstandingPutCount_--,r.outstandingPutCount_===0&&(r.outstandingPuts_=[]),c&&c(h.s,h.d)})},e.prototype.reportStats=function(n){var r=this;if(this.connected_){var s={c:n};this.log_("reportStats",s),this.sendRequest("s",s,function(a){var c=a.s;if(c!=="ok"){var h=a.d;r.log_("reportStats","Error sending stats: "+h)}})}},e.prototype.onDataMessage_=function(n){if("r"in n){this.log_("from server: "+Wn(n));var r=n.r,s=this.requestCBHash_[r];s&&(delete this.requestCBHash_[r],s(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}},e.prototype.onDataPush_=function(n,r){this.log_("handleServerMessage",n,r),n==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):n==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):n==="c"?this.onListenRevoked_(r.p,r.q):n==="ac"?this.onAuthRevoked_(r.s,r.d):n==="sd"?this.onSecurityDebugPacket_(r):w_("Unrecognized action received from server: "+Wn(n)+`
Are you using the latest client?`)},e.prototype.onReady_=function(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},e.prototype.scheduleConnect_=function(n){var r=this;ie(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){r.establishConnectionTimer_=null,r.establishConnection_()},Math.floor(n))},e.prototype.onVisible_=function(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Qv,this.realtime_||this.scheduleConnect_(0)),this.visible_=n},e.prototype.onOnline_=function(n){n?(this.log_("Browser went online."),this.reconnectDelay_=Qv,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},e.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(!this.visible_)this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime();else if(this.lastConnectionEstablishedTime_){var n=new Date().getTime()-this.lastConnectionEstablishedTime_;n>OO&&(this.reconnectDelay_=Qv),this.lastConnectionEstablishedTime_=null}var r=new Date().getTime()-this.lastConnectionAttemptTime_,s=Math.max(0,this.reconnectDelay_-r);s=Math.random()*s,this.log_("Trying to reconnect in "+s+"ms"),this.scheduleConnect_(s),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*RO)}this.onConnectStatus_(!1)},e.prototype.establishConnection_=function(){var n=this;if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;var r=this.onDataMessage_.bind(this),s=this.onReady_.bind(this),a=this.onRealtimeDisconnect_.bind(this),c=this.id+":"+e.nextConnectionId_++,h=this,d=this.lastSessionId,g=!1,y=null,E=function(){y?y.close():(g=!0,a())},I=function(x){ie(y,"sendRequest call when we're not connected not allowed."),y.sendRequest(x)};this.realtime_={close:E,sendRequest:I};var T=this.forceTokenRefresh_;this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(T).then(function(x){g?ir("getToken() completed but was canceled"):(ir("getToken() completed. Creating connection."),h.authToken_=x&&x.accessToken,y=new TA(c,h.repoInfo_,h.applicationId_,r,s,a,function(A){vr(A+" ("+h.repoInfo_.toString()+")"),h.interrupt(PO)},d))}).then(null,function(x){h.log_("Failed to get token: "+x),g||(n.repoInfo_.nodeAdmin&&vr(x),E())})}},e.prototype.interrupt=function(n){ir("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},e.prototype.resume=function(n){ir("Resuming connection for reason: "+n),delete this.interruptReasons_[n],m_(this.interruptReasons_)&&(this.reconnectDelay_=Qv,this.realtime_||this.scheduleConnect_(0))},e.prototype.handleTimestamp_=function(n){var r=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})},e.prototype.cancelSentTransactions_=function(){for(var n=0;n<this.outstandingPuts_.length;n++){var r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])},e.prototype.onListenRevoked_=function(n,r){var s;r?s=r.map(function(c){return vE(c)}).join("$"):s="default";var a=this.removeListen_(n,s);a&&a.onComplete&&a.onComplete("permission_denied")},e.prototype.removeListen_=function(n,r){var s=new fe(n).toString(),a;if(this.listens.has(s)){var c=this.listens.get(s);a=c.get(r),c.delete(r),c.size===0&&this.listens.delete(s)}else a=void 0;return a},e.prototype.onAuthRevoked_=function(n,r){ir("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=DO&&(this.reconnectDelay_=O1,this.authTokenProvider_.notifyForInvalidToken()))},e.prototype.onSecurityDebugPacket_=function(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))},e.prototype.restoreState_=function(){var n,r,s,a;this.tryAuth();try{for(var c=un(this.listens.values()),h=c.next();!h.done;h=c.next()){var d=h.value;try{for(var g=(s=void 0,un(d.values())),y=g.next();!y.done;y=g.next()){var E=y.value;this.sendListen_(E)}}catch(x){s={error:x}}finally{try{y&&!y.done&&(a=g.return)&&a.call(g)}finally{if(s)throw s.error}}}}catch(x){n={error:x}}finally{try{h&&!h.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}for(var I=0;I<this.outstandingPuts_.length;I++)this.outstandingPuts_[I]&&this.sendPut_(I);for(;this.onDisconnectRequestQueue_.length;){var T=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(T.action,T.pathString,T.data,T.onComplete)}},e.prototype.sendConnectStats_=function(){var n={},r="js";n["sdk."+r+"."+SA.replace(/\./g,"-")]=1,fE()?n["framework.cordova"]=1:VT()&&(n["framework.reactnative"]=1),this.reportStats(n)},e.prototype.shouldReconnect_=function(){var n=S1.getInstance().currentlyOnline();return m_(this.interruptReasons_)&&n},e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e}(AA);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var LO=function(t){we(e,t);function e(n,r,s){var a=t.call(this)||this;return a.repoInfo_=n,a.onDataUpdate_=r,a.authTokenProvider_=s,a.log_=Pg("p:rest:"),a.listens_={},a}return e.prototype.reportStats=function(n){throw new Error("Method not implemented.")},e.getListenId_=function(n,r){return r!==void 0?"tag$"+r:(ie(n.getQueryParams().isDefault(),"should have a tag if it's not a default query."),n.path.toString())},e.prototype.listen=function(n,r,s,a){var c=this,h=n.path.toString();this.log_("Listen called for "+h+" "+n.queryIdentifier());var d=e.getListenId_(n,s),g={};this.listens_[d]=g;var y=n.getQueryParams().toRestQueryStringParameters();this.restRequest_(h+".json",y,function(E,I){var T=I;if(E===404&&(T=null,E=null),E===null&&c.onDataUpdate_(h,T,!1,s),No(c.listens_,d)===g){var x;E?E===401?x="permission_denied":x="rest_error:"+E:x="ok",a(x,null)}})},e.prototype.unlisten=function(n,r){var s=e.getListenId_(n,r);delete this.listens_[s]},e.prototype.refreshAuthToken=function(n){},e.prototype.restRequest_=function(n,r,s){var a=this;r===void 0&&(r={}),r.format="export",this.authTokenProvider_.getToken(!1).then(function(c){var h=c&&c.accessToken;h&&(r.auth=h);var d=(a.repoInfo_.secure?"https://":"http://")+a.repoInfo_.host+n+"?ns="+a.repoInfo_.namespace+YN(r);a.log_("Sending REST request for "+d);var g=new XMLHttpRequest;g.onreadystatechange=function(){if(s&&g.readyState===4){a.log_("REST Response for "+d+" received. status:",g.status,"response:",g.responseText);var y=null;if(g.status>=200&&g.status<300){try{y=hg(g.responseText)}catch{vr("Failed to parse JSON response for "+d+": "+g.responseText)}s(null,y)}else g.status!==401&&g.status!==404&&vr("Got unsuccessful REST response for "+d+" Status: "+g.status),s(g.status);s=null}},g.open("GET",d,!0),g.send()})},e}(AA);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var P1="repo_interrupt",zn=function(){function t(e,n,r,s){var a=this;if(this.repoInfo_=e,this.app=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new rO,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=new kw,this.persistentConnection_=null,this.stats_=Pb.getCollection(e),n||fR())this.server_=new LO(this.repoInfo_,this.onDataUpdate_.bind(this),s),setTimeout(this.onConnectStatus_.bind(this,!0),0);else{var c=r.options.databaseAuthVariableOverride;if(typeof c<"u"&&c!==null){if(typeof c!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Wn(c)}catch(h){throw new Error("Invalid authOverride provided: "+h)}}this.persistentConnection_=new Gc(this.repoInfo_,r.options.appId,this.onDataUpdate_.bind(this),this.onConnectStatus_.bind(this),this.onServerInfoUpdate_.bind(this),s,c),this.server_=this.persistentConnection_}s.addTokenChangeListener(function(h){a.server_.refreshAuthToken(h)}),this.statsReporter_=Pb.getOrCreateReporter(e,function(){return new nO(a.stats_,a.server_)}),this.transactionsInit_(),this.infoData_=new JR,this.infoSyncTree_=new E1({startListening:function(h,d,g,y){var E=[],I=a.infoData_.getNode(h.path);return I.isEmpty()||(E=a.infoSyncTree_.applyServerOverwrite(h.path,I),setTimeout(function(){y("ok")},0)),E},stopListening:function(){}}),this.updateInfo_("connected",!1),this.serverSyncTree_=new E1({startListening:function(h,d,g,y){return a.server_.listen(h,g,d,function(E,I){var T=y(E,I);a.eventQueue_.raiseEventsForChangedPath(h.path,T)}),[]},stopListening:function(h,d){a.server_.unlisten(h,d)}})}return t.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},t.prototype.name=function(){return this.repoInfo_.namespace},t.prototype.serverTime=function(){var e=this.infoData_.getNode(new fe(".info/serverTimeOffset")),n=e.val()||0;return new Date().getTime()+n},t.prototype.generateServerValues=function(){return jR({timestamp:this.serverTime()})},t.prototype.onDataUpdate_=function(e,n,r,s){this.dataUpdateCount++;var a=new fe(e);n=this.interceptServerDataCallback_?this.interceptServerDataCallback_(e,n):n;var c=[];if(s)if(r){var h=Nb(n,function(I){return Zt(I)});c=this.serverSyncTree_.applyTaggedQueryMerge(a,h,s)}else{var d=Zt(n);c=this.serverSyncTree_.applyTaggedQueryOverwrite(a,d,s)}else if(r){var g=Nb(n,function(I){return Zt(I)});c=this.serverSyncTree_.applyServerMerge(a,g)}else{var y=Zt(n);c=this.serverSyncTree_.applyServerOverwrite(a,y)}var E=a;c.length>0&&(E=this.rerunTransactions_(a)),this.eventQueue_.raiseEventsForChangedPath(E,c)},t.prototype.interceptServerData_=function(e){this.interceptServerDataCallback_=e},t.prototype.onConnectStatus_=function(e){this.updateInfo_("connected",e),e===!1&&this.runOnDisconnectEvents_()},t.prototype.onServerInfoUpdate_=function(e){var n=this;Rn(e,function(r,s){n.updateInfo_(r,s)})},t.prototype.updateInfo_=function(e,n){var r=new fe("/.info/"+e),s=Zt(n);this.infoData_.updateSnapshot(r,s);var a=this.infoSyncTree_.applyServerOverwrite(r,s);this.eventQueue_.raiseEventsForChangedPath(r,a)},t.prototype.getNextWriteId_=function(){return this.nextWriteId_++},t.prototype.setWithPriority=function(e,n,r,s){var a=this;this.log_("set",{path:e.toString(),value:n,priority:r});var c=this.generateServerValues(),h=Zt(n,r),d=this.serverSyncTree_.calcCompleteEventCache(e),g=bE(h,d,c),y=this.getNextWriteId_(),E=this.serverSyncTree_.applyUserOverwrite(e,g,y,!0);this.eventQueue_.queueEvents(E),this.server_.put(e.toString(),h.val(!0),function(T,x){var A=T==="ok";A||vr("set at "+e+" failed: "+T);var N=a.serverSyncTree_.ackUserWrite(y,!A);a.eventQueue_.raiseEventsForChangedPath(e,N),a.callOnCompleteCallback(s,T,x)});var I=this.abortTransactions_(e);this.rerunTransactions_(I),this.eventQueue_.raiseEventsForChangedPath(I,[])},t.prototype.update=function(e,n,r){var s=this;this.log_("update",{path:e.toString(),value:n});var a=!0,c=this.generateServerValues(),h={};if(Rn(n,function(y,E){a=!1,h[y]=y1(e.child(y),Zt(E),s.serverSyncTree_,c)}),a)ir("update() called with empty data.  Don't do anything."),this.callOnCompleteCallback(r,"ok");else{var d=this.getNextWriteId_(),g=this.serverSyncTree_.applyUserMerge(e,h,d);this.eventQueue_.queueEvents(g),this.server_.merge(e.toString(),n,function(y,E){var I=y==="ok";I||vr("update at "+e+" failed: "+y);var T=s.serverSyncTree_.ackUserWrite(d,!I),x=T.length>0?s.rerunTransactions_(e):e;s.eventQueue_.raiseEventsForChangedPath(x,T),s.callOnCompleteCallback(r,y,E)}),Rn(n,function(y){var E=s.abortTransactions_(e.child(y));s.rerunTransactions_(E)}),this.eventQueue_.raiseEventsForChangedPath(e,[])}},t.prototype.runOnDisconnectEvents_=function(){var e=this;this.log_("onDisconnectEvents");var n=this.generateServerValues(),r=new kw;this.onDisconnect_.forEachTree(fe.Empty,function(a,c){var h=y1(a,c,e.serverSyncTree_,n);r.remember(a,h)});var s=[];r.forEachTree(fe.Empty,function(a,c){s=s.concat(e.serverSyncTree_.applyServerOverwrite(a,c));var h=e.abortTransactions_(a);e.rerunTransactions_(h)}),this.onDisconnect_=new kw,this.eventQueue_.raiseEventsForChangedPath(fe.Empty,s)},t.prototype.onDisconnectCancel=function(e,n){var r=this;this.server_.onDisconnectCancel(e.toString(),function(s,a){s==="ok"&&r.onDisconnect_.forget(e),r.callOnCompleteCallback(n,s,a)})},t.prototype.onDisconnectSet=function(e,n,r){var s=this,a=Zt(n);this.server_.onDisconnectPut(e.toString(),a.val(!0),function(c,h){c==="ok"&&s.onDisconnect_.remember(e,a),s.callOnCompleteCallback(r,c,h)})},t.prototype.onDisconnectSetWithPriority=function(e,n,r,s){var a=this,c=Zt(n,r);this.server_.onDisconnectPut(e.toString(),c.val(!0),function(h,d){h==="ok"&&a.onDisconnect_.remember(e,c),a.callOnCompleteCallback(s,h,d)})},t.prototype.onDisconnectUpdate=function(e,n,r){var s=this;if(m_(n)){ir("onDisconnect().update() called with empty data.  Don't do anything."),this.callOnCompleteCallback(r,"ok");return}this.server_.onDisconnectMerge(e.toString(),n,function(a,c){a==="ok"&&Rn(n,function(h,d){var g=Zt(d);s.onDisconnect_.remember(e.child(h),g)}),s.callOnCompleteCallback(r,a,c)})},t.prototype.addEventCallbackForQuery=function(e,n){var r;e.path.getFront()===".info"?r=this.infoSyncTree_.addEventRegistration(e,n):r=this.serverSyncTree_.addEventRegistration(e,n),this.eventQueue_.raiseEventsAtPath(e.path,r)},t.prototype.removeEventCallbackForQuery=function(e,n){var r;e.path.getFront()===".info"?r=this.infoSyncTree_.removeEventRegistration(e,n):r=this.serverSyncTree_.removeEventRegistration(e,n),this.eventQueue_.raiseEventsAtPath(e.path,r)},t.prototype.interrupt=function(){this.persistentConnection_&&this.persistentConnection_.interrupt(P1)},t.prototype.resume=function(){this.persistentConnection_&&this.persistentConnection_.resume(P1)},t.prototype.stats=function(e){if(e===void 0&&(e=!1),!(typeof console>"u")){var n;e?(this.statsListener_||(this.statsListener_=new mA(this.stats_)),n=this.statsListener_.get()):n=this.stats_.get();var r=Object.keys(n).reduce(function(s,a){return Math.max(a.length,s)},0);Rn(n,function(s,a){for(var c=s,h=s.length;h<r+2;h++)c+=" ";console.log(c+a)})}},t.prototype.statsIncrementCounter=function(e){this.stats_.incrementCounter(e),this.statsReporter_.includeStat(e)},t.prototype.log_=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r="";this.persistentConnection_&&(r=this.persistentConnection_.id+":"),ir.apply(void 0,Ca([r],e))},t.prototype.callOnCompleteCallback=function(e,n,r){e&&Bp(function(){if(n==="ok")e(null);else{var s=(n||"error").toUpperCase(),a=s;r&&(a+=": "+r);var c=new Error(a);c.code=s,e(c)}})},Object.defineProperty(t.prototype,"database",{get:function(){return this.__database||(this.__database=new SE(this))},enumerable:!1,configurable:!0}),t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var CA=function(){function t(e){this.indexedFilter_=new _E(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e)}return t.prototype.getStartPost=function(){return this.startPost_},t.prototype.getEndPost=function(){return this.endPost_},t.prototype.matches=function(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0},t.prototype.updateChild=function(e,n,r,s,a,c){return this.matches(new tt(n,r))||(r=Me.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,s,a,c)},t.prototype.updateFullNode=function(e,n,r){n.isLeafNode()&&(n=Me.EMPTY_NODE);var s=n.withIndex(this.index_);s=s.updatePriority(Me.EMPTY_NODE);var a=this;return n.forEachChild(bt,function(c,h){a.matches(new tt(c,h))||(s=s.updateImmediateChild(c,Me.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,s,r)},t.prototype.updatePriority=function(e,n){return e},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.indexedFilter_},t.prototype.getIndex=function(){return this.index_},t.getStartPost_=function(e){if(e.hasStart()){var n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()},t.getEndPost_=function(e){if(e.hasEnd()){var n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var MO=function(){function t(e){this.rangedFilter_=new CA(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}return t.prototype.updateChild=function(e,n,r,s,a,c){return this.rangedFilter_.matches(new tt(n,r))||(r=Me.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,s,a,c):this.fullLimitUpdateChild_(e,n,r,a,c)},t.prototype.updateFullNode=function(e,n,r){var s;if(n.isLeafNode()||n.isEmpty())s=Me.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){s=Me.EMPTY_NODE.withIndex(this.index_);var a=void 0;this.reverse_?a=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):a=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var c=0;a.hasNext()&&c<this.limit_;){var h=a.getNext(),d=void 0;if(this.reverse_?d=this.index_.compare(this.rangedFilter_.getStartPost(),h)<=0:d=this.index_.compare(h,this.rangedFilter_.getEndPost())<=0,d)s=s.updateImmediateChild(h.name,h.node),c++;else break}}else{s=n.withIndex(this.index_),s=s.updatePriority(Me.EMPTY_NODE);var g=void 0,y=void 0,E=void 0,a=void 0;if(this.reverse_){a=s.getReverseIterator(this.index_),g=this.rangedFilter_.getEndPost(),y=this.rangedFilter_.getStartPost();var I=this.index_.getCompare();E=function(N,D){return I(D,N)}}else a=s.getIterator(this.index_),g=this.rangedFilter_.getStartPost(),y=this.rangedFilter_.getEndPost(),E=this.index_.getCompare();for(var c=0,T=!1;a.hasNext();){var h=a.getNext();!T&&E(g,h)<=0&&(T=!0);var d=T&&c<this.limit_&&E(h,y)<=0;d?c++:s=s.updateImmediateChild(h.name,Me.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,s,r)},t.prototype.updatePriority=function(e,n){return e},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},t.prototype.getIndex=function(){return this.index_},t.prototype.fullLimitUpdateChild_=function(e,n,r,s,a){var c;if(this.reverse_){var h=this.index_.getCompare();c=function(L,H){return h(H,L)}}else c=this.index_.getCompare();var d=e;ie(d.numChildren()===this.limit_,"");var g=new tt(n,r),y=this.reverse_?d.getFirstChild(this.index_):d.getLastChild(this.index_),E=this.rangedFilter_.matches(g);if(d.hasChild(n)){for(var I=d.getImmediateChild(n),T=s.getChildAfterChild(this.index_,y,this.reverse_);T!=null&&(T.name===n||d.hasChild(T.name));)T=s.getChildAfterChild(this.index_,T,this.reverse_);var x=T==null?1:c(T,g),A=E&&!r.isEmpty()&&x>=0;if(A)return a!=null&&a.trackChildChange(Ye.childChangedChange(n,r,I)),d.updateImmediateChild(n,r);a!=null&&a.trackChildChange(Ye.childRemovedChange(n,I));var N=d.updateImmediateChild(n,Me.EMPTY_NODE),D=T!=null&&this.rangedFilter_.matches(T);return D?(a!=null&&a.trackChildChange(Ye.childAddedChange(T.name,T.node)),N.updateImmediateChild(T.name,T.node)):N}else return r.isEmpty()?e:E&&c(y,g)>=0?(a!=null&&(a.trackChildChange(Ye.childRemovedChange(y.name,y.node)),a.trackChildChange(Ye.childAddedChange(n,r))),d.updateImmediateChild(n,r).updateImmediateChild(y.name,Me.EMPTY_NODE)):e},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var FO=function(){function t(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=bt}return t.prototype.hasStart=function(){return this.startSet_},t.prototype.isViewFromLeft=function(){return this.viewFrom_===""?this.startSet_:this.viewFrom_===t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT},t.prototype.getIndexStartValue=function(){return ie(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},t.prototype.getIndexStartName=function(){return ie(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Kc},t.prototype.hasEnd=function(){return this.endSet_},t.prototype.getIndexEndValue=function(){return ie(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},t.prototype.getIndexEndName=function(){return ie(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ol},t.prototype.hasLimit=function(){return this.limitSet_},t.prototype.hasAnchoredLimit=function(){return this.limitSet_&&this.viewFrom_!==""},t.prototype.getLimit=function(){return ie(this.limitSet_,"Only valid if limit has been set"),this.limit_},t.prototype.getIndex=function(){return this.index_},t.prototype.copy_=function(){var e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e},t.prototype.limit=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="",n},t.prototype.limitToFirst=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT,n},t.prototype.limitToLast=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_RIGHT,n},t.prototype.startAt=function(e,n){var r=this.copy_();return r.startSet_=!0,e===void 0&&(e=null),r.indexStartValue_=e,n!=null?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r},t.prototype.endAt=function(e,n){var r=this.copy_();return r.endSet_=!0,e===void 0&&(e=null),r.indexEndValue_=e,n!==void 0?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r},t.prototype.orderBy=function(e){var n=this.copy_();return n.index_=e,n},t.prototype.getQueryObject=function(){var e=t.WIRE_PROTOCOL_CONSTANTS_,n={};if(this.startSet_&&(n[e.INDEX_START_VALUE]=this.indexStartValue_,this.startNameSet_&&(n[e.INDEX_START_NAME]=this.indexStartName_)),this.endSet_&&(n[e.INDEX_END_VALUE]=this.indexEndValue_,this.endNameSet_&&(n[e.INDEX_END_NAME]=this.indexEndName_)),this.limitSet_){n[e.LIMIT]=this.limit_;var r=this.viewFrom_;r===""&&(this.isViewFromLeft()?r=e.VIEW_FROM_LEFT:r=e.VIEW_FROM_RIGHT),n[e.VIEW_FROM]=r}return this.index_!==bt&&(n[e.INDEX]=this.index_.toString()),n},t.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},t.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===bt},t.prototype.getNodeFilter=function(){return this.loadsAllData()?new _E(this.getIndex()):this.hasLimit()?new MO(this):new CA(this)},t.prototype.toRestQueryStringParameters=function(){var e=t.REST_QUERY_CONSTANTS_,n={};if(this.isDefault())return n;var r;return this.index_===bt?r=e.PRIORITY_INDEX:this.index_===S_?r=e.VALUE_INDEX:this.index_===nl?r=e.KEY_INDEX:(ie(this.index_ instanceof T_,"Unrecognized index type!"),r=this.index_.toString()),n[e.ORDER_BY]=Wn(r),this.startSet_&&(n[e.START_AT]=Wn(this.indexStartValue_),this.startNameSet_&&(n[e.START_AT]+=","+Wn(this.indexStartName_))),this.endSet_&&(n[e.END_AT]=Wn(this.indexEndValue_),this.endNameSet_&&(n[e.END_AT]+=","+Wn(this.indexEndName_))),this.limitSet_&&(this.isViewFromLeft()?n[e.LIMIT_TO_FIRST]=this.limit_:n[e.LIMIT_TO_LAST]=this.limit_),n},t.WIRE_PROTOCOL_CONSTANTS_={INDEX_START_VALUE:"sp",INDEX_START_NAME:"sn",INDEX_END_VALUE:"ep",INDEX_END_NAME:"en",LIMIT:"l",VIEW_FROM:"vf",VIEW_FROM_LEFT:"l",VIEW_FROM_RIGHT:"r",INDEX:"i"},t.REST_QUERY_CONSTANTS_={ORDER_BY:"orderBy",PRIORITY_INDEX:"$priority",VALUE_INDEX:"$value",KEY_INDEX:"$key",START_AT:"startAt",END_AT:"endAt",LIMIT_TO_FIRST:"limitToFirst",LIMIT_TO_LAST:"limitToLast"},t.DEFAULT=new t,t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ea=function(t){we(e,t);function e(n,r){var s=this;if(!(n instanceof zn))throw new Error("new Reference() no longer supported - use app.database().");return s=t.call(this,n,r,FO.DEFAULT,!1)||this,s}return e.prototype.getKey=function(){return Re("Reference.key",0,0,arguments.length),this.path.isEmpty()?null:this.path.getBack()},e.prototype.child=function(n){return Re("Reference.child",1,1,arguments.length),typeof n=="number"?n=String(n):n instanceof fe||(this.path.getFront()===null?_R("Reference.child",1,n,!1):dg("Reference.child",1,n,!1)),new e(this.repo,this.path.child(n))},e.prototype.getParent=function(){Re("Reference.parent",0,0,arguments.length);var n=this.path.parent();return n===null?null:new e(this.repo,n)},e.prototype.getRoot=function(){Re("Reference.root",0,0,arguments.length);for(var n=this;n.getParent()!==null;)n=n.getParent();return n},e.prototype.databaseProp=function(){return this.repo.database},e.prototype.set=function(n,r){Re("Reference.set",1,2,arguments.length),Ui("Reference.set",this.path),tl("Reference.set",1,n,this.path,!1),Gn("Reference.set",2,r,!0);var s=new ko;return this.repo.setWithPriority(this.path,n,null,s.wrapCallback(r)),s.promise},e.prototype.update=function(n,r){if(Re("Reference.update",1,2,arguments.length),Ui("Reference.update",this.path),Array.isArray(n)){for(var s={},a=0;a<n.length;++a)s[""+a]=n[a];n=s,vr("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}oA("Reference.update",1,n,this.path,!1),Gn("Reference.update",2,r,!0);var c=new ko;return this.repo.update(this.path,n,c.wrapCallback(r)),c.promise},e.prototype.setWithPriority=function(n,r,s){if(Re("Reference.setWithPriority",2,3,arguments.length),Ui("Reference.setWithPriority",this.path),tl("Reference.setWithPriority",1,n,this.path,!1),E_("Reference.setWithPriority",2,r,!1),Gn("Reference.setWithPriority",3,s,!0),this.getKey()===".length"||this.getKey()===".keys")throw"Reference.setWithPriority failed: "+this.getKey()+" is a read-only object.";var a=new ko;return this.repo.setWithPriority(this.path,n,r,a.wrapCallback(s)),a.promise},e.prototype.remove=function(n){return Re("Reference.remove",0,1,arguments.length),Ui("Reference.remove",this.path),Gn("Reference.remove",1,n,!0),this.set(null,n)},e.prototype.transaction=function(n,r,s){if(Re("Reference.transaction",1,3,arguments.length),Ui("Reference.transaction",this.path),Gn("Reference.transaction",1,n,!1),Gn("Reference.transaction",2,r,!0),ER("Reference.transaction",3,s,!0),this.getKey()===".length"||this.getKey()===".keys")throw"Reference.transaction failed: "+this.getKey()+" is a read-only object.";s===void 0&&(s=!0);var a=new ko;typeof r=="function"&&a.promise.catch(function(){});var c=function(h,d,g){h?a.reject(h):a.resolve(new SR(d,g)),typeof r=="function"&&r(h,d,g)};return this.repo.startTransaction(this.path,n,c,s),a.promise},e.prototype.setPriority=function(n,r){Re("Reference.setPriority",1,2,arguments.length),Ui("Reference.setPriority",this.path),E_("Reference.setPriority",1,n,!1),Gn("Reference.setPriority",2,r,!0);var s=new ko;return this.repo.setWithPriority(this.path.child(".priority"),n,null,s.wrapCallback(r)),s.promise},e.prototype.push=function(n,r){Re("Reference.push",0,2,arguments.length),Ui("Reference.push",this.path),tl("Reference.push",1,n,this.path,!0),Gn("Reference.push",2,r,!0);var s=this.repo.serverTime(),a=TR(s),c=this.child(a),h=this.child(a),d;return n!=null?d=c.set(n,r).then(function(){return h}):d=Promise.resolve(h),c.then=d.then.bind(d),c.catch=d.then.bind(d,void 0),typeof r=="function"&&d.catch(function(){}),c},e.prototype.onDisconnect=function(){return Ui("Reference.onDisconnect",this.path),new IR(this.repo,this.path)},Object.defineProperty(e.prototype,"database",{get:function(){return this.databaseProp()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),e}(yE);yE.__referenceConstructor=Ea;vA.__referenceConstructor=Ea;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var D1=function(){function t(){this.children={},this.childCount=0,this.value=null}return t}(),UO=function(){function t(e,n,r){e===void 0&&(e=""),n===void 0&&(n=null),r===void 0&&(r=new D1),this.name_=e,this.parent_=n,this.node_=r}return t.prototype.subTree=function(e){for(var n=e instanceof fe?e:new fe(e),r=this,s=n.getFront();s!==null;){var a=No(r.node_.children,s)||new D1;r=new t(s,r,a),n=n.popFront(),s=n.getFront()}return r},t.prototype.getValue=function(){return this.node_.value},t.prototype.setValue=function(e){ie(typeof e<"u","Cannot set value to undefined"),this.node_.value=e,this.updateParents_()},t.prototype.clear=function(){this.node_.value=null,this.node_.children={},this.node_.childCount=0,this.updateParents_()},t.prototype.hasChildren=function(){return this.node_.childCount>0},t.prototype.isEmpty=function(){return this.getValue()===null&&!this.hasChildren()},t.prototype.forEachChild=function(e){var n=this;Rn(this.node_.children,function(r,s){e(new t(r,n,s))})},t.prototype.forEachDescendant=function(e,n,r){n&&!r&&e(this),this.forEachChild(function(s){s.forEachDescendant(e,!0,r)}),n&&r&&e(this)},t.prototype.forEachAncestor=function(e,n){for(var r=n?this:this.parent();r!==null;){if(e(r))return!0;r=r.parent()}return!1},t.prototype.forEachImmediateDescendantWithValue=function(e){this.forEachChild(function(n){n.getValue()!==null?e(n):n.forEachImmediateDescendantWithValue(e)})},t.prototype.path=function(){return new fe(this.parent_===null?this.name_:this.parent_.path()+"/"+this.name_)},t.prototype.name=function(){return this.name_},t.prototype.parent=function(){return this.parent_},t.prototype.updateParents_=function(){this.parent_!==null&&this.parent_.updateChild_(this.name_,this)},t.prototype.updateChild_=function(e,n){var r=n.isEmpty(),s=Hi(this.node_.children,e);r&&s?(delete this.node_.children[e],this.node_.childCount--,this.updateParents_()):!r&&!s&&(this.node_.children[e]=n.node_,this.node_.childCount++,this.updateParents_())},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wn;(function(t){t[t.RUN=0]="RUN",t[t.SENT=1]="SENT",t[t.COMPLETED=2]="COMPLETED",t[t.SENT_NEEDS_ABORT=3]="SENT_NEEDS_ABORT",t[t.NEEDS_ABORT=4]="NEEDS_ABORT"})(wn||(wn={}));zn.MAX_TRANSACTION_RETRIES_=25;zn.prototype.transactionsInit_=function(){this.transactionQueueTree_=new UO};zn.prototype.startTransaction=function(t,e,n,r){this.log_("transaction on "+t);var s=function(){},a=new Ea(this,t);a.on("value",s);var c=function(){a.off("value",s)},h={path:t,update:e,onComplete:n,status:null,order:WT(),applyLocally:r,retryCount:0,unwatcher:c,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},d=this.getLatestState_(t);h.currentInputSnapshot=d;var g=h.update(d.val());if(g===void 0){if(h.unwatcher(),h.currentOutputSnapshotRaw=null,h.currentOutputSnapshotResolved=null,h.onComplete){var y=new qp(h.currentInputSnapshot,new Ea(this,h.path),bt);h.onComplete(null,!1,y)}}else{Dg("transaction failed: Data returned ",g,h.path),h.status=wn.RUN;var E=this.transactionQueueTree_.subTree(t),I=E.getValue()||[];I.push(h),E.setValue(I);var T=void 0;if(typeof g=="object"&&g!==null&&Hi(g,".priority"))T=No(g,".priority"),ie(pg(T),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.");else{var x=this.serverSyncTree_.calcCompleteEventCache(t)||Me.EMPTY_NODE;T=x.getPriority().val()}T=T;var A=this.generateServerValues(),N=Zt(g,T),D=bE(N,d,A);h.currentOutputSnapshotRaw=N,h.currentOutputSnapshotResolved=D,h.currentWriteId=this.getNextWriteId_();var L=this.serverSyncTree_.applyUserOverwrite(t,D,h.currentWriteId,h.applyLocally);this.eventQueue_.raiseEventsForChangedPath(t,L),this.sendReadyTransactions_()}};zn.prototype.getLatestState_=function(t,e){return this.serverSyncTree_.calcCompleteEventCache(t,e)||Me.EMPTY_NODE};zn.prototype.sendReadyTransactions_=function(t){var e=this;if(t===void 0&&(t=this.transactionQueueTree_),t||this.pruneCompletedTransactionsBelowNode_(t),t.getValue()!==null){var n=this.buildTransactionQueue_(t);ie(n.length>0,"Sending zero length transaction queue");var r=n.every(function(s){return s.status===wn.RUN});r&&this.sendTransactionQueue_(t.path(),n)}else t.hasChildren()&&t.forEachChild(function(s){e.sendReadyTransactions_(s)})};zn.prototype.sendTransactionQueue_=function(t,e){for(var n=this,r=e.map(function(I){return I.currentWriteId}),s=this.getLatestState_(t,r),a=s,c=s.hash(),h=0;h<e.length;h++){var d=e[h];ie(d.status===wn.RUN,"tryToSendTransactionQueue_: items in queue should all be run."),d.status=wn.SENT,d.retryCount++;var g=fe.relativePath(t,d.path);a=a.updateChild(g,d.currentOutputSnapshotRaw)}var y=a.val(!0),E=t;this.server_.put(E.toString(),y,function(I){n.log_("transaction put response",{path:E.toString(),status:I});var T=[];if(I==="ok"){for(var x=[],A=0;A<e.length;A++){if(e[A].status=wn.COMPLETED,T=T.concat(n.serverSyncTree_.ackUserWrite(e[A].currentWriteId)),e[A].onComplete){var N=e[A].currentOutputSnapshotResolved,D=new Ea(n,e[A].path),L=new qp(N,D,bt);x.push(e[A].onComplete.bind(null,null,!0,L))}e[A].unwatcher()}n.pruneCompletedTransactionsBelowNode_(n.transactionQueueTree_.subTree(t)),n.sendReadyTransactions_(),n.eventQueue_.raiseEventsForChangedPath(t,T);for(var A=0;A<x.length;A++)Bp(x[A])}else{if(I==="datastale")for(var A=0;A<e.length;A++)e[A].status===wn.SENT_NEEDS_ABORT?e[A].status=wn.NEEDS_ABORT:e[A].status=wn.RUN;else{vr("transaction at "+E.toString()+" failed: "+I);for(var A=0;A<e.length;A++)e[A].status=wn.NEEDS_ABORT,e[A].abortReason=I}n.rerunTransactions_(t)}},c)};zn.prototype.rerunTransactions_=function(t){var e=this.getAncestorTransactionNode_(t),n=e.path(),r=this.buildTransactionQueue_(e);return this.rerunTransactionQueue_(r,n),n};zn.prototype.rerunTransactionQueue_=function(t,e){if(t.length!==0){for(var n=[],r=[],s=t.filter(function(z){return z.status===wn.RUN}),a=s.map(function(z){return z.currentWriteId}),c=0;c<t.length;c++){var h=t[c],d=fe.relativePath(e,h.path),g=!1,y=void 0;if(ie(d!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),h.status===wn.NEEDS_ABORT)g=!0,y=h.abortReason,r=r.concat(this.serverSyncTree_.ackUserWrite(h.currentWriteId,!0));else if(h.status===wn.RUN)if(h.retryCount>=zn.MAX_TRANSACTION_RETRIES_)g=!0,y="maxretry",r=r.concat(this.serverSyncTree_.ackUserWrite(h.currentWriteId,!0));else{var E=this.getLatestState_(h.path,a);h.currentInputSnapshot=E;var I=t[c].update(E.val());if(I!==void 0){Dg("transaction failed: Data returned ",I,h.path);var T=Zt(I),x=typeof I=="object"&&I!=null&&Hi(I,".priority");x||(T=T.updatePriority(E.getPriority()));var A=h.currentWriteId,N=this.generateServerValues(),D=bE(T,E,N);h.currentOutputSnapshotRaw=T,h.currentOutputSnapshotResolved=D,h.currentWriteId=this.getNextWriteId_(),a.splice(a.indexOf(A),1),r=r.concat(this.serverSyncTree_.applyUserOverwrite(h.path,D,h.currentWriteId,h.applyLocally)),r=r.concat(this.serverSyncTree_.ackUserWrite(A,!0))}else g=!0,y="nodata",r=r.concat(this.serverSyncTree_.ackUserWrite(h.currentWriteId,!0))}if(this.eventQueue_.raiseEventsForChangedPath(e,r),r=[],g&&(t[c].status=wn.COMPLETED,function(z){setTimeout(z,Math.floor(0))}(t[c].unwatcher),t[c].onComplete))if(y==="nodata"){var L=new Ea(this,t[c].path),H=t[c].currentInputSnapshot,X=new qp(H,L,bt);n.push(t[c].onComplete.bind(null,null,!1,X))}else n.push(t[c].onComplete.bind(null,new Error(y),!1,null))}this.pruneCompletedTransactionsBelowNode_(this.transactionQueueTree_);for(var c=0;c<n.length;c++)Bp(n[c]);this.sendReadyTransactions_()}};zn.prototype.getAncestorTransactionNode_=function(t){var e,n=this.transactionQueueTree_;for(e=t.getFront();e!==null&&n.getValue()===null;)n=n.subTree(e),t=t.popFront(),e=t.getFront();return n};zn.prototype.buildTransactionQueue_=function(t){var e=[];return this.aggregateTransactionQueuesForNode_(t,e),e.sort(function(n,r){return n.order-r.order}),e};zn.prototype.aggregateTransactionQueuesForNode_=function(t,e){var n=this,r=t.getValue();if(r!==null)for(var s=0;s<r.length;s++)e.push(r[s]);t.forEachChild(function(a){n.aggregateTransactionQueuesForNode_(a,e)})};zn.prototype.pruneCompletedTransactionsBelowNode_=function(t){var e=this,n=t.getValue();if(n){for(var r=0,s=0;s<n.length;s++)n[s].status!==wn.COMPLETED&&(n[r]=n[s],r++);n.length=r,t.setValue(n.length>0?n:null)}t.forEachChild(function(a){e.pruneCompletedTransactionsBelowNode_(a)})};zn.prototype.abortTransactions_=function(t){var e=this,n=this.getAncestorTransactionNode_(t).path(),r=this.transactionQueueTree_.subTree(t);return r.forEachAncestor(function(s){e.abortTransactionsOnNode_(s)}),this.abortTransactionsOnNode_(r),r.forEachDescendant(function(s){e.abortTransactionsOnNode_(s)}),n};zn.prototype.abortTransactionsOnNode_=function(t){var e=t.getValue();if(e!==null){for(var n=[],r=[],s=-1,a=0;a<e.length;a++)if(e[a].status!==wn.SENT_NEEDS_ABORT){if(e[a].status===wn.SENT)ie(s===a-1,"All SENT items should be at beginning of queue."),s=a,e[a].status=wn.SENT_NEEDS_ABORT,e[a].abortReason="set";else if(ie(e[a].status===wn.RUN,"Unexpected transaction status in abort"),e[a].unwatcher(),r=r.concat(this.serverSyncTree_.ackUserWrite(e[a].currentWriteId,!0)),e[a].onComplete){var c=null;n.push(e[a].onComplete.bind(null,new Error("set"),!1,c))}}s===-1?t.setValue(null):e.length=s+1,this.eventQueue_.raiseEventsForChangedPath(t.path(),r);for(var a=0;a<n.length;a++)Bp(n[a])}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jO=function(){function t(e,n){var r=this;this.app_=e,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.get().then(function(s){return r.auth_=s})}return t.prototype.getToken=function(e){return this.auth_?this.auth_.getToken(e).catch(function(n){return n&&n.code==="auth/token-not-initialized"?(ir("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)}):Promise.resolve(null)},t.prototype.addTokenChangeListener=function(e){this.auth_?this.auth_.addAuthTokenListener(e):(setTimeout(function(){return e(null)},0),this.authProvider_.get().then(function(n){return n.addAuthTokenListener(e)}))},t.prototype.removeTokenChangeListener=function(e){this.authProvider_.get().then(function(n){return n.removeAuthTokenListener(e)})},t.prototype.notifyForInvalidToken=function(){var e='Provided authentication credentials for the app named "'+this.app_.name+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.app_.options?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.app_.options?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',vr(e)},t}(),VO=function(){function t(){}return t.prototype.getToken=function(e){return Promise.resolve({accessToken:t.EMULATOR_AUTH_TOKEN})},t.prototype.addTokenChangeListener=function(e){e(t.EMULATOR_AUTH_TOKEN)},t.prototype.removeTokenChangeListener=function(e){},t.prototype.notifyForInvalidToken=function(){},t.EMULATOR_AUTH_TOKEN="owner",t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var BO="FIREBASE_DATABASE_EMULATOR_HOST",Pw,IE=function(){function t(){this.repos_={},this.useRestClient_=!1}return t.getInstance=function(){return Pw||(Pw=new t),Pw},t.prototype.interrupt=function(){var e,n,r,s;try{for(var a=un(Object.keys(this.repos_)),c=a.next();!c.done;c=a.next()){var h=c.value;try{for(var d=(r=void 0,un(Object.keys(this.repos_[h]))),g=d.next();!g.done;g=d.next()){var y=g.value;this.repos_[h][y].interrupt()}}catch(E){r={error:E}}finally{try{g&&!g.done&&(s=d.return)&&s.call(d)}finally{if(r)throw r.error}}}}catch(E){e={error:E}}finally{try{c&&!c.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}},t.prototype.resume=function(){var e,n,r,s;try{for(var a=un(Object.keys(this.repos_)),c=a.next();!c.done;c=a.next()){var h=c.value;try{for(var d=(r=void 0,un(Object.keys(this.repos_[h]))),g=d.next();!g.done;g=d.next()){var y=g.value;this.repos_[h][y].resume()}}catch(E){r={error:E}}finally{try{g&&!g.done&&(s=d.return)&&s.call(d)}finally{if(r)throw r.error}}}}catch(E){e={error:E}}finally{try{c&&!c.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}},t.prototype.databaseFromApp=function(e,n,r,s){var a=r||e.options.databaseURL;a===void 0&&(e.options.projectId||ga("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ir("Using default host for project ",e.options.projectId),a=e.options.projectId+"-default-rtdb.firebaseio.com");var c=__(a,s),h=c.repoInfo,d,g=void 0;typeof process<"u"&&(g=tR[BO]),g?(d=!0,a="http://"+g+"?ns="+h.namespace,c=__(a,s),h=c.repoInfo):d=!c.repoInfo.secure;var y=s&&d?new VO:new jO(e,n);sA("Invalid Firebase Database URL",1,c),c.path.isEmpty()||ga("Database URL must point to the root of a Firebase Database (not including a child path).");var E=this.createRepo(h,e,y);return E.database},t.prototype.deleteRepo=function(e){var n=No(this.repos_,e.app.name);(!n||No(n,e.repoInfo_.toURLString())!==e)&&ga("Database "+e.app.name+"("+e.repoInfo_+") has already been deleted."),e.interrupt(),delete n[e.repoInfo_.toURLString()]},t.prototype.createRepo=function(e,n,r){var s=No(this.repos_,n.name);s||(s={},this.repos_[n.name]=s);var a=No(s,e.toURLString());return a&&ga("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),a=new zn(e,this.useRestClient_,n,r),s[e.toURLString()]=a,a},t.prototype.forceRestClient=function(e){this.useRestClient_=e},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var SE=function(){function t(e){this.repo_=e,e instanceof zn||ga("Don't call new Database() directly - please use firebase.database()."),this.root_=new Ea(e,fe.Empty),this.INTERNAL=new qO(this)}return Object.defineProperty(t.prototype,"app",{get:function(){return this.repo_.app},enumerable:!1,configurable:!0}),t.prototype.ref=function(e){return this.checkDeleted_("ref"),Re("database.ref",0,1,arguments.length),e instanceof Ea?this.refFromURL(e.toString()):e!==void 0?this.root_.child(e):this.root_},t.prototype.refFromURL=function(e){var n="database.refFromURL";this.checkDeleted_(n),Re(n,1,1,arguments.length);var r=__(e,this.repo_.repoInfo_.nodeAdmin);sA(n,1,r);var s=r.repoInfo;return s.host!==this.repo_.repoInfo_.host&&ga(n+": Host name does not match the current database: (found "+s.host+" but expected "+this.repo_.repoInfo_.host+")"),this.ref(r.path.toString())},t.prototype.checkDeleted_=function(e){this.repo_===null&&ga("Cannot call "+e+" on a deleted database.")},t.prototype.goOffline=function(){Re("database.goOffline",0,0,arguments.length),this.checkDeleted_("goOffline"),this.repo_.interrupt()},t.prototype.goOnline=function(){Re("database.goOnline",0,0,arguments.length),this.checkDeleted_("goOnline"),this.repo_.resume()},t.ServerValue={TIMESTAMP:{".sv":"timestamp"},increment:function(e){return{".sv":{increment:e}}}},t}(),qO=function(){function t(e){this.database=e}return t.prototype.delete=function(){return B(this,void 0,void 0,function(){return j(this,function(e){return this.database.checkDeleted_("delete"),IE.getInstance().deleteRepo(this.database.repo_),this.database.repo_=null,this.database.root_=null,this.database.INTERNAL=null,this.database=null,[2]})})},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var GO=function(){Fc.forceDisallow(),EE.forceAllow()},WO=function(){EE.forceDisallow()},HO=function(){return Fc.isAvailable()},zO=function(t,e){t.repo.persistentConnection_.securityDebugCallback_=e},KO=function(t,e){t.repo.stats(e)},YO=function(t,e){t.repo.statsIncrementCounter(e)},XO=function(t){return t.repo.dataUpdateCount},$O=function(t,e){return t.repo.interceptServerData_(e)},QO=Object.freeze({__proto__:null,forceLongPolling:GO,forceWebSockets:WO,isWebSocketsAvailable:HO,setSecurityDebugCallback:zO,stats:KO,statsIncrementCounter:YO,dataUpdateCount:XO,interceptServerData:$O});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var JO=Gc;Gc.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Gc.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};var ZO=TA,eP=function(t){var e=Gc.prototype.put;return Gc.prototype.put=function(n,r,s,a){a!==void 0&&(a=t()),e.call(this,n,r,s,a)},function(){Gc.prototype.put=e}},tP=rA,nP=function(t){return t.queryIdentifier()},rP=function(t){IE.getInstance().forceRestClient(t)},iP=Object.freeze({__proto__:null,DataConnection:JO,RealTimeConnection:ZO,hijackHash:eP,ConnectionTarget:tP,queryIdentifier:nP,forceRestClient:rP}),oP="@firebase/database",sP="0.6.13";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var aP=SE.ServerValue;function uP(t){bO(t.SDK_VERSION),t.INTERNAL.registerComponent(new ms("database",function(e,n){var r=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal");return IE.getInstance().databaseFromApp(r,s,n)},"PUBLIC").setServiceProps({Reference:Ea,Query:yE,Database:SE,DataSnapshot:qp,enableLogging:zT,INTERNAL:QO,ServerValue:aP,TEST_ACCESS:iP}).setMultipleInstances(!0)),t.registerVersion(oP,sP)}uP(Z);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var A_=function(t,e){return A_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])},A_(t,e)};function lP(t,e){A_(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function kA(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var cP=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ge,TE=TE||{},je=cP||self;function Lb(){}function b0(t){var e=typeof t;return e!="object"?e:t?Array.isArray(t)?"array":e:"null"}function C_(t){var e=b0(t);return e=="array"||e=="object"&&typeof t.length=="number"}function Mg(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function fP(t,e,n){return t.call.apply(t.bind,arguments)}function hP(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,r),t.apply(e,s)}}return function(){return t.apply(e,arguments)}}function gr(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?gr=fP:gr=hP,gr.apply(null,arguments)}function ub(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}var _s=Date.now;function Lr(t,e){function n(){}n.prototype=e.prototype,t.S=e.prototype,t.prototype=new n,t.prototype.constructor=t}function hl(){this.j=this.j,this.i=this.i}var pP=0;hl.prototype.j=!1;hl.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),pP!=0)};hl.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var xA=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},NA=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,s=typeof t=="string"?t.split(""):t,a=0;a<r;a++)a in s&&e.call(n,s[a],a,t)};function dP(t){e:{for(var e=rD,n=t.length,r=typeof t=="string"?t.split(""):t,s=0;s<n;s++)if(s in r&&e.call(void 0,r[s],s,t)){e=s;break e}e=-1}return 0>e?null:typeof t=="string"?t.charAt(e):t[e]}function L1(t){return Array.prototype.concat.apply([],arguments)}function AE(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function Mb(t){return/^[\s\xa0]*$/.test(t)}var M1=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Or(t,e){return t.indexOf(e)!=-1}function Dw(t,e){return t<e?-1:t>e?1:0}var Pr;e:{var F1=je.navigator;if(F1){var U1=F1.userAgent;if(U1){Pr=U1;break e}}Pr=""}function CE(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function RA(t){var e={};for(var n in t)e[n]=t[n];return e}var j1="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function OA(t,e){for(var n,r,s=1;s<arguments.length;s++){r=arguments[s];for(n in r)t[n]=r[n];for(var a=0;a<j1.length;a++)n=j1[a],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function kE(t){return kE[" "](t),t}kE[" "]=Lb;function vP(t,e){var n=yP;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var gP=Or(Pr,"Opera"),sl=Or(Pr,"Trident")||Or(Pr,"MSIE"),PA=Or(Pr,"Edge"),k_=PA||sl,DA=Or(Pr,"Gecko")&&!(Or(Pr.toLowerCase(),"webkit")&&!Or(Pr,"Edge"))&&!(Or(Pr,"Trident")||Or(Pr,"MSIE"))&&!Or(Pr,"Edge"),mP=Or(Pr.toLowerCase(),"webkit")&&!Or(Pr,"Edge");function LA(){var t=je.document;return t?t.documentMode:void 0}var Fb;e:{var Lw="",Mw=function(){var t=Pr;if(DA)return/rv:([^\);]+)(\)|;)/.exec(t);if(PA)return/Edge\/([\d\.]+)/.exec(t);if(sl)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(mP)return/WebKit\/(\S+)/.exec(t);if(gP)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Mw&&(Lw=Mw?Mw[1]:""),sl){var Fw=LA();if(Fw!=null&&Fw>parseFloat(Lw)){Fb=String(Fw);break e}}Fb=Lw}var yP={};function MA(t){return vP(t,function(){for(var e=0,n=M1(String(Fb)).split("."),r=M1(String(t)).split("."),s=Math.max(n.length,r.length),a=0;e==0&&a<s;a++){var c=n[a]||"",h=r[a]||"";do{if(c=/(\d*)(\D*)(.*)/.exec(c)||["","","",""],h=/(\d*)(\D*)(.*)/.exec(h)||["","","",""],c[0].length==0&&h[0].length==0)break;e=Dw(c[1].length==0?0:parseInt(c[1],10),h[1].length==0?0:parseInt(h[1],10))||Dw(c[2].length==0,h[2].length==0)||Dw(c[2],h[2]),c=c[3],h=h[3]}while(e==0)}return 0<=e})}var x_;if(je.document&&sl){var V1=LA();x_=V1||parseInt(Fb,10)||void 0}else x_=void 0;var FA=x_,xE=!sl||9<=Number(FA),bP=sl&&!MA("9"),wP=function(){if(!je.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{je.addEventListener("test",Lb,e),je.removeEventListener("test",Lb,e)}catch{}return t}();function mr(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}mr.prototype.b=function(){this.defaultPrevented=!0};function vg(t,e){if(mr.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(DA){e:{try{kE(e.nodeName);var s=!0;break e}catch{}s=!1}s||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:_P[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}Lr(vg,mr);var _P={2:"touch",3:"pen",4:"mouse"};vg.prototype.b=function(){vg.S.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,bP)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch{}};var Fg="closure_listenable_"+(1e6*Math.random()|0),EP=0;function IP(t,e,n,r,s){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=s,this.key=++EP,this.Y=this.Z=!1}function w0(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function _0(t){this.src=t,this.a={},this.b=0}_0.prototype.add=function(t,e,n,r,s){var a=t.toString();t=this.a[a],t||(t=this.a[a]=[],this.b++);var c=R_(t,e,r,s);return-1<c?(e=t[c],n||(e.Z=!1)):(e=new IP(e,this.src,a,!!r,s),e.Z=n,t.push(e)),e};function N_(t,e){var n=e.type;if(n in t.a){var r=t.a[n],s=xA(r,e),a;(a=0<=s)&&Array.prototype.splice.call(r,s,1),a&&(w0(e),t.a[n].length==0&&(delete t.a[n],t.b--))}}function R_(t,e,n,r){for(var s=0;s<t.length;++s){var a=t[s];if(!a.Y&&a.listener==e&&a.capture==!!n&&a.ca==r)return s}return-1}var NE="closure_lm_"+(1e6*Math.random()|0),Uw={};function RE(t,e,n,r,s){if(r&&r.once)return jA(t,e,n,r,s);if(Array.isArray(e)){for(var a=0;a<e.length;a++)RE(t,e[a],n,r,s);return null}return n=DE(n),t&&t[Fg]?t.va(e,n,Mg(r)?!!r.capture:!!r,s):UA(t,e,n,!1,r,s)}function UA(t,e,n,r,s,a){if(!e)throw Error("Invalid event type");var c=Mg(s)?!!s.capture:!!s;if(c&&!xE)return null;var h=PE(t);if(h||(t[NE]=h=new _0(t)),n=h.add(e,n,r,c,a),n.proxy)return n;if(r=SP(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)wP||(s=c),s===void 0&&(s=!1),t.addEventListener(e.toString(),r,s);else if(t.attachEvent)t.attachEvent(BA(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function SP(){var t=TP,e=xE?function(n){return t.call(e.src,e.listener,n)}:function(n){if(n=t.call(e.src,e.listener,n),!n)return n};return e}function jA(t,e,n,r,s){if(Array.isArray(e)){for(var a=0;a<e.length;a++)jA(t,e[a],n,r,s);return null}return n=DE(n),t&&t[Fg]?t.wa(e,n,Mg(r)?!!r.capture:!!r,s):UA(t,e,n,!0,r,s)}function VA(t,e,n,r,s){if(Array.isArray(e))for(var a=0;a<e.length;a++)VA(t,e[a],n,r,s);else r=Mg(r)?!!r.capture:!!r,n=DE(n),t&&t[Fg]?(t=t.c,e=String(e).toString(),e in t.a&&(a=t.a[e],n=R_(a,n,r,s),-1<n&&(w0(a[n]),Array.prototype.splice.call(a,n,1),a.length==0&&(delete t.a[e],t.b--)))):t&&(t=PE(t))&&(e=t.a[e.toString()],t=-1,e&&(t=R_(e,n,r,s)),(n=-1<t?e[t]:null)&&OE(n))}function OE(t){if(typeof t!="number"&&t&&!t.Y){var e=t.src;if(e&&e[Fg])N_(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(BA(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=PE(e))?(N_(n,t),n.b==0&&(n.src=null,e[NE]=null)):w0(t)}}}function BA(t){return t in Uw?Uw[t]:Uw[t]="on"+t}function B1(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&OE(t),n.call(r,e)}function TP(t,e){if(t.Y)return!0;if(!xE){if(!e)e:{e=["window","event"];for(var n=je,r=0;r<e.length;r++)if(n=n[e[r]],n==null){e=null;break e}e=n}return e=new vg(e,this),B1(t,e)}return B1(t,new vg(e,this))}function PE(t){return t=t[NE],t instanceof _0?t:null}var jw="__closure_events_fn_"+(1e9*Math.random()>>>0);function DE(t){return b0(t)=="function"?t:(t[jw]||(t[jw]=function(e){return t.handleEvent(e)}),t[jw])}function yi(){hl.call(this),this.c=new _0(this),this.J=this,this.C=null}Lr(yi,hl);yi.prototype[Fg]=!0;ge=yi.prototype;ge.addEventListener=function(t,e,n,r){RE(this,t,e,n,r)};ge.removeEventListener=function(t,e,n,r){VA(this,t,e,n,r)};ge.dispatchEvent=function(t){var e,n=this.C;if(n)for(e=[];n;n=n.C)e.push(n);n=this.J;var r=t.type||t;if(typeof t=="string")t=new mr(t,n);else if(t instanceof mr)t.target=t.target||n;else{var s=t;t=new mr(r,n),OA(t,s)}if(s=!0,e)for(var a=e.length-1;0<=a;a--){var c=t.a=e[a];s=lb(c,r,!0,t)&&s}if(c=t.a=n,s=lb(c,r,!0,t)&&s,s=lb(c,r,!1,t)&&s,e)for(a=0;a<e.length;a++)c=t.a=e[a],s=lb(c,r,!1,t)&&s;return s};ge.G=function(){if(yi.S.G.call(this),this.c){var t=this.c,e;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)w0(n[r]);delete t.a[e],t.b--}}this.C=null};ge.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)};ge.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};function lb(t,e,n,r){if(e=t.c.a[String(e)],!e)return!0;e=e.concat();for(var s=!0,a=0;a<e.length;++a){var c=e[a];if(c&&!c.Y&&c.capture==n){var h=c.listener,d=c.ca||c.src;c.Z&&N_(t.c,c),s=h.call(d,r)!==!1&&s}}return s&&!r.defaultPrevented}var LE=je.JSON.stringify;function qA(){this.b=this.a=null}var GA=new(function(){function t(e,n,r){this.f=r,this.c=e,this.g=n,this.b=0,this.a=null}return t.prototype.get=function(){var e;return 0<this.b?(this.b--,e=this.a,this.a=e.next,e.next=null):e=this.c(),e},t}())(function(){return new ME},function(t){t.reset()},100);qA.prototype.add=function(t,e){var n=GA.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n};function AP(){var t=HA,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function ME(){this.next=this.b=this.a=null}ME.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null};ME.prototype.reset=function(){this.next=this.b=this.a=null};function CP(t){je.setTimeout(function(){throw t},0)}function WA(t,e){O_||kP(),P_||(O_(),P_=!0),HA.add(t,e)}var O_;function kP(){var t=je.Promise.resolve(void 0);O_=function(){t.then(xP)}}var P_=!1,HA=new qA;function xP(){for(var t;t=AP();){try{t.a.call(t.b)}catch(n){CP(n)}var e=GA;e.g(t),e.b<e.f&&(e.b++,t.next=e.a,e.a=t)}P_=!1}function E0(t,e){yi.call(this),this.b=t||1,this.a=e||je,this.f=gr(this.Ya,this),this.g=_s()}Lr(E0,yi);ge=E0.prototype;ge.aa=!1;ge.M=null;ge.Ya=function(){if(this.aa){var t=_s()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),this.dispatchEvent("tick"),this.aa&&(FE(this),this.start()))}};ge.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=_s())};function FE(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}ge.G=function(){E0.S.G.call(this),FE(this),delete this.a};function UE(t,e,n){if(b0(t)=="function")n&&(t=gr(t,n));else if(t&&typeof t.handleEvent=="function")t=gr(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:je.setTimeout(t,e||0)}function zA(t){t.a=UE(function(){t.a=null,t.c&&(t.c=!1,zA(t))},t.h);var e=t.b;t.b=null,t.g.apply(null,e)}var NP=function(t){lP(e,t);function e(n,r,s){var a=t.call(this)||this;return a.g=s!=null?n.bind(s):n,a.h=r,a.b=null,a.c=!1,a.a=null,a}return e.prototype.f=function(n){this.b=arguments,this.a?this.c=!0:zA(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(je.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(hl);function gg(t){hl.call(this),this.b=t,this.a={}}Lr(gg,hl);var q1=[];function KA(t,e,n,r){Array.isArray(n)||(n&&(q1[0]=n.toString()),n=q1);for(var s=0;s<n.length;s++){var a=RE(e,n[s],r||t.handleEvent,!1,t.b||t);if(!a)break;t.a[a.key]=a}}function YA(t){CE(t.a,function(e,n){this.a.hasOwnProperty(n)&&OE(e)},t),t.a={}}gg.prototype.G=function(){gg.S.G.call(this),YA(this)};gg.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function jE(){this.a=!0}function RP(t,e,n,r,s,a){t.info(function(){if(t.a)if(a)for(var c="",h=a.split("&"),d=0;d<h.length;d++){var g=h[d].split("=");if(1<g.length){var y=g[0];g=g[1];var E=y.split("_");c=2<=E.length&&E[1]=="type"?c+(y+"="+g+"&"):c+(y+"=redacted&")}}else c=null;else c=a;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+e+`
`+n+`
`+c})}function OP(t,e,n,r,s,a,c){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+e+`
`+n+`
`+a+" "+c})}function dp(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+DP(t,n)+(r?" "+r:"")})}function PP(t,e){t.info(function(){return"TIMEOUT: "+e})}jE.prototype.info=function(){};function DP(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var a=s[0];if(a!="noop"&&a!="stop"&&a!="close")for(var c=1;c<s.length;c++)s[c]=""}}}}return LE(n)}catch{return e}}var G1=null;function VE(){return G1=G1||new yi}function XA(t){mr.call(this,"serverreachability",t)}Lr(XA,mr);function mg(t){var e=VE();e.dispatchEvent(new XA(e))}function $A(t){mr.call(this,"statevent",t)}Lr($A,mr);function mi(t){var e=VE();e.dispatchEvent(new $A(e))}function QA(t){mr.call(this,"timingevent",t)}Lr(QA,mr);function Ug(t,e){if(b0(t)!="function")throw Error("Fn must not be null and must be a function");return je.setTimeout(function(){t()},e)}var I0={NO_ERROR:0,Za:1,gb:2,fb:3,bb:4,eb:5,hb:6,Da:7,TIMEOUT:8,kb:9},JA={};function ZA(){}ZA.prototype.a=null;function W1(t){var e;return(e=t.a)||(e=t.a={}),e}function eC(){}var jg={OPEN:"a",$a:"b",Ea:"c",jb:"d"};function BE(){mr.call(this,"d")}Lr(BE,mr);function qE(){mr.call(this,"c")}Lr(qE,mr);var tC;function nC(){}Lr(nC,ZA);tC=new nC;function Vg(t,e,n,r){this.g=t,this.c=e,this.f=n,this.T=r||1,this.J=new gg(this),this.P=LP,t=k_?125:void 0,this.R=new E0(t),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.U=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.W=this.C=this.V=this.I=!1}var LP=45e3,rC={},D_={};ge=Vg.prototype;ge.setTimeout=function(t){this.P=t};function L_(t,e,n){t.H=1,t.i=T0(Ia(e)),t.j=n,t.I=!0,iC(t,null)}function iC(t,e){t.u=_s(),Bg(t),t.l=Ia(t.i);var n=t.l,r=t.T;Array.isArray(r)||(r=[String(r)]),cC(n.b,"t",r),t.D=0,t.a=kC(t.g,t.g.C?e:null),0<t.O&&(t.F=new NP(gr(t.Ca,t,t.a),t.O)),KA(t.J,t.a,"readystatechange",t.Wa),e=t.B?RA(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),mg(),RP(t.c,t.m,t.l,t.f,t.T,t.j)}ge.Wa=function(t){t=t.target;var e=this.F;e&&el(t)==3?e.f():this.Ca(t)};ge.Ca=function(t){try{if(t==this.a)e:{var e=el(this.a),n=this.a.ua(),r=this.a.X();if(!(3>e||e==3&&!k_&&!this.a.$())){this.A||e!=4||n==7||(n==8||0>=r?mg(3):mg(2)),S0(this);var s=this.a.X();this.N=s;var a=this.a.$();if(this.b=s==200,OP(this.c,this.m,this.l,this.f,this.T,e,s),this.b){if(this.V&&!this.C){t:{if(this.a){var c,h=this.a;if((c=h.a?h.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Mb(c)){var d=c;break t}}d=null}if(d)dp(this.c,this.f,d,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,M_(this,d);else{this.b=!1,this.h=3,mi(12),yp(this),Ub(this);break e}}this.I?(oC(this,e,a),k_&&this.b&&e==3&&(KA(this.J,this.R,"tick",this.Va),this.R.start())):(dp(this.c,this.f,a,null),M_(this,a)),e==4&&yp(this),this.b&&!this.A&&(e==4?SC(this.g,this):(this.b=!1,Bg(this)))}else s==400&&0<a.indexOf("Unknown SID")?(this.h=3,mi(12)):(this.h=0,mi(13)),yp(this),Ub(this)}}}catch{}finally{}};function oC(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var s=MP(t,n);if(s==D_){e==4&&(t.h=4,mi(),r=!1),dp(t.c,t.f,null,"[Incomplete Response]");break}else if(s==rC){t.h=4,mi(),dp(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}else dp(t.c,t.f,s,null),M_(t,s)}e==4&&n.length==0&&(t.h=1,mi(),r=!1),t.b=t.b&&r,r?0<n.length&&!t.W&&(t.W=!0,e=t.g,e.a==t&&e.V&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),$E(e),e.F=!0)):(dp(t.c,t.f,n,"[Invalid Chunked Response]"),yp(t),Ub(t))}ge.Va=function(){if(this.a){var t=el(this.a),e=this.a.$();this.D<e.length&&(S0(this),oC(this,t,e),this.b&&t!=4&&Bg(this))}};function MP(t,e){var n=t.D,r=e.indexOf(`
`,n);return r==-1?D_:(n=Number(e.substring(n,r)),isNaN(n)?rC:(r+=1,r+n>e.length?D_:(e=e.substr(r,n),t.D=r+n,e)))}ge.cancel=function(){this.A=!0,yp(this)};function Bg(t){t.U=_s()+t.P,sC(t,t.P)}function sC(t,e){if(t.o!=null)throw Error("WatchDog timer not null");t.o=Ug(gr(t.Ua,t),e)}function S0(t){t.o&&(je.clearTimeout(t.o),t.o=null)}ge.Ua=function(){this.o=null;var t=_s();0<=t-this.U?(PP(this.c,this.l),this.H!=2&&(mg(),mi()),yp(this),this.h=2,Ub(this)):sC(this,this.U-t)};function Ub(t){t.g.v==0||t.A||SC(t.g,t)}function yp(t){S0(t);var e=t.F;e&&typeof e.ja=="function"&&e.ja(),t.F=null,FE(t.R),YA(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function M_(t,e){try{var n=t.g;if(n.v!=0&&(n.a==t||F_(n.b,t))){if(n.I=t.N,!t.C&&F_(n.b,t)&&n.v==3){try{var r=n.ka.a.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var s=r;if(s[0]==0){e:if(!n.j){if(n.a)if(n.a.u+3e3<t.u)qb(n),C0(n);else break e;XE(n),mi(18)}}else n.oa=s[1],0<n.oa-n.P&&37500>s[2]&&n.H&&n.o==0&&!n.m&&(n.m=Ug(gr(n.Ra,n),6e3));if(1>=pC(n.b)&&n.ea){try{n.ea()}catch{}n.ea=void 0}}else Vc(n,11)}else if((t.C||n.a==t)&&qb(n),!Mb(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(s=e[r],n.P=s[0],s=s[1],n.v==2)if(s[0]=="c"){n.J=s[1],n.ga=s[2];var a=s[3];a!=null&&(n.ha=a,n.c.info("VER="+n.ha));var c=s[4];c!=null&&(n.pa=c,n.c.info("SVER="+n.pa));var h=s[5];if(h!=null&&typeof h=="number"&&0<h){var d=1.5*h;n.D=d,n.c.info("backChannelRequestTimeoutMs_="+d)}d=n;var g=t.a;if(g){var y=g.a?g.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(y){var E=d.b;!E.a&&(Or(y,"spdy")||Or(y,"quic")||Or(y,"h2"))&&(E.f=E.g,E.a=new Set,E.b&&(HE(E,E.b),E.b=null))}if(d.A){var I=g.a?g.a.getResponseHeader("X-HTTP-Session-Id"):null;I&&(d.na=I,Vt(d.B,d.A,I))}}n.v=3,n.f&&n.f.ta(),n.V&&(n.N=_s()-t.u,n.c.info("Handshake RTT: "+n.N+"ms")),d=n;var T=t;if(d.la=CC(d,d.C?d.ga:null,d.fa),T.C){dC(d.b,T);var x=T,A=d.D;A&&x.setTimeout(A),x.o&&(S0(x),Bg(x)),d.a=T}else EC(d);0<n.g.length&&k0(n)}else s[0]!="stop"&&s[0]!="close"||Vc(n,7);else n.v==3&&(s[0]=="stop"||s[0]=="close"?s[0]=="stop"?Vc(n,7):YE(n):s[0]!="noop"&&n.f&&n.f.sa(s),n.o=0)}mg(4)}catch{}}function FP(t){if(t.K&&typeof t.K=="function")return t.K();if(typeof t=="string")return t.split("");if(C_(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return t=e}function GE(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(C_(t)||typeof t=="string")NA(t,e,void 0);else{if(t.L&&typeof t.L=="function")var n=t.L();else if(t.K&&typeof t.K=="function")n=void 0;else if(C_(t)||typeof t=="string"){n=[];for(var r=t.length,s=0;s<r;s++)n.push(s)}else for(s in n=[],r=0,t)n[r++]=s;r=FP(t),s=r.length;for(var a=0;a<s;a++)e.call(void 0,r[a],n&&n[a],t)}}function Gp(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Gp)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}ge=Gp.prototype;ge.K=function(){WE(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t};ge.L=function(){return WE(this),this.a.concat()};function WE(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Yc(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var s={};for(n=e=0;e<t.a.length;)r=t.a[e],Yc(s,r)||(t.a[n++]=r,s[r]=1),e++;t.a.length=n}}ge.get=function(t,e){return Yc(this.b,t)?this.b[t]:e};ge.set=function(t,e){Yc(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e};ge.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var s=n[r],a=this.get(s);t.call(e,a,s,this)}};function Yc(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var aC=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function UP(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),s=null;if(0<=r){var a=t[n].substring(0,r);s=t[n].substring(r+1)}else a=t[n];e(a,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}function Xc(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Xc){this.a=e!==void 0?e:t.a,jb(this,t.f),this.j=t.j,Vb(this,t.c),Bb(this,t.h),this.g=t.g,e=t.b;var n=new yg;n.c=e.c,e.a&&(n.a=new Gp(e.a),n.b=e.b),H1(this,n),this.i=t.i}else t&&(n=String(t).match(aC))?(this.a=!!e,jb(this,n[1]||"",!0),this.j=og(n[2]||""),Vb(this,n[3]||"",!0),Bb(this,n[4]),this.g=og(n[5]||"",!0),H1(this,n[6]||"",!0),this.i=og(n[7]||"")):(this.a=!!e,this.b=new yg(null,this.a))}Xc.prototype.toString=function(){var t=[],e=this.f;e&&t.push(ng(e,z1,!0),":");var n=this.c;return(n||e=="file")&&(t.push("//"),(e=this.j)&&t.push(ng(e,z1,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.h,n!=null&&t.push(":",String(n))),(n=this.g)&&(this.c&&n.charAt(0)!="/"&&t.push("/"),t.push(ng(n,n.charAt(0)=="/"?GP:qP,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",ng(n,HP)),t.join("")};function Ia(t){return new Xc(t)}function jb(t,e,n){t.f=n?og(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Vb(t,e,n){t.c=n?og(e,!0):e}function Bb(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function H1(t,e,n){e instanceof yg?(t.b=e,zP(t.b,t.a)):(n||(e=ng(e,WP)),t.b=new yg(e,t.a))}function Vt(t,e,n){t.b.set(e,n)}function T0(t){return Vt(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^_s()).toString(36)),t}function jP(t){return t instanceof Xc?Ia(t):new Xc(t,void 0)}function VP(t,e,n,r){var s=new Xc(null,void 0);return t&&jb(s,t),e&&Vb(s,e),n&&Bb(s,n),r&&(s.g=r),s}function og(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function ng(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,BP),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function BP(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var z1=/[#\/\?@]/g,qP=/[#\?:]/g,GP=/[#\?]/g,WP=/[#\?@]/g,HP=/#/g;function yg(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function pl(t){t.a||(t.a=new Gp,t.b=0,t.c&&UP(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}ge=yg.prototype;ge.add=function(t,e){pl(this),this.c=null,t=Wp(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this};function uC(t,e){pl(t),e=Wp(t,e),Yc(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,t=t.a,Yc(t.b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&WE(t)))}function lC(t,e){return pl(t),e=Wp(t,e),Yc(t.a.b,e)}ge.forEach=function(t,e){pl(this),this.a.forEach(function(n,r){NA(n,function(s){t.call(e,s,r,this)},this)},this)};ge.L=function(){pl(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var s=t[r],a=0;a<s.length;a++)n.push(e[r]);return n};ge.K=function(t){pl(this);var e=[];if(typeof t=="string")lC(this,t)&&(e=L1(e,this.a.get(Wp(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=L1(e,t[n])}return e};ge.set=function(t,e){return pl(this),this.c=null,t=Wp(this,t),lC(this,t)&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this};ge.get=function(t,e){return t?(t=this.K(t),0<t.length?String(t[0]):e):e};function cC(t,e,n){uC(t,e),0<n.length&&(t.c=null,t.a.set(Wp(t,e),AE(n)),t.b+=n.length)}ge.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],s=encodeURIComponent(String(r));r=this.K(r);for(var a=0;a<r.length;a++){var c=s;r[a]!==""&&(c+="="+encodeURIComponent(String(r[a]))),t.push(c)}}return this.c=t.join("&")};function Wp(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function zP(t,e){e&&!t.f&&(pl(t),t.c=null,t.a.forEach(function(n,r){var s=r.toLowerCase();r!=s&&(uC(this,r),cC(this,s,n))},t)),t.f=e}function KP(t,e){this.b=t,this.a=e}function fC(t){this.g=t||YP,je.PerformanceNavigationTiming?(t=je.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(je.ia&&je.ia.ya&&je.ia.ya()&&je.ia.ya().qb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var YP=10;function hC(t){return t.b?!0:t.a?t.a.size>=t.f:!1}function pC(t){return t.b?1:t.a?t.a.size:0}function F_(t,e){return t.b?t.b==e:t.a?t.a.has(e):!1}function HE(t,e){t.a?t.a.add(e):t.b=e}function dC(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}fC.prototype.cancel=function(){var t,e;if(this.c=vC(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&this.a.size!==0){try{for(var n=kA(this.a.values()),r=n.next();!r.done;r=n.next()){var s=r.value;s.cancel()}}catch(a){t={error:a}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}};function vC(t){var e,n;if(t.b!=null)return t.c.concat(t.b.s);if(t.a!=null&&t.a.size!==0){var r=t.c;try{for(var s=kA(t.a.values()),a=s.next();!a.done;a=s.next()){var c=a.value;r=r.concat(c.s)}}catch(h){e={error:h}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}return r}return AE(t.c)}function zE(){}zE.prototype.stringify=function(t){return je.JSON.stringify(t,void 0)};zE.prototype.parse=function(t){return je.JSON.parse(t,void 0)};function XP(){this.a=new zE}function $P(t,e,n){var r=n||"";try{GE(t,function(s,a){var c=s;Mg(s)&&(c=LE(s)),e.push(r+a+"="+encodeURIComponent(c))})}catch(s){throw e.push(r+"type="+encodeURIComponent("_badmap")),s}}function QP(t,e){var n=new jE;if(je.Image){var r=new Image;r.onload=ub(cb,n,r,"TestLoadImage: loaded",!0,e),r.onerror=ub(cb,n,r,"TestLoadImage: error",!1,e),r.onabort=ub(cb,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=ub(cb,n,r,"TestLoadImage: timeout",!1,e),je.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function cb(t,e,n,r,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(r)}catch{}}var JP=je.JSON.parse;function Dn(t){yi.call(this),this.headers=new Gp,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=ZP,this.D=this.F=!1}Lr(Dn,yi);var ZP="",eD=/^https?$/i,tD=["POST","PUT"];ge=Dn.prototype;ge.ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?W1(this.H):W1(tC),this.a.onreadystatechange=gr(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(a){K1(this,a);return}t=n||"";var s=new Gp(this.headers);r&&GE(r,function(a,c){s.set(c,a)}),r=dP(s.L()),n=je.FormData&&t instanceof je.FormData,!(0<=xA(tD,e))||r||n||s.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),s.forEach(function(a,c){this.a.setRequestHeader(c,a)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{yC(this),0<this.o&&((this.D=nD(this.a))?(this.a.timeout=this.o,this.a.ontimeout=gr(this.xa,this)):this.m=UE(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(a){K1(this,a)}};function nD(t){return sl&&MA(9)&&typeof t.timeout=="number"&&t.ontimeout!==void 0}function rD(t){return t.toLowerCase()=="content-type"}ge.xa=function(){typeof TE<"u"&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))};function K1(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,gC(t),A0(t)}function gC(t){t.u||(t.u=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}ge.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),A0(this))};ge.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),A0(this,!0)),Dn.S.G.call(this)};ge.za=function(){this.j||(this.A||this.l||this.g?mC(this):this.Ta())};ge.Ta=function(){mC(this)};function mC(t){if(t.b&&typeof TE<"u"&&(!t.s[1]||el(t)!=4||t.X()!=2)){if(t.l&&el(t)==4)UE(t.za,0,t);else if(t.dispatchEvent("readystatechange"),el(t)==4){t.b=!1;try{var e=t.X();e:switch(e){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}var r;if(!(r=n)){var s;if(s=e===0){var a=String(t.B).match(aC)[1]||null;if(!a&&je.self&&je.self.location){var c=je.self.location.protocol;a=c.substr(0,c.length-1)}s=!eD.test(a?a.toLowerCase():"")}r=s}if(r)t.dispatchEvent("complete"),t.dispatchEvent("success");else{t.h=6;try{var h=2<el(t)?t.a.statusText:""}catch{h=""}t.f=h+" ["+t.X()+"]",gC(t)}}finally{A0(t)}}}}function A0(t,e){if(t.a){yC(t);var n=t.a,r=t.s[0]?Lb:null;t.a=null,t.s=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch{}}}function yC(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(je.clearTimeout(t.m),t.m=null)}function el(t){return t.a?t.a.readyState:0}ge.X=function(){try{return 2<el(this)?this.a.status:-1}catch{return-1}};ge.$=function(){try{return this.a?this.a.responseText:""}catch{return""}};ge.Na=function(t){if(this.a){var e=this.a.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),JP(e)}};ge.ua=function(){return this.h};ge.Qa=function(){return typeof this.f=="string"?this.f:String(this.f)};function iD(t){var e="";return CE(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function KE(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=iD(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Vt(t,e,n))}function Jv(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function bC(t){this.pa=0,this.g=[],this.c=new jE,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.W=this.i=this.O=this.l=null,this.La=this.R=0,this.Ia=Jv("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.T=!0,this.I=this.oa=this.P=-1,this.U=this.o=this.u=0,this.Fa=Jv("baseRetryDelayMs",5e3,t),this.Ma=Jv("retryDelaySeedMs",1e4,t),this.Ja=Jv("forwardChannelMaxRetries",2,t),this.ma=Jv("forwardChannelRequestTimeoutMs",2e4,t),this.Ka=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new fC(t&&t.concurrentRequestLimit),this.ka=new XP,this.da=t&&t.fastHandshake||!1,this.Ga=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.T=!1),this.V=!this.da&&this.T&&t&&t.c||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null}ge=bC.prototype;ge.ha=8;ge.v=1;function YE(t){if(wC(t),t.v==3){var e=t.R++,n=Ia(t.B);Vt(n,"SID",t.J),Vt(n,"RID",e),Vt(n,"TYPE","terminate"),qg(t,n),e=new Vg(t,t.c,e,void 0),e.H=2,e.i=T0(Ia(n)),n=!1,je.navigator&&je.navigator.sendBeacon&&(n=je.navigator.sendBeacon(e.i.toString(),"")),!n&&je.Image&&(new Image().src=e.i,n=!0),n||(e.a=kC(e.g,null),e.a.ba(e.i)),e.u=_s(),Bg(e)}AC(t)}function C0(t){t.a&&($E(t),t.a.cancel(),t.a=null)}function wC(t){C0(t),t.j&&(je.clearTimeout(t.j),t.j=null),qb(t),t.b.cancel(),t.h&&(typeof t.h=="number"&&je.clearTimeout(t.h),t.h=null)}function Vw(t,e){t.g.push(new KP(t.La++,e)),t.v==3&&k0(t)}function k0(t){hC(t.b)||t.h||(t.h=!0,WA(t.Ba,t),t.u=0)}function oD(t,e){return pC(t.b)>=t.b.f-(t.h?1:0)?!1:t.h?(t.g=e.s.concat(t.g),!0):t.v==1||t.v==2||t.u>=(t.Ia?0:t.Ja)?!1:(t.h=Ug(gr(t.Ba,t,e),TC(t,t.u)),t.u++,!0)}ge.Ba=function(t){if(this.h)if(this.h=null,this.v==1){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e=new Vg(this,this.c,t,void 0),n=this.l;this.O&&(n?(n=RA(n),OA(n,this.O)):n=this.O),this.i===null&&(e.B=n);var r;if(this.da)e:{for(var s=r=0;s<this.g.length;s++){t:{var a=this.g[s];if("__data__"in a.a&&(a=a.a.__data__,typeof a=="string")){a=a.length;break t}a=void 0}if(a===void 0)break;if(r+=a,4096<r){r=s;break e}if(r===4096||s===this.g.length-1){r=s+1;break e}}r=1e3}else r=1e3;r=_C(this,e,r),s=Ia(this.B),Vt(s,"RID",t),Vt(s,"CVER",22),this.A&&Vt(s,"X-HTTP-Session-Id",this.A),qg(this,s),this.i&&n&&KE(s,this.i,n),HE(this.b,e),this.Ga&&Vt(s,"TYPE","init"),this.da?(Vt(s,"$req",r),Vt(s,"SID","null"),e.V=!0,L_(e,s,null)):L_(e,s,r),this.v=2}}else this.v==3&&(t?Y1(this,t):this.g.length==0||hC(this.b)||Y1(this))};function Y1(t,e){var n;e?n=e.f:n=t.R++;var r=Ia(t.B);Vt(r,"SID",t.J),Vt(r,"RID",n),Vt(r,"AID",t.P),qg(t,r),t.i&&t.l&&KE(r,t.i,t.l),n=new Vg(t,t.c,n,t.u+1),t.i===null&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=_C(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),HE(t.b,n),L_(n,r,e)}function qg(t,e){t.f&&GE({},function(n,r){Vt(e,r,n)})}function _C(t,e,n){n=Math.min(t.g.length,n);var r=t.f?gr(t.f.Ha,t.f,t):null;e:for(var s=t.g,a=-1;;){var c=["count="+n];a==-1?0<n?(a=s[0].b,c.push("ofs="+a)):a=0:c.push("ofs="+a);for(var h=!0,d=0;d<n;d++){var g=s[d].b,y=s[d].a;if(g-=a,0>g)a=Math.max(0,s[d].b-100),h=!1;else try{$P(y,c,"req"+g+"_")}catch{r&&r(y)}}if(h){r=c.join("&");break e}}return t=t.g.splice(0,n),e.s=t,r}function EC(t){t.a||t.j||(t.U=1,WA(t.Aa,t),t.o=0)}function XE(t){return t.a||t.j||3<=t.o?!1:(t.U++,t.j=Ug(gr(t.Aa,t),TC(t,t.o)),t.o++,!0)}ge.Aa=function(){if(this.j=null,IC(this),this.V&&!(this.F||this.a==null||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=Ug(gr(this.Sa,this),t)}};ge.Sa=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,C0(this),IC(this))};function $E(t){t.s!=null&&(je.clearTimeout(t.s),t.s=null)}function IC(t){t.a=new Vg(t,t.c,"rpc",t.U),t.i===null&&(t.a.B=t.l),t.a.O=0;var e=Ia(t.la);Vt(e,"RID","rpc"),Vt(e,"SID",t.J),Vt(e,"CI",t.H?"0":"1"),Vt(e,"AID",t.P),qg(t,e),Vt(e,"TYPE","xmlhttp"),t.i&&t.l&&KE(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=T0(Ia(e)),n.j=null,n.I=!0,iC(n,t)}ge.Ra=function(){this.m!=null&&(this.m=null,C0(this),XE(this),mi())};function qb(t){t.m!=null&&(je.clearTimeout(t.m),t.m=null)}function SC(t,e){var n=null;if(t.a==e){qb(t),$E(t),t.a=null;var r=2}else if(F_(t.b,e))n=e.s,dC(t.b,e),r=1;else return;if(t.I=e.N,t.v!=0){if(e.b)if(r==1){n=e.j?e.j.length:0,e=_s()-e.u;var s=t.u;r=VE(),r.dispatchEvent(new QA(r)),k0(t)}else EC(t);else if(s=e.h,s==3||s==0&&0<t.I||!(r==1&&oD(t,e)||r==2&&XE(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),s){case 1:Vc(t,5);break;case 4:Vc(t,10);break;case 3:Vc(t,6);break;default:Vc(t,2)}}}function TC(t,e){var n=t.Fa+Math.floor(Math.random()*t.Ma);return t.f||(n*=2),n*e}function Vc(t,e){if(t.c.info("Error code "+e),e==2){var n=null;t.f&&(n=null);var r=gr(t.Xa,t);n||(n=new Xc("//www.google.com/images/cleardot.gif"),je.location&&je.location.protocol=="http"||jb(n,"https"),T0(n)),QP(n.toString(),r)}else mi();t.v=0,t.f&&t.f.ra(e),AC(t),wC(t)}ge.Xa=function(t){t?(this.c.info("Successfully pinged google.com"),mi()):(this.c.info("Failed to ping google.com"),mi())};function AC(t){t.v=0,t.I=-1,t.f&&((vC(t.b).length!=0||t.g.length!=0)&&(t.b.c.length=0,AE(t.g),t.g.length=0),t.f.qa())}function CC(t,e,n){var r=jP(n);if(r.c!="")e&&Vb(r,e+"."+r.c),Bb(r,r.h);else{var s=je.location;r=VP(s.protocol,e?e+"."+s.hostname:s.hostname,+s.port,n)}return t.W&&CE(t.W,function(a,c){Vt(r,c,a)}),e=t.A,n=t.na,e&&n&&Vt(r,e,n),Vt(r,"VER",t.ha),qg(t,r),r}function kC(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return e=new Dn(t.Ka),e.F=t.C,e}function xC(){}ge=xC.prototype;ge.ta=function(){};ge.sa=function(){};ge.ra=function(){};ge.qa=function(){};ge.Ha=function(){};function Gb(){if(sl&&!(10<=Number(FA)))throw Error("Environmental error: no available transport.")}Gb.prototype.a=function(t,e){return new Wi(t,e)};function Wi(t,e){yi.call(this),this.a=new bC(e),this.l=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!Mb(t)&&(this.a.i=t),this.h=e&&e.supportsCrossDomainXhr||!1,this.g=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Mb(e)&&(this.a.A=e,t=this.b,t!==null&&e in t&&(t=this.b,e in t&&delete t[e])),this.f=new Hp(this)}Lr(Wi,yi);ge=Wi.prototype;ge.addEventListener=function(t,e,n,r){Wi.S.addEventListener.call(this,t,e,n,r)};ge.removeEventListener=function(t,e,n,r){Wi.S.removeEventListener.call(this,t,e,n,r)};ge.Oa=function(){this.a.f=this.f,this.h&&(this.a.C=!0);var t=this.a,e=this.l,n=this.b||void 0;mi(),t.fa=e,t.W=n||{},t.H=t.T,t.B=CC(t,null,t.fa),k0(t)};ge.close=function(){YE(this.a)};ge.Pa=function(t){if(typeof t=="string"){var e={};e.__data__=t,Vw(this.a,e)}else this.g?(e={},e.__data__=LE(t),Vw(this.a,e)):Vw(this.a,t)};ge.G=function(){this.a.f=null,delete this.f,YE(this.a),delete this.a,Wi.S.G.call(this)};function NC(t){BE.call(this);var e=t.__sm__;if(e){e:{for(var n in e){t=n;break e}t=void 0}(this.c=t)?(t=this.c,this.data=e!==null&&t in e?e[t]:void 0):this.data=e}else this.data=t}Lr(NC,BE);function RC(){qE.call(this),this.status=1}Lr(RC,qE);function Hp(t){this.a=t}Lr(Hp,xC);Hp.prototype.ta=function(){this.a.dispatchEvent("a")};Hp.prototype.sa=function(t){this.a.dispatchEvent(new NC(t))};Hp.prototype.ra=function(t){this.a.dispatchEvent(new RC)};Hp.prototype.qa=function(){this.a.dispatchEvent("b")};Gb.prototype.createWebChannel=Gb.prototype.a;Wi.prototype.send=Wi.prototype.Pa;Wi.prototype.open=Wi.prototype.Oa;Wi.prototype.close=Wi.prototype.close;I0.NO_ERROR=0;I0.TIMEOUT=8;I0.HTTP_ERROR=6;JA.COMPLETE="complete";eC.EventType=jg;jg.OPEN="a";jg.CLOSE="b";jg.ERROR="c";jg.MESSAGE="d";yi.prototype.listen=yi.prototype.va;Dn.prototype.listenOnce=Dn.prototype.wa;Dn.prototype.getLastError=Dn.prototype.Qa;Dn.prototype.getLastErrorCode=Dn.prototype.ua;Dn.prototype.getStatus=Dn.prototype.X;Dn.prototype.getResponseJson=Dn.prototype.Na;Dn.prototype.getResponseText=Dn.prototype.$;Dn.prototype.send=Dn.prototype.ba;var sD=function(){return new Gb},Bw=I0,aD=JA,fb=eC,uD=Dn,lD={};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},$=function(t){function e(n,r){var s=this;return(s=t.call(this,r)||this).code=n,s.message=r,s.name="FirebaseError",s.toString=function(){return s.name+": [code="+s.code+"]: "+s.message},s}return we(e,t),e}(Error),Do=new Up("@firebase/firestore");function Wb(){return Do.logLevel}function ue(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Do.logLevel<=Le.DEBUG){var r=e.map(QE);Do.debug.apply(Do,Dr(["Firestore (7.24.0): "+t],r))}}function Xt(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Do.logLevel<=Le.ERROR){var r=e.map(QE);Do.error.apply(Do,Dr(["Firestore (7.24.0): "+t],r))}}function X1(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Do.logLevel<=Le.WARN){var r=e.map(QE);Do.warn.apply(Do,Dr(["Firestore (7.24.0): "+t],r))}}function QE(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function be(t){t===void 0&&(t="Unexpected state");var e="FIRESTORE (7.24.0) INTERNAL ASSERTION FAILED: "+t;throw Xt(e),new Error(e)}function Te(t,e){t||be()}function de(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $1(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function zp(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function OC(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var PC=function(){function t(e,n,r){n===void 0?n=0:n>e.length&&be(),r===void 0?r=e.length-n:r>e.length-n&&be(),this.segments=e,this.offset=n,this.t=r}return Object.defineProperty(t.prototype,"length",{get:function(){return this.t},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return t.i(this,e)===0},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(r){n.push(r)}):n.push(e),this.o(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.u=function(e){return e=e===void 0?1:e,this.o(this.segments,this.offset+e,this.length-e)},t.prototype.h=function(){return this.o(this.segments,this.offset,this.length-1)},t.prototype.l=function(){return this.segments[this.offset]},t.prototype._=function(){return this.get(this.length-1)},t.prototype.get=function(e){return this.segments[this.offset+e]},t.prototype.m=function(){return this.length===0},t.prototype.T=function(e){if(e.length<this.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0},t.prototype.I=function(e){if(this.length+1!==e.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0},t.prototype.forEach=function(e){for(var n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])},t.prototype.A=function(){return this.segments.slice(this.offset,this.limit())},t.i=function(e,n){for(var r=Math.min(e.length,n.length),s=0;s<r;s++){var a=e.get(s),c=n.get(s);if(a<c)return-1;if(a>c)return 1}return e.length<n.length?-1:e.length>n.length?1:0},t}(),Lt=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return we(e,t),e.prototype.o=function(n,r,s){return new e(n,r,s)},e.prototype.R=function(){return this.A().join("/")},e.prototype.toString=function(){return this.R()},e.g=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];for(var s=[],a=0,c=n;a<c.length;a++){var h=c[a];if(h.indexOf("//")>=0)throw new $(q.INVALID_ARGUMENT,"Invalid segment ("+h+"). Paths must not contain // in them.");s.push.apply(s,h.split("/").filter(function(d){return d.length>0}))}return new e(s)},e.P=function(){return new e([])},e}(PC),cD=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Mo=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return we(e,t),e.prototype.o=function(n,r,s){return new e(n,r,s)},e.V=function(n){return cD.test(n)},e.prototype.R=function(){return this.A().map(function(n){return n=n.replace("\\","\\\\").replace("`","\\`"),e.V(n)||(n="`"+n+"`"),n}).join(".")},e.prototype.toString=function(){return this.R()},e.prototype.p=function(){return this.length===1&&this.get(0)==="__name__"},e.v=function(){return new e(["__name__"])},e.S=function(n){for(var r=[],s="",a=0,c=function(){if(s.length===0)throw new $(q.INVALID_ARGUMENT,"Invalid field path ("+n+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");r.push(s),s=""},h=!1;a<n.length;){var d=n[a];if(d==="\\"){if(a+1===n.length)throw new $(q.INVALID_ARGUMENT,"Path has trailing escape character: "+n);var g=n[a+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new $(q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);s+=g,a+=2}else d==="`"?(h=!h,a++):d!=="."||h?(s+=d,a++):(c(),a++)}if(c(),h)throw new $(q.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new e(r)},e.P=function(){return new e([])},e}(PC),ke=function(){function t(e){this.path=e}return t.D=function(e){return new t(Lt.g(e))},t.C=function(e){return new t(Lt.g(e).u(5))},t.prototype.N=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},t.prototype.isEqual=function(e){return e!==null&&Lt.i(this.path,e.path)===0},t.prototype.toString=function(){return this.path.toString()},t.i=function(e,n){return Lt.i(e.path,n.path)},t.F=function(e){return e.length%2==0},t.$=function(e){return new t(new Lt(e.slice()))},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q1(t,e){if(e.length!==0)throw new $(q.INVALID_ARGUMENT,"Function "+t+"() does not support arguments, but was called with "+$c(e.length,"argument")+".")}function Dt(t,e,n){if(e.length!==n)throw new $(q.INVALID_ARGUMENT,"Function "+t+"() requires "+$c(n,"argument")+", but was called with "+$c(e.length,"argument")+".")}function Oo(t,e,n){if(e.length<n)throw new $(q.INVALID_ARGUMENT,"Function "+t+"() requires at least "+$c(n,"argument")+", but was called with "+$c(e.length,"argument")+".")}function Bi(t,e,n,r){if(e.length<n||e.length>r)throw new $(q.INVALID_ARGUMENT,"Function "+t+"() requires between "+n+" and "+r+" arguments, but was called with "+$c(e.length,"argument")+".")}function _n(t,e,n,r){FC(t,e,Gg(n)+" argument",r)}function bp(t,e,n,r){r!==void 0&&_n(t,e,n,r)}function DC(t,e,n,r){FC(t,e,n+" option",r)}function Co(t,e,n,r){r!==void 0&&DC(t,e,n,r)}function LC(t,e,n,r,s){r!==void 0&&function(a,c,h,d,g){for(var y=[],E=0,I=g;E<I.length;E++){var T=I[E];if(T===d)return;y.push(ys(T))}var x=ys(d);throw new $(q.INVALID_ARGUMENT,"Invalid value "+x+" provided to function "+a+'() for option "'+h+'". Acceptable values: '+y.join(", "))}(t,0,n,r,s)}function MC(t,e,n,r){if(!e.some(function(s){return s===r}))throw new $(q.INVALID_ARGUMENT,"Invalid value "+ys(r)+" provided to function "+t+"() for its "+Gg(n)+" argument. Acceptable values: "+e.join(", "));return r}function FC(t,e,n,r){if(!(e==="object"?UC(r):e==="non-empty string"?typeof r=="string"&&r!=="":typeof r===e)){var s=ys(r);throw new $(q.INVALID_ARGUMENT,"Function "+t+"() requires its "+n+" to be of type "+e+", but it was: "+s)}}function UC(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function ys(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";var e=function(n){if(n.constructor){var r=/function\s+([^\s(]+)\s*\(/.exec(n.constructor.toString());if(r&&r.length>1)return r[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return typeof t=="function"?"a function":be()}function J1(t,e,n){if(n===void 0)throw new $(q.INVALID_ARGUMENT,"Function "+t+"() requires a valid "+Gg(e)+" argument, but it was undefined.")}function af(t,e,n){zp(e,function(r,s){if(n.indexOf(r)<0)throw new $(q.INVALID_ARGUMENT,"Unknown option '"+r+"' passed to function "+t+"(). Available options: "+n.join(", "))})}function uf(t,e,n,r){var s=ys(r);return new $(q.INVALID_ARGUMENT,"Function "+t+"() requires its "+Gg(n)+" argument to be a "+e+", but it was: "+s)}function Z1(t,e,n){if(n<=0)throw new $(q.INVALID_ARGUMENT,"Function "+t+"() requires its "+Gg(e)+" argument to be a positive number, but it was: "+n+".")}function Gg(t){switch(t){case 1:return"first";case 2:return"second";case 3:return"third";default:return t+"th"}}function $c(t,e){return t+" "+e+(t===1?"":"s")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fD(t){var e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jC=function(){function t(){}return t.k=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";r.length<20;)for(var s=fD(40),a=0;a<s.length;++a)r.length<20&&s[a]<n&&(r+=e.charAt(s[a]%e.length));return r},t}();function Xe(t,e){return t<e?-1:t>e?1:0}function Cp(t,e,n){return t.length===e.length&&t.every(function(r,s){return n(r,e[s])})}function VC(t){return t+"\0"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wr=function(){function t(e){this.M=e}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(n){for(var r="",s=0;s<n.length;++s)r+=String.fromCharCode(n[s]);return r}(e))},t.prototype.toBase64=function(){return e=this.M,btoa(e);var e},t.prototype.toUint8Array=function(){return function(e){for(var n=new Uint8Array(e.length),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.M)},t.prototype.O=function(){return 2*this.M.length},t.prototype.L=function(e){return Xe(this.M,e.M)},t.prototype.isEqual=function(e){return this.M===e.M},t}();wr.B=new wr("");var JE=function(){function t(e){this.q=e}return t.fromBase64String=function(e){try{return new t(wr.fromBase64String(e))}catch(n){throw new $(q.INVALID_ARGUMENT,"Failed to construct Bytes from Base64 string: "+n)}},t.fromUint8Array=function(e){return new t(wr.fromUint8Array(e))},t.prototype.toBase64=function(){return this.q.toBase64()},t.prototype.toUint8Array=function(){return this.q.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(e){return this.q.isEqual(e.q)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eS(){if(typeof Uint8Array>"u")throw new $(q.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function tS(){if(typeof atob>"u")throw new $(q.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var U_=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return we(e,t),e.fromBase64String=function(n){Dt("Blob.fromBase64String",arguments,1),_n("Blob.fromBase64String","string",1,n),tS();try{return new e(wr.fromBase64String(n))}catch(r){throw new $(q.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+r)}},e.fromUint8Array=function(n){if(Dt("Blob.fromUint8Array",arguments,1),eS(),!(n instanceof Uint8Array))throw uf("Blob.fromUint8Array","Uint8Array",1,n);return new e(wr.fromUint8Array(n))},e.prototype.toBase64=function(){return Dt("Blob.toBase64",arguments,0),tS(),t.prototype.toBase64.call(this)},e.prototype.toUint8Array=function(){return Dt("Blob.toUint8Array",arguments,0),eS(),t.prototype.toUint8Array.call(this)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(JE),hD=function(t,e,n,r,s,a){this.U=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=s,this.W=a},j_=function(){function t(e,n){this.projectId=e,this.database=n||"(default)"}return Object.defineProperty(t.prototype,"j",{get:function(){return this.database==="(default)"},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t.prototype.L=function(e){return Xe(this.projectId,e.projectId)||Xe(this.database,e.database)},t}(),Kp=function(){function t(e,n){this.K=e,this.G=n,this.H={}}return t.prototype.get=function(e){var n=this.K(e),r=this.H[n];if(r!==void 0)for(var s=0,a=r;s<a.length;s++){var c=a[s],h=c[0],d=c[1];if(this.G(h,e))return d}},t.prototype.has=function(e){return this.get(e)!==void 0},t.prototype.set=function(e,n){var r=this.K(e),s=this.H[r];if(s!==void 0){for(var a=0;a<s.length;a++)if(this.G(s[a][0],e))return void(s[a]=[e,n]);s.push([e,n])}else this.H[r]=[[e,n]]},t.prototype.delete=function(e){var n=this.K(e),r=this.H[n];if(r===void 0)return!1;for(var s=0;s<r.length;s++)if(this.G(r[s][0],e))return r.length===1?delete this.H[n]:r.splice(s,1),!0;return!1},t.prototype.forEach=function(e){zp(this.H,function(n,r){for(var s=0,a=r;s<a.length;s++){var c=a[s],h=c[0],d=c[1];e(h,d)}})},t.prototype.m=function(){return OC(this.H)},t}(),Jr=function(){function t(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new $(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new $(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new $(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new $(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.Y=function(e){return this.seconds===e.seconds?Xe(this.nanoseconds,e.nanoseconds):Xe(this.seconds,e.seconds)},t.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),nt=function(){function t(e){this.timestamp=e}return t.J=function(e){return new t(e)},t.min=function(){return new t(new Jr(0,0))},t.prototype.L=function(e){return this.timestamp.Y(e.timestamp)},t.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},t.prototype.X=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.Z=function(){return this.timestamp},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lf(t){return t==null}function Hb(t){return t===0&&1/t==-1/0}function BC(t){return typeof t=="number"&&Number.isInteger(t)&&!Hb(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pD=function(t,e,n,r,s,a,c){e===void 0&&(e=null),n===void 0&&(n=[]),r===void 0&&(r=[]),s===void 0&&(s=null),a===void 0&&(a=null),c===void 0&&(c=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=s,this.startAt=a,this.endAt=c,this.tt=null};function nS(t,e,n,r,s,a,c){return e===void 0&&(e=null),n===void 0&&(n=[]),r===void 0&&(r=[]),s===void 0&&(s=null),a===void 0&&(a=null),c===void 0&&(c=null),new pD(t,e,n,r,s,a,c)}function Wg(t){var e=de(t);if(e.tt===null){var n=e.path.R();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(r){return function(s){return s.field.R()+s.op.toString()+nI(s.value)}(r)}).join(","),n+="|ob:",n+=e.orderBy.map(function(r){return(s=r).field.R()+s.dir;var s}).join(","),lf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e0(e.startAt)),e.endAt&&(n+="|ub:",n+=e0(e.endAt)),e.tt=n}return e.tt}function x0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!HD(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if(s=t.filters[r],a=e.filters[r],s.op!==a.op||!s.field.isEqual(a.field)||!bs(s.value,a.value))return!1;var s,a;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!wS(t.startAt,e.startAt)&&wS(t.endAt,e.endAt)}function zb(t){return ke.F(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gn,st,N0=function(){function t(e,n,r,s,a,c,h){a===void 0&&(a=nt.min()),c===void 0&&(c=nt.min()),h===void 0&&(h=wr.B),this.target=e,this.targetId=n,this.et=r,this.sequenceNumber=s,this.nt=a,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h}return t.prototype.st=function(e){return new t(this.target,this.targetId,this.et,e,this.nt,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.it=function(e,n){return new t(this.target,this.targetId,this.et,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.rt=function(e){return new t(this.target,this.targetId,this.et,this.sequenceNumber,this.nt,e,this.resumeToken)},t}(),dD=function(t){this.count=t};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qC(t){switch(t){case q.OK:return be();case q.CANCELLED:case q.UNKNOWN:case q.DEADLINE_EXCEEDED:case q.RESOURCE_EXHAUSTED:case q.INTERNAL:case q.UNAVAILABLE:case q.UNAUTHENTICATED:return!1;case q.INVALID_ARGUMENT:case q.NOT_FOUND:case q.ALREADY_EXISTS:case q.PERMISSION_DENIED:case q.FAILED_PRECONDITION:case q.ABORTED:case q.OUT_OF_RANGE:case q.UNIMPLEMENTED:case q.DATA_LOSS:return!0;default:return be()}}function GC(t){if(t===void 0)return Xt("GRPC error has no .code"),q.UNKNOWN;switch(t){case gn.OK:return q.OK;case gn.CANCELLED:return q.CANCELLED;case gn.UNKNOWN:return q.UNKNOWN;case gn.DEADLINE_EXCEEDED:return q.DEADLINE_EXCEEDED;case gn.RESOURCE_EXHAUSTED:return q.RESOURCE_EXHAUSTED;case gn.INTERNAL:return q.INTERNAL;case gn.UNAVAILABLE:return q.UNAVAILABLE;case gn.UNAUTHENTICATED:return q.UNAUTHENTICATED;case gn.INVALID_ARGUMENT:return q.INVALID_ARGUMENT;case gn.NOT_FOUND:return q.NOT_FOUND;case gn.ALREADY_EXISTS:return q.ALREADY_EXISTS;case gn.PERMISSION_DENIED:return q.PERMISSION_DENIED;case gn.FAILED_PRECONDITION:return q.FAILED_PRECONDITION;case gn.ABORTED:return q.ABORTED;case gn.OUT_OF_RANGE:return q.OUT_OF_RANGE;case gn.UNIMPLEMENTED:return q.UNIMPLEMENTED;case gn.DATA_LOSS:return q.DATA_LOSS;default:return be()}}(st=gn||(gn={}))[st.OK=0]="OK",st[st.CANCELLED=1]="CANCELLED",st[st.UNKNOWN=2]="UNKNOWN",st[st.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",st[st.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",st[st.NOT_FOUND=5]="NOT_FOUND",st[st.ALREADY_EXISTS=6]="ALREADY_EXISTS",st[st.PERMISSION_DENIED=7]="PERMISSION_DENIED",st[st.UNAUTHENTICATED=16]="UNAUTHENTICATED",st[st.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",st[st.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",st[st.ABORTED=10]="ABORTED",st[st.OUT_OF_RANGE=11]="OUT_OF_RANGE",st[st.UNIMPLEMENTED=12]="UNIMPLEMENTED",st[st.INTERNAL=13]="INTERNAL",st[st.UNAVAILABLE=14]="UNAVAILABLE",st[st.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _r=function(){function t(e,n){this.i=e,this.root=n||Ju.EMPTY}return t.prototype.ot=function(e,n){return new t(this.i,this.root.ot(e,n,this.i).copy(null,null,Ju.at,null,null))},t.prototype.remove=function(e){return new t(this.i,this.root.remove(e,this.i).copy(null,null,Ju.at,null,null))},t.prototype.get=function(e){for(var n=this.root;!n.m();){var r=this.i(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null},t.prototype.indexOf=function(e){for(var n=0,r=this.root;!r.m();){var s=this.i(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1},t.prototype.m=function(){return this.root.m()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.ct=function(){return this.root.ct()},t.prototype.ut=function(){return this.root.ut()},t.prototype.ht=function(e){return this.root.ht(e)},t.prototype.forEach=function(e){this.ht(function(n,r){return e(n,r),!1})},t.prototype.toString=function(){var e=[];return this.ht(function(n,r){return e.push(n+":"+r),!1}),"{"+e.join(", ")+"}"},t.prototype.lt=function(e){return this.root.lt(e)},t.prototype._t=function(){return new hb(this.root,null,this.i,!1)},t.prototype.ft=function(e){return new hb(this.root,e,this.i,!1)},t.prototype.dt=function(){return new hb(this.root,null,this.i,!0)},t.prototype.wt=function(e){return new hb(this.root,e,this.i,!0)},t}(),hb=function(){function t(e,n,r,s){this.Tt=s,this.Et=[];for(var a=1;!e.m();)if(a=n?r(e.key,n):1,s&&(a*=-1),a<0)e=this.Tt?e.left:e.right;else{if(a===0){this.Et.push(e);break}this.Et.push(e),e=this.Tt?e.right:e.left}}return t.prototype.It=function(){var e=this.Et.pop(),n={key:e.key,value:e.value};if(this.Tt)for(e=e.left;!e.m();)this.Et.push(e),e=e.right;else for(e=e.right;!e.m();)this.Et.push(e),e=e.left;return n},t.prototype.At=function(){return this.Et.length>0},t.prototype.Rt=function(){if(this.Et.length===0)return null;var e=this.Et[this.Et.length-1];return{key:e.key,value:e.value}},t}(),Ju=function(){function t(e,n,r,s,a){this.key=e,this.value=n,this.color=r??t.RED,this.left=s??t.EMPTY,this.right=a??t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,s,a){return new t(e??this.key,n??this.value,r??this.color,s??this.left,a??this.right)},t.prototype.m=function(){return!1},t.prototype.ht=function(e){return this.left.ht(e)||e(this.key,this.value)||this.right.ht(e)},t.prototype.lt=function(e){return this.right.lt(e)||e(this.key,this.value)||this.left.lt(e)},t.prototype.min=function(){return this.left.m()?this:this.left.min()},t.prototype.ct=function(){return this.min().key},t.prototype.ut=function(){return this.right.m()?this.key:this.right.ut()},t.prototype.ot=function(e,n,r){var s=this,a=r(e,s.key);return(s=a<0?s.copy(null,null,null,s.left.ot(e,n,r),null):a===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.ot(e,n,r))).gt()},t.prototype.Pt=function(){if(this.left.m())return t.EMPTY;var e=this;return e.left.yt()||e.left.left.yt()||(e=e.Vt()),(e=e.copy(null,null,null,e.left.Pt(),null)).gt()},t.prototype.remove=function(e,n){var r,s=this;if(n(e,s.key)<0)s.left.m()||s.left.yt()||s.left.left.yt()||(s=s.Vt()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.yt()&&(s=s.bt()),s.right.m()||s.right.yt()||s.right.left.yt()||(s=s.vt()),n(e,s.key)===0){if(s.right.m())return t.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.Pt())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.gt()},t.prototype.yt=function(){return this.color},t.prototype.gt=function(){var e=this;return e.right.yt()&&!e.left.yt()&&(e=e.St()),e.left.yt()&&e.left.left.yt()&&(e=e.bt()),e.left.yt()&&e.right.yt()&&(e=e.Dt()),e},t.prototype.Vt=function(){var e=this.Dt();return e.right.left.yt()&&(e=(e=(e=e.copy(null,null,null,null,e.right.bt())).St()).Dt()),e},t.prototype.vt=function(){var e=this.Dt();return e.left.left.yt()&&(e=(e=e.bt()).Dt()),e},t.prototype.St=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.bt=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.Dt=function(){var e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)},t.prototype.Ct=function(){var e=this.Nt();return Math.pow(2,e)<=this.size+1},t.prototype.Nt=function(){if(this.yt()&&this.left.yt()||this.right.yt())throw be();var e=this.left.Nt();if(e!==this.right.Nt())throw be();return e+(this.yt()?0:1)},t}();Ju.EMPTY=null,Ju.RED=!0,Ju.at=!1,Ju.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw be()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw be()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw be()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw be()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw be()},enumerable:!1,configurable:!0}),t.prototype.copy=function(e,n,r,s,a){return this},t.prototype.ot=function(e,n,r){return new Ju(e,n)},t.prototype.remove=function(e,n){return this},t.prototype.m=function(){return!0},t.prototype.ht=function(e){return!1},t.prototype.lt=function(e){return!1},t.prototype.ct=function(){return null},t.prototype.ut=function(){return null},t.prototype.yt=function(){return!1},t.prototype.Ct=function(){return!0},t.prototype.Nt=function(){return 0},t}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pn=function(){function t(e){this.i=e,this.data=new _r(this.i)}return t.prototype.has=function(e){return this.data.get(e)!==null},t.prototype.first=function(){return this.data.ct()},t.prototype.last=function(){return this.data.ut()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(e){return this.data.indexOf(e)},t.prototype.forEach=function(e){this.data.ht(function(n,r){return e(n),!1})},t.prototype.Ft=function(e,n){for(var r=this.data.ft(e[0]);r.At();){var s=r.It();if(this.i(s.key,e[1])>=0)return;n(s.key)}},t.prototype.xt=function(e,n){var r;for(r=n!==void 0?this.data.ft(n):this.data._t();r.At();)if(!e(r.It().key))return},t.prototype.$t=function(e){var n=this.data.ft(e);return n.At()?n.It().key:null},t.prototype._t=function(){return new rS(this.data._t())},t.prototype.ft=function(e){return new rS(this.data.ft(e))},t.prototype.add=function(e){return this.copy(this.data.remove(e).ot(e,!0))},t.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},t.prototype.m=function(){return this.data.m()},t.prototype.kt=function(e){var n=this;return n.size<e.size&&(n=e,e=this),e.forEach(function(r){n=n.add(r)}),n},t.prototype.isEqual=function(e){if(!(e instanceof t)||this.size!==e.size)return!1;for(var n=this.data._t(),r=e.data._t();n.At();){var s=n.It().key,a=r.It().key;if(this.i(s,a)!==0)return!1}return!0},t.prototype.A=function(){var e=[];return this.forEach(function(n){e.push(n)}),e},t.prototype.toString=function(){var e=[];return this.forEach(function(n){return e.push(n)}),"SortedSet("+e.toString()+")"},t.prototype.copy=function(e){var n=new t(this.i);return n.data=e,n},t}(),rS=function(){function t(e){this.Mt=e}return t.prototype.It=function(){return this.Mt.It().key},t.prototype.At=function(){return this.Mt.At()},t}(),vD=new _r(ke.i);function Qc(){return vD}function Kb(){return Qc()}var gD=new _r(ke.i);function bg(){return gD}var mD=new _r(ke.i),yD=new Pn(ke.i);function xt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=yD,r=0,s=t;r<s.length;r++){var a=s[r];n=n.add(a)}return n}var bD=new Pn(Xe);function R0(){return bD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var WC=function(){function t(e){this.i=e?function(n,r){return e(n,r)||ke.i(n.key,r.key)}:function(n,r){return ke.i(n.key,r.key)},this.Ot=bg(),this.Lt=new _r(this.i)}return t.Bt=function(e){return new t(e.i)},t.prototype.has=function(e){return this.Ot.get(e)!=null},t.prototype.get=function(e){return this.Ot.get(e)},t.prototype.first=function(){return this.Lt.ct()},t.prototype.last=function(){return this.Lt.ut()},t.prototype.m=function(){return this.Lt.m()},t.prototype.indexOf=function(e){var n=this.Ot.get(e);return n?this.Lt.indexOf(n):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.Lt.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(e){this.Lt.ht(function(n,r){return e(n),!1})},t.prototype.add=function(e){var n=this.delete(e.key);return n.copy(n.Ot.ot(e.key,e),n.Lt.ot(e,null))},t.prototype.delete=function(e){var n=this.get(e);return n?this.copy(this.Ot.remove(e),this.Lt.remove(n)):this},t.prototype.isEqual=function(e){if(!(e instanceof t)||this.size!==e.size)return!1;for(var n=this.Lt._t(),r=e.Lt._t();n.At();){var s=n.It().key,a=r.It().key;if(!s.isEqual(a))return!1}return!0},t.prototype.toString=function(){var e=[];return this.forEach(function(n){e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`},t.prototype.copy=function(e,n){var r=new t;return r.i=this.i,r.Ot=e,r.Lt=n,r},t}(),iS=function(){function t(){this.qt=new _r(ke.i)}return t.prototype.track=function(e){var n=e.doc.key,r=this.qt.get(n);r?e.type!==0&&r.type===3?this.qt=this.qt.ot(n,e):e.type===3&&r.type!==1?this.qt=this.qt.ot(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.qt=this.qt.ot(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.qt=this.qt.ot(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.qt=this.qt.remove(n):e.type===1&&r.type===2?this.qt=this.qt.ot(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.qt=this.qt.ot(n,{type:2,doc:e.doc}):be():this.qt=this.qt.ot(n,e)},t.prototype.Ut=function(){var e=[];return this.qt.ht(function(n,r){e.push(r)}),e},t}(),Yb=function(){function t(e,n,r,s,a,c,h,d){this.query=e,this.docs=n,this.Qt=r,this.docChanges=s,this.Wt=a,this.fromCache=c,this.jt=h,this.Kt=d}return t.Gt=function(e,n,r,s){var a=[];return n.forEach(function(c){a.push({type:0,doc:c})}),new t(e,n,WC.Bt(n),a,r,s,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.Wt.m()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.jt===e.jt&&this.Wt.isEqual(e.Wt)&&Yp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.Qt.isEqual(e.Qt)))return!1;var n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(var s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0},t}(),ZE=function(){function t(e,n,r,s,a){this.nt=e,this.zt=n,this.Ht=r,this.Yt=s,this.Jt=a}return t.Xt=function(e,n){var r=new Map;return r.set(e,eI.Zt(e,n)),new t(nt.min(),r,R0(),Qc(),xt())},t}(),eI=function(){function t(e,n,r,s,a){this.resumeToken=e,this.te=n,this.ee=r,this.ne=s,this.se=a}return t.Zt=function(e,n){return new t(wr.B,n,xt(),xt(),xt())},t}(),Sb=function(t,e,n,r){this.ie=t,this.removedTargetIds=e,this.key=n,this.re=r},HC=function(t,e){this.targetId=t,this.oe=e},zC=function(t,e,n,r){n===void 0&&(n=wr.B),r===void 0&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},oS=function(){function t(){this.ae=0,this.ce=aS(),this.ue=wr.B,this.he=!1,this.le=!0}return Object.defineProperty(t.prototype,"te",{get:function(){return this.he},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.ue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_e",{get:function(){return this.ae!==0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fe",{get:function(){return this.le},enumerable:!1,configurable:!0}),t.prototype.de=function(e){e.O()>0&&(this.le=!0,this.ue=e)},t.prototype.we=function(){var e=xt(),n=xt(),r=xt();return this.ce.forEach(function(s,a){switch(a){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:be()}}),new eI(this.ue,this.he,e,n,r)},t.prototype.me=function(){this.le=!1,this.ce=aS()},t.prototype.Te=function(e,n){this.le=!0,this.ce=this.ce.ot(e,n)},t.prototype.Ee=function(e){this.le=!0,this.ce=this.ce.remove(e)},t.prototype.Ie=function(){this.ae+=1},t.prototype.Ae=function(){this.ae-=1},t.prototype.Re=function(){this.le=!0,this.he=!0},t}(),wD=function(){function t(e){this.ge=e,this.Pe=new Map,this.ye=Qc(),this.Ve=sS(),this.pe=new Pn(Xe)}return t.prototype.be=function(e){for(var n=0,r=e.ie;n<r.length;n++){var s=r[n];e.re instanceof vt?this.ve(s,e.re):e.re instanceof Hn&&this.Se(s,e.key,e.re)}for(var a=0,c=e.removedTargetIds;a<c.length;a++){var h=c[a];this.Se(h,e.key,e.re)}},t.prototype.De=function(e){var n=this;this.Ce(e,function(r){var s=n.Ne(r);switch(e.state){case 0:n.Fe(r)&&s.de(e.resumeToken);break;case 1:s.Ae(),s._e||s.me(),s.de(e.resumeToken);break;case 2:s.Ae(),s._e||n.removeTarget(r);break;case 3:n.Fe(r)&&(s.Re(),s.de(e.resumeToken));break;case 4:n.Fe(r)&&(n.xe(r),s.de(e.resumeToken));break;default:be()}})},t.prototype.Ce=function(e,n){var r=this;e.targetIds.length>0?e.targetIds.forEach(n):this.Pe.forEach(function(s,a){r.Fe(a)&&n(a)})},t.prototype.$e=function(e){var n=e.targetId,r=e.oe.count,s=this.ke(n);if(s){var a=s.target;if(zb(a))if(r===0){var c=new ke(a.path);this.Se(n,c,new Hn(c,nt.min()))}else Te(r===1);else this.Me(n)!==r&&(this.xe(n),this.pe=this.pe.add(n))}},t.prototype.Oe=function(e){var n=this,r=new Map;this.Pe.forEach(function(c,h){var d=n.ke(h);if(d){if(c.te&&zb(d.target)){var g=new ke(d.target.path);n.ye.get(g)!==null||n.Le(h,g)||n.Se(h,g,new Hn(g,e))}c.fe&&(r.set(h,c.we()),c.me())}});var s=xt();this.Ve.forEach(function(c,h){var d=!0;h.xt(function(g){var y=n.ke(g);return!y||y.et===2||(d=!1,!1)}),d&&(s=s.add(c))});var a=new ZE(e,r,this.pe,this.ye,s);return this.ye=Qc(),this.Ve=sS(),this.pe=new Pn(Xe),a},t.prototype.ve=function(e,n){if(this.Fe(e)){var r=this.Le(e,n.key)?2:0;this.Ne(e).Te(n.key,r),this.ye=this.ye.ot(n.key,n),this.Ve=this.Ve.ot(n.key,this.Be(n.key).add(e))}},t.prototype.Se=function(e,n,r){if(this.Fe(e)){var s=this.Ne(e);this.Le(e,n)?s.Te(n,1):s.Ee(n),this.Ve=this.Ve.ot(n,this.Be(n).delete(e)),r&&(this.ye=this.ye.ot(n,r))}},t.prototype.removeTarget=function(e){this.Pe.delete(e)},t.prototype.Me=function(e){var n=this.Ne(e).we();return this.ge.qe(e).size+n.ee.size-n.se.size},t.prototype.Ie=function(e){this.Ne(e).Ie()},t.prototype.Ne=function(e){var n=this.Pe.get(e);return n||(n=new oS,this.Pe.set(e,n)),n},t.prototype.Be=function(e){var n=this.Ve.get(e);return n||(n=new Pn(Xe),this.Ve=this.Ve.ot(e,n)),n},t.prototype.Fe=function(e){var n=this.ke(e)!==null;return n||ue("WatchChangeAggregator","Detected inactive target",e),n},t.prototype.ke=function(e){var n=this.Pe.get(e);return n&&n._e?null:this.ge.Ue(e)},t.prototype.xe=function(e){var n=this;this.Pe.set(e,new oS),this.ge.qe(e).forEach(function(r){n.Se(e,r,null)})},t.prototype.Le=function(e,n){return this.ge.qe(e).has(n)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sS(){return new _r(ke.i)}function aS(){return new _r(ke.i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tI(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function KC(t){var e=t.mapValue.fields.__previous_value__;return tI(e)?KC(e):e}function wg(t){var e=ul(t.mapValue.fields.__local_write_time__.timestampValue);return new Jr(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _D=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function al(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?tI(t)?4:10:be()}function bs(t,e){var n=al(t);if(n!==al(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return wg(t).isEqual(wg(e));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;var a=ul(r.timestampValue),c=ul(s.timestampValue);return a.seconds===c.seconds&&a.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,s){return xp(r.bytesValue).isEqual(xp(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,s){return yn(r.geoPointValue.latitude)===yn(s.geoPointValue.latitude)&&yn(r.geoPointValue.longitude)===yn(s.geoPointValue.longitude)}(t,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return yn(r.integerValue)===yn(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){var a=yn(r.doubleValue),c=yn(s.doubleValue);return a===c?Hb(a)===Hb(c):isNaN(a)&&isNaN(c)}return!1}(t,e);case 9:return Cp(t.arrayValue.values||[],e.arrayValue.values||[],bs);case 10:return function(r,s){var a=r.mapValue.fields||{},c=s.mapValue.fields||{};if($1(a)!==$1(c))return!1;for(var h in a)if(a.hasOwnProperty(h)&&(c[h]===void 0||!bs(a[h],c[h])))return!1;return!0}(t,e);default:return be()}}function _g(t,e){return(t.values||[]).find(function(n){return bs(n,e)})!==void 0}function kp(t,e){var n=al(t),r=al(e);if(n!==r)return Xe(n,r);switch(n){case 0:return 0;case 1:return Xe(t.booleanValue,e.booleanValue);case 2:return function(s,a){var c=yn(s.integerValue||s.doubleValue),h=yn(a.integerValue||a.doubleValue);return c<h?-1:c>h?1:c===h?0:isNaN(c)?isNaN(h)?0:-1:1}(t,e);case 3:return uS(t.timestampValue,e.timestampValue);case 4:return uS(wg(t),wg(e));case 5:return Xe(t.stringValue,e.stringValue);case 6:return function(s,a){var c=xp(s),h=xp(a);return c.L(h)}(t.bytesValue,e.bytesValue);case 7:return function(s,a){for(var c=s.split("/"),h=a.split("/"),d=0;d<c.length&&d<h.length;d++){var g=Xe(c[d],h[d]);if(g!==0)return g}return Xe(c.length,h.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,a){var c=Xe(yn(s.latitude),yn(a.latitude));return c!==0?c:Xe(yn(s.longitude),yn(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,a){for(var c=s.values||[],h=a.values||[],d=0;d<c.length&&d<h.length;++d){var g=kp(c[d],h[d]);if(g)return g}return Xe(c.length,h.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,a){var c=s.fields||{},h=Object.keys(c),d=a.fields||{},g=Object.keys(d);h.sort(),g.sort();for(var y=0;y<h.length&&y<g.length;++y){var E=Xe(h[y],g[y]);if(E!==0)return E;var I=kp(c[h[y]],d[g[y]]);if(I!==0)return I}return Xe(h.length,g.length)}(t.mapValue,e.mapValue);default:throw be()}}function uS(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Xe(t,e);var n=ul(t),r=ul(e),s=Xe(n.seconds,r.seconds);return s!==0?s:Xe(n.nanos,r.nanos)}function nI(t){return V_(t)}function V_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){var s=ul(r);return"time("+s.seconds+","+s.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?xp(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,ke.C(n).toString()):"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(r){for(var s="[",a=!0,c=0,h=r.values||[];c<h.length;c++)a?a=!1:s+=",",s+=V_(h[c]);return s+"]"}(t.arrayValue):"mapValue"in t?function(r){for(var s="{",a=!0,c=0,h=Object.keys(r.fields||{}).sort();c<h.length;c++){var d=h[c];a?a=!1:s+=",",s+=d+":"+V_(r.fields[d])}return s+"}"}(t.mapValue):be();var e,n}function ul(t){if(Te(!!t),typeof t=="string"){var e=0,n=_D.exec(t);if(Te(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:yn(t.seconds),nanos:yn(t.nanos)}}function yn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function xp(t){return typeof t=="string"?wr.fromBase64String(t):wr.fromUint8Array(t)}function Xb(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.R()}}function B_(t){return!!t&&"integerValue"in t}function rI(t){return!!t&&"arrayValue"in t}function q_(t){return!!t&&"nullValue"in t}function G_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function iI(t){return!!t&&"mapValue"in t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ED={asc:"ASCENDING",desc:"DESCENDING"},ID={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},SD=function(t,e){this.U=t,this.Qe=e};function YC(t){return{integerValue:""+t}}function XC(t,e){if(t.Qe){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hb(e)?"-0":e}}function $C(t,e){return BC(e)?YC(e):XC(t,e)}function $b(t,e){return t.Qe?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function QC(t,e){return t.Qe?e.toBase64():e.toUint8Array()}function TD(t,e){return $b(t,e.Z())}function Po(t){return Te(!!t),nt.J(function(e){var n=ul(e);return new Jr(n.seconds,n.nanos)}(t))}function oI(t,e){return function(n){return new Lt(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).R()}function JC(t){var e=Lt.g(t);return Te(ik(e)),e}function wp(t,e){return oI(t.U,e.path)}function ps(t,e){var n=JC(e);return Te(n.get(1)===t.U.projectId),Te(!n.get(3)&&!t.U.database||n.get(3)===t.U.database),new ke(ek(n))}function W_(t,e){return oI(t.U,e)}function ZC(t){var e=JC(t);return e.length===4?Lt.P():ek(e)}function Eg(t){return new Lt(["projects",t.U.projectId,"databases",t.U.database]).R()}function ek(t){return Te(t.length>4&&t.get(4)==="documents"),t.u(5)}function lS(t,e,n){return{name:wp(t,e),fields:n.proto.mapValue.fields}}function Qb(t,e){var n;if(e instanceof Kg)n={update:lS(t,e.key,e.value)};else if(e instanceof Yg)n={delete:wp(t,e.key)};else if(e instanceof dl)n={update:lS(t,e.key,e.data),updateMask:RD(e.We)};else if(e instanceof cf)n={transform:{document:wp(t,e.key),fieldTransforms:e.fieldTransforms.map(function(r){return function(s,a){var c=a.transform;if(c instanceof Np)return{fieldPath:a.field.R(),setToServerValue:"REQUEST_TIME"};if(c instanceof Jc)return{fieldPath:a.field.R(),appendMissingElements:{values:c.elements}};if(c instanceof Zc)return{fieldPath:a.field.R(),removeAllFromArray:{values:c.elements}};if(c instanceof Rp)return{fieldPath:a.field.R(),increment:c.je};throw be()}(0,r)})}};else{if(!(e instanceof sI))return be();n={verify:wp(t,e.key)}}return e.Ge.Ke||(n.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:TD(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:be()}(t,e.Ge)),n}function cS(t,e){var n=e.currentDocument?function(y){return y.updateTime!==void 0?dr.updateTime(Po(y.updateTime)):y.exists!==void 0?dr.exists(y.exists):dr.ze()}(e.currentDocument):dr.ze();if(e.update){e.update.name;var r=ps(t,e.update.name),s=new ll({mapValue:{fields:e.update.fields}});if(e.updateMask){var a=function(y){var E=y.fieldPaths||[];return new Op(E.map(function(I){return Mo.S(I)}))}(e.updateMask);return new dl(r,s,a,n)}return new Kg(r,s,n)}if(e.delete){var c=ps(t,e.delete);return new Yg(c,n)}if(e.transform){var h=ps(t,e.transform.document),d=e.transform.fieldTransforms.map(function(y){return function(E,I){var T=null;if("setToServerValue"in I)Te(I.setToServerValue==="REQUEST_TIME"),T=new Np;else if("appendMissingElements"in I){var x=I.appendMissingElements.values||[];T=new Jc(x)}else if("removeAllFromArray"in I){var A=I.removeAllFromArray.values||[];T=new Zc(A)}else"increment"in I?T=new Rp(E,I.increment):be();var N=Mo.S(I.fieldPath);return new Hg(N,T)}(t,y)});return Te(n.exists===!0),new cf(h,d)}if(e.verify){var g=ps(t,e.verify);return new sI(g,n)}return be()}function tk(t,e){return{documents:[W_(t,e.path)]}}function nk(t,e){var n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=W_(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=W_(t,r.h()),n.structuredQuery.from=[{collectionId:r._()}]);var s=function(h){if(h.length!==0){var d=h.map(function(g){return function(y){if(y.op==="=="){if(G_(y.value))return{unaryFilter:{field:up(y.field),op:"IS_NAN"}};if(q_(y.value))return{unaryFilter:{field:up(y.field),op:"IS_NULL"}}}else if(y.op==="!="){if(G_(y.value))return{unaryFilter:{field:up(y.field),op:"IS_NOT_NAN"}};if(q_(y.value))return{unaryFilter:{field:up(y.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:up(y.field),op:kD(y.op),value:y.value}}}(g)});return d.length===1?d[0]:{compositeFilter:{op:"AND",filters:d}}}}(e.filters);s&&(n.structuredQuery.where=s);var a=function(h){if(h.length!==0)return h.map(function(d){return function(g){return{field:up(g.field),direction:CD(g.dir)}}(d)})}(e.orderBy);a&&(n.structuredQuery.orderBy=a);var c=function(h,d){return h.Qe||lf(d)?d:{value:d}}(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=fS(e.startAt)),e.endAt&&(n.structuredQuery.endAt=fS(e.endAt)),n}function AD(t){var e=ZC(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,s=null;if(r>0){Te(r===1);var a=n.from[0];a.allDescendants?s=a.collectionId:e=e.child(a.collectionId)}var c=[];n.where&&(c=rk(n.where));var h=[];n.orderBy&&(h=n.orderBy.map(function(E){return function(I){return new _p(vp(I.field),function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction))}(E)}));var d=null;n.limit&&(d=function(E){var I;return lf(I=typeof E=="object"?E.value:E)?null:I}(n.limit));var g=null;n.startAt&&(g=hS(n.startAt));var y=null;return n.endAt&&(y=hS(n.endAt)),ws(pk(e,s,h,c,d,"F",g,y))}function rk(t){return t?t.unaryFilter!==void 0?[ND(t)]:t.fieldFilter!==void 0?[xD(t)]:t.compositeFilter!==void 0?t.compositeFilter.filters.map(function(e){return rk(e)}).reduce(function(e,n){return e.concat(n)}):be():[]}function fS(t){return{before:t.before,values:t.position}}function hS(t){var e=!!t.before,n=t.values||[];return new Ig(n,e)}function CD(t){return ED[t]}function kD(t){return ID[t]}function up(t){return{fieldPath:t.R()}}function vp(t){return Mo.S(t.fieldPath)}function xD(t){return vi.create(vp(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return be()}}(t.fieldFilter.op),t.fieldFilter.value)}function ND(t){switch(t.unaryFilter.op){case"IS_NAN":var e=vp(t.unaryFilter.field);return vi.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=vp(t.unaryFilter.field);return vi.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=vp(t.unaryFilter.field);return vi.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var s=vp(t.unaryFilter.field);return vi.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return be()}}function RD(t){var e=[];return t.fields.forEach(function(n){return e.push(n.R())}),{fieldPaths:e}}function ik(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var O0=function(){this.He=void 0};function OD(t,e,n){return t instanceof Np?function(r,s){var a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&(a.fields.__previous_value__=s),{mapValue:a}}(n,e):t instanceof Jc?sk(t,e):t instanceof Zc?ak(t,e):function(r,s){var a=ok(r,s),c=pS(a)+pS(r.je);return B_(a)&&B_(r.je)?YC(c):XC(r.serializer,c)}(t,e)}function PD(t,e,n){return t instanceof Jc?sk(t,e):t instanceof Zc?ak(t,e):n}function ok(t,e){return t instanceof Rp?B_(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}var Np=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return we(e,t),e}(O0),Jc=function(t){function e(n){var r=this;return(r=t.call(this)||this).elements=n,r}return we(e,t),e}(O0);function sk(t,e){for(var n=uk(e),r=function(c){n.some(function(h){return bs(h,c)})||n.push(c)},s=0,a=t.elements;s<a.length;s++)r(a[s]);return{arrayValue:{values:n}}}var Zc=function(t){function e(n){var r=this;return(r=t.call(this)||this).elements=n,r}return we(e,t),e}(O0);function ak(t,e){for(var n=uk(e),r=function(c){n=n.filter(function(h){return!bs(h,c)})},s=0,a=t.elements;s<a.length;s++)r(a[s]);return{arrayValue:{values:n}}}var Rp=function(t){function e(n,r){var s=this;return(s=t.call(this)||this).serializer=n,s.je=r,s}return we(e,t),e}(O0);function pS(t){return yn(t.integerValue||t.doubleValue)}function uk(t){return rI(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Op=function(){function t(e){this.fields=e,e.sort(Mo.i)}return t.prototype.Ye=function(e){for(var n=0,r=this.fields;n<r.length;n++)if(r[n].T(e))return!0;return!1},t.prototype.isEqual=function(e){return Cp(this.fields,e.fields,function(n,r){return n.isEqual(r)})},t}(),Hg=function(t,e){this.field=t,this.transform=e},DD=function(t,e){this.version=t,this.transformResults=e},dr=function(){function t(e,n){this.updateTime=e,this.exists=n}return t.ze=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"Ke",{get:function(){return this.updateTime===void 0&&this.exists===void 0},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)},t}();function gp(t,e){return t.updateTime!==void 0?e instanceof vt&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e instanceof vt}var zg=function(){};function LD(t,e,n){return t instanceof Kg?function(r,s,a){return new vt(r.key,a.version,r.value,{hasCommittedMutations:!0})}(t,0,n):t instanceof dl?function(r,s,a){if(!gp(r.Ge,s))return new Jb(r.key,a.version);var c=lk(r,s);return new vt(r.key,a.version,c,{hasCommittedMutations:!0})}(t,e,n):t instanceof cf?function(r,s,a){if(Te(a.transformResults!=null),!gp(r.Ge,s))return new Jb(r.key,a.version);var c=ck(r,s),h=function(y,E,I){var T=[];Te(y.length===I.length);for(var x=0;x<I.length;x++){var A=y[x],N=A.transform,D=null;E instanceof vt&&(D=E.field(A.field)),T.push(PD(N,D,I[x]))}return T}(r.fieldTransforms,s,a.transformResults),d=a.version,g=fk(r,c.data(),h);return new vt(r.key,d,g,{hasCommittedMutations:!0})}(t,e,n):function(r,s,a){return new Hn(r.key,a.version,{hasCommittedMutations:!0})}(t,0,n)}function H_(t,e,n,r){return t instanceof Kg?function(s,a){if(!gp(s.Ge,a))return a;var c=vS(a);return new vt(s.key,c,s.value,{Je:!0})}(t,e):t instanceof dl?function(s,a){if(!gp(s.Ge,a))return a;var c=vS(a),h=lk(s,a);return new vt(s.key,c,h,{Je:!0})}(t,e):t instanceof cf?function(s,a,c,h){if(!gp(s.Ge,a))return a;var d=ck(s,a),g=function(E,I,T,x){for(var A=[],N=0,D=E;N<D.length;N++){var L=D[N],H=L.transform,X=null;T instanceof vt&&(X=T.field(L.field)),X===null&&x instanceof vt&&(X=x.field(L.field)),A.push(OD(H,X,I))}return A}(s.fieldTransforms,c,a,h),y=fk(s,d.data(),g);return new vt(s.key,d.version,y,{Je:!0})}(t,e,r,n):function(s,a){return gp(s.Ge,a)?new Hn(s.key,nt.min()):a}(t,e)}function MD(t,e){return t instanceof cf?function(n,r){for(var s=null,a=0,c=n.fieldTransforms;a<c.length;a++){var h=c[a],d=r instanceof vt?r.field(h.field):void 0,g=ok(h.transform,d||null);g!=null&&(s=s==null?new Xg().set(h.field,g):s.set(h.field,g))}return s?s.Xe():null}(t,e):null}function dS(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.Ge.isEqual(e.Ge)&&(t.type===0?t.value.isEqual(e.value):t.type===1?t.data.isEqual(e.data)&&t.We.isEqual(e.We):t.type!==2||Cp(t.fieldTransforms,t.fieldTransforms,function(n,r){return function(s,a){return s.field.isEqual(a.field)&&function(c,h){return c instanceof Jc&&h instanceof Jc||c instanceof Zc&&h instanceof Zc?Cp(c.elements,h.elements,bs):c instanceof Rp&&h instanceof Rp?bs(c.je,h.je):c instanceof Np&&h instanceof Np}(s.transform,a.transform)}(n,r)}))}function vS(t){return t instanceof vt?t.version:nt.min()}var Kg=function(t){function e(n,r,s){var a=this;return(a=t.call(this)||this).key=n,a.value=r,a.Ge=s,a.type=0,a}return we(e,t),e}(zg),dl=function(t){function e(n,r,s,a){var c=this;return(c=t.call(this)||this).key=n,c.data=r,c.We=s,c.Ge=a,c.type=1,c}return we(e,t),e}(zg);function lk(t,e){return function(n,r){var s=new Xg(r);return n.We.fields.forEach(function(a){if(!a.m()){var c=n.data.field(a);c!==null?s.set(a,c):s.delete(a)}}),s.Xe()}(t,e instanceof vt?e.data():ll.empty())}var cf=function(t){function e(n,r){var s=this;return(s=t.call(this)||this).key=n,s.fieldTransforms=r,s.type=2,s.Ge=dr.exists(!0),s}return we(e,t),e}(zg);function ck(t,e){return e}function fk(t,e,n){for(var r=new Xg(e),s=0;s<t.fieldTransforms.length;s++){var a=t.fieldTransforms[s];r.set(a.field,n[s])}return r.Xe()}var Yg=function(t){function e(n,r){var s=this;return(s=t.call(this)||this).key=n,s.Ge=r,s.type=3,s}return we(e,t),e}(zg),sI=function(t){function e(n,r){var s=this;return(s=t.call(this)||this).key=n,s.Ge=r,s.type=4,s}return we(e,t),e}(zg),ll=function(){function t(e){this.proto=e}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(e){if(e.m())return this.proto;for(var n=this.proto,r=0;r<e.length-1;++r)if(!n.mapValue.fields||!iI(n=n.mapValue.fields[e.get(r)]))return null;return(n=(n.mapValue.fields||{})[e._()])||null},t.prototype.isEqual=function(e){return bs(this.proto,e.proto)},t}(),Xg=function(){function t(e){e===void 0&&(e=ll.empty()),this.Ze=e,this.tn=new Map}return t.prototype.set=function(e,n){return this.en(e,n),this},t.prototype.delete=function(e){return this.en(e,null),this},t.prototype.en=function(e,n){for(var r=this.tn,s=0;s<e.length-1;++s){var a=e.get(s),c=r.get(a);c instanceof Map?r=c:c&&al(c)===10?(c=new Map(Object.entries(c.mapValue.fields||{})),r.set(a,c),r=c):(c=new Map,r.set(a,c),r=c)}r.set(e._(),n)},t.prototype.Xe=function(){var e=this.nn(Mo.P(),this.tn);return e!=null?new ll(e):this.Ze},t.prototype.nn=function(e,n){var r=this,s=!1,a=this.Ze.field(e),c=iI(a)?Object.assign({},a.mapValue.fields):{};return n.forEach(function(h,d){if(h instanceof Map){var g=r.nn(e.child(d),h);g!=null&&(c[d]=g,s=!0)}else h!==null?(c[d]=h,s=!0):c.hasOwnProperty(d)&&(delete c[d],s=!0)}),s?{mapValue:{fields:c}}:null},t}();function hk(t){var e=[];return zp(t.fields||{},function(n,r){var s=new Mo([n]);if(iI(r)){var a=hk(r.mapValue).fields;if(a.length===0)e.push(s);else for(var c=0,h=a;c<h.length;c++){var d=h[c];e.push(s.child(d))}}else e.push(s)}),new Op(e)}var aI=function(t,e){this.key=t,this.version=e},vt=function(t){function e(n,r,s,a){var c=this;return(c=t.call(this,n,r)||this).sn=s,c.Je=!!a.Je,c.hasCommittedMutations=!!a.hasCommittedMutations,c}return we(e,t),e.prototype.field=function(n){return this.sn.field(n)},e.prototype.data=function(){return this.sn},e.prototype.rn=function(){return this.sn.proto},e.prototype.isEqual=function(n){return n instanceof e&&this.key.isEqual(n.key)&&this.version.isEqual(n.version)&&this.Je===n.Je&&this.hasCommittedMutations===n.hasCommittedMutations&&this.sn.isEqual(n.sn)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.sn.toString()+", {hasLocalMutations: "+this.Je+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.Je||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(aI),Hn=function(t){function e(n,r,s){var a=this;return(a=t.call(this,n,r)||this).hasCommittedMutations=!(!s||!s.hasCommittedMutations),a}return we(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(n){return n instanceof e&&n.hasCommittedMutations===this.hasCommittedMutations&&n.version.isEqual(this.version)&&n.key.isEqual(this.key)},e}(aI),Jb=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return we(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(n){return n instanceof e&&n.version.isEqual(this.version)&&n.key.isEqual(this.key)},e}(aI),Sa=function(t,e,n,r,s,a,c,h){e===void 0&&(e=null),n===void 0&&(n=[]),r===void 0&&(r=[]),s===void 0&&(s=null),a===void 0&&(a="F"),c===void 0&&(c=null),h===void 0&&(h=null),this.path=t,this.collectionGroup=e,this.on=n,this.filters=r,this.limit=s,this.an=a,this.startAt=c,this.endAt=h,this.cn=null,this.un=null,this.startAt,this.endAt};function pk(t,e,n,r,s,a,c,h){return new Sa(t,e,n,r,s,a,c,h)}function $g(t){return new Sa(t)}function Tb(t){return!lf(t.limit)&&t.an==="F"}function Zb(t){return!lf(t.limit)&&t.an==="L"}function uI(t){return t.on.length>0?t.on[0].field:null}function lI(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.hn())return r.field}return null}function cI(t){return t.collectionGroup!==null}function Pp(t){var e=de(t);if(e.cn===null){e.cn=[];var n=lI(e),r=uI(e);if(n!==null&&r===null)n.p()||e.cn.push(new _p(n)),e.cn.push(new _p(Mo.v(),"asc"));else{for(var s=!1,a=0,c=e.on;a<c.length;a++){var h=c[a];e.cn.push(h),h.field.p()&&(s=!0)}if(!s){var d=e.on.length>0?e.on[e.on.length-1].dir:"asc";e.cn.push(new _p(Mo.v(),d))}}}return e.cn}function ws(t){var e=de(t);if(!e.un)if(e.an==="F")e.un=nS(e.path,e.collectionGroup,Pp(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,s=Pp(e);r<s.length;r++){var a=s[r],c=a.dir==="desc"?"asc":"desc";n.push(new _p(a.field,c))}var h=e.endAt?new Ig(e.endAt.position,!e.endAt.before):null,d=e.startAt?new Ig(e.startAt.position,!e.startAt.before):null;e.un=nS(e.path,e.collectionGroup,n,e.filters,e.limit,h,d)}return e.un}function gS(t,e,n){return new Sa(t.path,t.collectionGroup,t.on.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function mS(t,e){return new Sa(t.path,t.collectionGroup,t.on.slice(),t.filters.slice(),t.limit,t.an,e,t.endAt)}function yS(t,e){return new Sa(t.path,t.collectionGroup,t.on.slice(),t.filters.slice(),t.limit,t.an,t.startAt,e)}function Yp(t,e){return x0(ws(t),ws(e))&&t.an===e.an}function dk(t){return Wg(ws(t))+"|lt:"+t.an}function z_(t){return"Query(target="+function(e){var n=e.path.R();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=", filters: ["+e.filters.map(function(r){return(s=r).field.R()+" "+s.op+" "+nI(s.value);var s}).join(", ")+"]"),lf(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=", orderBy: ["+e.orderBy.map(function(r){return(s=r).field.R()+" ("+s.dir+")";var s}).join(", ")+"]"),e.startAt&&(n+=", startAt: "+e0(e.startAt)),e.endAt&&(n+=", endAt: "+e0(e.endAt)),"Target("+n+")"}(ws(t))+"; limitType="+t.an+")"}function Qg(t,e){return function(n,r){var s=r.key.path;return n.collectionGroup!==null?r.key.N(n.collectionGroup)&&n.path.T(s):ke.F(n.path)?n.path.isEqual(s):n.path.I(s)}(t,e)&&function(n,r){for(var s=0,a=n.on;s<a.length;s++){var c=a[s];if(!c.field.p()&&r.field(c.field)===null)return!1}return!0}(t,e)&&function(n,r){for(var s=0,a=n.filters;s<a.length;s++)if(!a[s].matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!bS(n.startAt,Pp(n),r))&&(!n.endAt||!bS(n.endAt,Pp(n),r))}(t,e)}function vk(t){return function(e,n){for(var r=!1,s=0,a=Pp(t);s<a.length;s++){var c=a[s],h=WD(c,e,n);if(h!==0)return h;r=r||c.field.p()}return 0}}var vi=function(t){function e(n,r,s){var a=this;return(a=t.call(this)||this).field=n,a.op=r,a.value=s,a}return we(e,t),e.create=function(n,r,s){if(n.p())return r==="in"||r==="not-in"?this.ln(n,r,s):new FD(n,r,s);if(q_(s)){if(r!=="=="&&r!=="!=")throw new $(q.INVALID_ARGUMENT,"Invalid query. Null only supports '==' and '!=' comparisons.");return new e(n,r,s)}if(G_(s)){if(r!=="=="&&r!=="!=")throw new $(q.INVALID_ARGUMENT,"Invalid query. NaN only supports '==' and '!=' comparisons.");return new e(n,r,s)}return r==="array-contains"?new VD(n,s):r==="in"?new BD(n,s):r==="not-in"?new qD(n,s):r==="array-contains-any"?new GD(n,s):new e(n,r,s)},e.ln=function(n,r,s){return r==="in"?new UD(n,s):new jD(n,s)},e.prototype.matches=function(n){var r=n.field(this.field);return this.op==="!="?r!==null&&this._n(kp(r,this.value)):r!==null&&al(this.value)===al(r)&&this._n(kp(r,this.value))},e.prototype._n=function(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return n===0;case"!=":return n!==0;case">":return n>0;case">=":return n>=0;default:return be()}},e.prototype.hn=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),FD=function(t){function e(n,r,s){var a=this;return(a=t.call(this,n,r,s)||this).key=ke.C(s.referenceValue),a}return we(e,t),e.prototype.matches=function(n){var r=ke.i(n.key,this.key);return this._n(r)},e}(vi),UD=function(t){function e(n,r){var s=this;return(s=t.call(this,n,"in",r)||this).keys=gk("in",r),s}return we(e,t),e.prototype.matches=function(n){return this.keys.some(function(r){return r.isEqual(n.key)})},e}(vi),jD=function(t){function e(n,r){var s=this;return(s=t.call(this,n,"not-in",r)||this).keys=gk("not-in",r),s}return we(e,t),e.prototype.matches=function(n){return!this.keys.some(function(r){return r.isEqual(n.key)})},e}(vi);function gk(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(function(r){return ke.C(r.referenceValue)})}var VD=function(t){function e(n,r){return t.call(this,n,"array-contains",r)||this}return we(e,t),e.prototype.matches=function(n){var r=n.field(this.field);return rI(r)&&_g(r.arrayValue,this.value)},e}(vi),BD=function(t){function e(n,r){return t.call(this,n,"in",r)||this}return we(e,t),e.prototype.matches=function(n){var r=n.field(this.field);return r!==null&&_g(this.value.arrayValue,r)},e}(vi),qD=function(t){function e(n,r){return t.call(this,n,"not-in",r)||this}return we(e,t),e.prototype.matches=function(n){if(_g(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var r=n.field(this.field);return r!==null&&!_g(this.value.arrayValue,r)},e}(vi),GD=function(t){function e(n,r){return t.call(this,n,"array-contains-any",r)||this}return we(e,t),e.prototype.matches=function(n){var r=this,s=n.field(this.field);return!(!rI(s)||!s.arrayValue.values)&&s.arrayValue.values.some(function(a){return _g(r.value.arrayValue,a)})},e}(vi),Ig=function(t,e){this.position=t,this.before=e};function e0(t){return(t.before?"b":"a")+":"+t.position.map(function(e){return nI(e)}).join(",")}function bS(t,e,n){for(var r=0,s=0;s<t.position.length;s++){var a=e[s],c=t.position[s];if(r=a.field.p()?ke.i(ke.C(c.referenceValue),n.key):kp(c,n.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return t.before?r<=0:r<0}function wS(t,e){if(t===null)return e===null;if(e===null||t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!bs(t.position[n],e.position[n]))return!1;return!0}var _p=function(t,e){e===void 0&&(e="asc"),this.field=t,this.dir=e};function WD(t,e,n){var r=t.field.p()?ke.i(e.key,n.key):function(s,a,c){var h=a.field(s),d=c.field(s);return h!==null&&d!==null?kp(h,d):be()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return be()}}function HD(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fi=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},fI=function(){function t(e,n,r,s,a){r===void 0&&(r=1e3),s===void 0&&(s=1.5),a===void 0&&(a=6e4),this.fn=e,this.dn=n,this.wn=r,this.mn=s,this.Tn=a,this.En=0,this.In=null,this.An=Date.now(),this.reset()}return t.prototype.reset=function(){this.En=0},t.prototype.Rn=function(){this.En=this.Tn},t.prototype.gn=function(e){var n=this;this.cancel();var r=Math.floor(this.En+this.Pn()),s=Math.max(0,Date.now()-this.An),a=Math.max(0,r-s);a>0&&ue("ExponentialBackoff","Backing off for "+a+" ms (base delay: "+this.En+" ms, delay with jitter: "+r+" ms, last attempt: "+s+" ms ago)"),this.In=this.fn.yn(this.dn,a,function(){return n.An=Date.now(),e()}),this.En*=this.mn,this.En<this.wn&&(this.En=this.wn),this.En>this.Tn&&(this.En=this.Tn)},t.prototype.Vn=function(){this.In!==null&&(this.In.pn(),this.In=null)},t.prototype.cancel=function(){this.In!==null&&(this.In.cancel(),this.In=null)},t.prototype.Pn=function(){return(Math.random()-.5)*this.En},t}(),oe=function(){function t(e){var n=this;this.bn=null,this.vn=null,this.result=void 0,this.error=void 0,this.Sn=!1,this.Dn=!1,e(function(r){n.Sn=!0,n.result=r,n.bn&&n.bn(r)},function(r){n.Sn=!0,n.error=r,n.vn&&n.vn(r)})}return t.prototype.catch=function(e){return this.next(void 0,e)},t.prototype.next=function(e,n){var r=this;return this.Dn&&be(),this.Dn=!0,this.Sn?this.error?this.Cn(n,this.error):this.Nn(e,this.result):new t(function(s,a){r.bn=function(c){r.Nn(e,c).next(s,a)},r.vn=function(c){r.Cn(n,c).next(s,a)}})},t.prototype.Fn=function(){var e=this;return new Promise(function(n,r){e.next(n,r)})},t.prototype.xn=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(r){return t.reject(r)}},t.prototype.Nn=function(e,n){return e?this.xn(function(){return e(n)}):t.resolve(n)},t.prototype.Cn=function(e,n){return e?this.xn(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(n,r){n(e)})},t.reject=function(e){return new t(function(n,r){r(e)})},t.$n=function(e){return new t(function(n,r){var s=0,a=0,c=!1;e.forEach(function(h){++s,h.next(function(){++a,c&&a===s&&n()},function(d){return r(d)})}),c=!0,a===s&&n()})},t.kn=function(e){for(var n=t.resolve(!1),r=function(c){n=n.next(function(h){return h?t.resolve(h):c()})},s=0,a=e;s<a.length;s++)r(a[s]);return n},t.forEach=function(e,n){var r=this,s=[];return e.forEach(function(a,c){s.push(n.call(r,a,c))}),this.$n(s)},t}(),Ep=function(){function t(e,n,r){this.name=e,this.version=n,this.Mn=r,t.On(zc())===12.2&&Xt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(e){return ue("SimpleDb","Removing database:",e),Uc(window.indexedDB.deleteDatabase(e)).Fn()},t.Ln=function(){if(typeof indexedDB>"u")return!1;if(t.Bn())return!0;var e=zc(),n=t.On(e),r=0<n&&n<10,s=t.qn(e),a=0<s&&s<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||a)},t.Bn=function(){var e;return typeof process<"u"&&((e=lD)===null||e===void 0?void 0:e.Un)==="YES"},t.Qn=function(e,n){return e.store(n)},t.On=function(e){var n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)},t.qn=function(e){var n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)},t.prototype.Wn=function(e){return B(this,void 0,void 0,function(){var n,r=this;return j(this,function(s){switch(s.label){case 0:return this.db?[3,2]:(ue("SimpleDb","Opening database:",this.name),n=this,[4,new Promise(function(a,c){var h=indexedDB.open(r.name,r.version);h.onsuccess=function(d){var g=d.target.result;a(g)},h.onblocked=function(){c(new sg(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},h.onerror=function(d){var g=d.target.error;g.name==="VersionError"?c(new $(q.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):c(new sg(e,g))},h.onupgradeneeded=function(d){ue("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',d.oldVersion);var g=d.target.result;r.Mn.createOrUpgrade(g,h.transaction,d.oldVersion,r.version).next(function(){ue("SimpleDb","Database upgrade to version "+r.version+" complete")})}})]);case 1:n.db=s.sent(),s.label=2;case 2:return[2,(this.jn&&(this.db.onversionchange=function(a){return r.jn(a)}),this.db)]}})})},t.prototype.Kn=function(e){this.jn=e,this.db&&(this.db.onversionchange=function(n){return e(n)})},t.prototype.runTransaction=function(e,n,r,s){return B(this,void 0,void 0,function(){var a,c,h,d,g;return j(this,function(y){switch(y.label){case 0:a=n==="readonly",c=0,h=function(){var E,I,T,x,A;return j(this,function(N){switch(N.label){case 0:++c,N.label=1;case 1:return N.trys.push([1,4,,5]),[4,d.Wn(e)];case 2:return d.db=N.sent(),E=mk.open(d.db,e,a?"readonly":"readwrite",r),I=s(E).catch(function(D){return E.abort(D),oe.reject(D)}).Fn(),T={},I.catch(function(){}),[4,E.Gn];case 3:return[2,(T.value=(N.sent(),I),T)];case 4:return x=N.sent(),A=x.name!=="FirebaseError"&&c<3,ue("SimpleDb","Transaction failed with error:",x.message,"Retrying:",A),d.close(),A?[3,5]:[2,{value:Promise.reject(x)}];case 5:return[2]}})},d=this,y.label=1;case 1:return[5,h()];case 2:if(typeof(g=y.sent())=="object")return[2,g.value];y.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),zD=function(){function t(e){this.zn=e,this.Hn=!1,this.Yn=null}return Object.defineProperty(t.prototype,"Sn",{get:function(){return this.Hn},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Jn",{get:function(){return this.Yn},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(e){this.zn=e},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Hn=!0},t.prototype.Xn=function(e){this.Yn=e},t.prototype.delete=function(){return Uc(this.zn.delete())},t}(),sg=function(t){function e(n,r){var s=this;return(s=t.call(this,q.UNAVAILABLE,"IndexedDB transaction '"+n+"' failed: "+r)||this).name="IndexedDbTransactionError",s}return we(e,t),e}($);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ff(t){return t.name==="IndexedDbTransactionError"}var mk=function(){function t(e,n){var r=this;this.action=e,this.transaction=n,this.aborted=!1,this.Zn=new fi,this.transaction.oncomplete=function(){r.Zn.resolve()},this.transaction.onabort=function(){n.error?r.Zn.reject(new sg(e,n.error)):r.Zn.resolve()},this.transaction.onerror=function(s){var a=hI(s.target.error);r.Zn.reject(new sg(e,a))}}return t.open=function(e,n,r,s){try{return new t(n,e.transaction(s,r))}catch(a){throw new sg(n,a)}},Object.defineProperty(t.prototype,"Gn",{get:function(){return this.Zn.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(e){e&&this.Zn.reject(e),this.aborted||(ue("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(e){var n=this.transaction.objectStore(e);return new KD(n)},t}(),KD=function(){function t(e){this.store=e}return t.prototype.put=function(e,n){var r;return n!==void 0?(ue("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(ue("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Uc(r)},t.prototype.add=function(e){return ue("SimpleDb","ADD",this.store.name,e,e),Uc(this.store.add(e))},t.prototype.get=function(e){var n=this;return Uc(this.store.get(e)).next(function(r){return r===void 0&&(r=null),ue("SimpleDb","GET",n.store.name,e,r),r})},t.prototype.delete=function(e){return ue("SimpleDb","DELETE",this.store.name,e),Uc(this.store.delete(e))},t.prototype.count=function(){return ue("SimpleDb","COUNT",this.store.name),Uc(this.store.count())},t.prototype.ts=function(e,n){var r=this.cursor(this.options(e,n)),s=[];return this.es(r,function(a,c){s.push(c)}).next(function(){return s})},t.prototype.ns=function(e,n){ue("SimpleDb","DELETE ALL",this.store.name);var r=this.options(e,n);r.ss=!1;var s=this.cursor(r);return this.es(s,function(a,c,h){return h.delete()})},t.prototype.rs=function(e,n){var r;n?r=e:(r={},n=e);var s=this.cursor(r);return this.es(s,n)},t.prototype.os=function(e){var n=this.cursor({});return new oe(function(r,s){n.onerror=function(a){var c=hI(a.target.error);s(c)},n.onsuccess=function(a){var c=a.target.result;c?e(c.primaryKey,c.value).next(function(h){h?c.continue():r()}):r()}})},t.prototype.es=function(e,n){var r=[];return new oe(function(s,a){e.onerror=function(c){a(c.target.error)},e.onsuccess=function(c){var h=c.target.result;if(h){var d=new zD(h),g=n(h.primaryKey,h.value,d);if(g instanceof oe){var y=g.catch(function(E){return d.done(),oe.reject(E)});r.push(y)}d.Sn?s():d.Jn===null?h.continue():h.continue(d.Jn)}else s()}}).next(function(){return oe.$n(r)})},t.prototype.options=function(e,n){var r=void 0;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}},t.prototype.cursor=function(e){var n="next";if(e.reverse&&(n="prev"),e.index){var r=this.store.index(e.index);return e.ss?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)},t}();function Uc(t){return new oe(function(e,n){t.onsuccess=function(r){var s=r.target.result;e(s)},t.onerror=function(r){var s=hI(r.target.error);n(s)}})}var _S=!1;function hI(t){var e=Ep.On(zc());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new $("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return _S||(_S=!0,setTimeout(function(){throw r},0)),r}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ES(){return typeof window<"u"?window:null}function Ab(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var YD=function(){function t(e,n,r,s,a){this.cs=e,this.dn=n,this.us=r,this.op=s,this.hs=a,this.ls=new fi,this.then=this.ls.promise.then.bind(this.ls.promise),this.ls.promise.catch(function(c){})}return t._s=function(e,n,r,s,a){var c=new t(e,n,Date.now()+r,s,a);return c.start(r),c},t.prototype.start=function(e){var n=this;this.fs=setTimeout(function(){return n.ds()},e)},t.prototype.pn=function(){return this.ds()},t.prototype.cancel=function(e){this.fs!==null&&(this.clearTimeout(),this.ls.reject(new $(q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},t.prototype.ds=function(){var e=this;this.cs.ws(function(){return e.fs!==null?(e.clearTimeout(),e.op().then(function(n){return e.ls.resolve(n)})):Promise.resolve()})},t.prototype.clearTimeout=function(){this.fs!==null&&(this.hs(this),clearTimeout(this.fs),this.fs=null)},t}(),XD=function(){function t(){var e=this;this.Ts=Promise.resolve(),this.Es=[],this.Is=!1,this.As=[],this.Rs=null,this.gs=!1,this.Ps=[],this.ys=new fI(this,"async_queue_retry"),this.Vs=function(){var r=Ab();r&&ue("AsyncQueue","Visibility state changed to  ",r.visibilityState),e.ys.Vn()};var n=Ab();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vs)}return Object.defineProperty(t.prototype,"ps",{get:function(){return this.Is},enumerable:!1,configurable:!0}),t.prototype.ws=function(e){this.enqueue(e)},t.prototype.bs=function(e){this.vs(),this.Ss(e)},t.prototype.Ds=function(){if(!this.Is){this.Is=!0;var e=Ab();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this.Vs)}},t.prototype.enqueue=function(e){return this.vs(),this.Is?new Promise(function(n){}):this.Ss(e)},t.prototype.Cs=function(e){var n=this;this.ws(function(){return n.Es.push(e),n.Ns()})},t.prototype.Ns=function(){return B(this,void 0,void 0,function(){var e,n=this;return j(this,function(r){switch(r.label){case 0:if(this.Es.length===0)return[3,5];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.Es[0]()];case 2:return r.sent(),this.Es.shift(),this.ys.reset(),[3,4];case 3:if(!ff(e=r.sent()))throw e;return ue("AsyncQueue","Operation failed with retryable error: "+e),[3,4];case 4:this.Es.length>0&&this.ys.gn(function(){return n.Ns()}),r.label=5;case 5:return[2]}})})},t.prototype.Ss=function(e){var n=this,r=this.Ts.then(function(){return n.gs=!0,e().catch(function(s){throw n.Rs=s,n.gs=!1,Xt("INTERNAL UNHANDLED ERROR: ",function(a){var c=a.message||"";return a.stack&&(c=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),c}(s)),s}).then(function(s){return n.gs=!1,s})});return this.Ts=r,r},t.prototype.yn=function(e,n,r){var s=this;this.vs(),this.Ps.indexOf(e)>-1&&(n=0);var a=YD._s(this,e,n,r,function(c){return s.Fs(c)});return this.As.push(a),a},t.prototype.vs=function(){this.Rs&&be()},t.prototype.xs=function(){},t.prototype.$s=function(){return B(this,void 0,void 0,function(){var e;return j(this,function(n){switch(n.label){case 0:return[4,e=this.Ts];case 1:n.sent(),n.label=2;case 2:if(e!==this.Ts)return[3,0];n.label=3;case 3:return[2]}})})},t.prototype.ks=function(e){for(var n=0,r=this.As;n<r.length;n++)if(r[n].dn===e)return!0;return!1},t.prototype.Ms=function(e){var n=this;return this.$s().then(function(){n.As.sort(function(c,h){return c.us-h.us});for(var r=0,s=n.As;r<s.length;r++){var a=s[r];if(a.pn(),e!=="all"&&a.dn===e)break}return n.$s()})},t.prototype.Os=function(e){this.Ps.push(e)},t.prototype.Fs=function(e){var n=this.As.indexOf(e);this.As.splice(n,1)},t}();function fp(t,e){if(Xt("AsyncQueue",e+": "+t),ff(t))return new $(q.UNAVAILABLE,e+": "+t);throw t}var $D=function(){this.Ls=void 0,this.listeners=[]},QD=function(){this.Bs=new Kp(function(t){return dk(t)},Yp),this.onlineState="Unknown",this.qs=new Set};function qw(t,e){return B(this,void 0,void 0,function(){var n,r,s,a,c,h,d;return j(this,function(g){switch(g.label){case 0:if(n=de(t),r=e.query,s=!1,(a=n.Bs.get(r))||(s=!0,a=new $D),!s)return[3,4];g.label=1;case 1:return g.trys.push([1,3,,4]),c=a,[4,n.Us(r)];case 2:return c.Ls=g.sent(),[3,4];case 3:return h=g.sent(),d=fp(h,"Initialization of query '"+z_(e.query)+"' failed"),[2,void e.onError(d)];case 4:return n.Bs.set(r,a),a.listeners.push(e),e.Qs(n.onlineState),a.Ls&&e.Ws(a.Ls)&&pI(n),[2]}})})}function Gw(t,e){return B(this,void 0,void 0,function(){var n,r,s,a,c;return j(this,function(h){return n=de(t),r=e.query,s=!1,(a=n.Bs.get(r))&&(c=a.listeners.indexOf(e))>=0&&(a.listeners.splice(c,1),s=a.listeners.length===0),s?[2,(n.Bs.delete(r),n.js(r))]:[2]})})}function JD(t,e){for(var n=de(t),r=!1,s=0,a=e;s<a.length;s++){var c=a[s],h=c.query,d=n.Bs.get(h);if(d){for(var g=0,y=d.listeners;g<y.length;g++)y[g].Ws(c)&&(r=!0);d.Ls=c}}r&&pI(n)}function ZD(t,e,n){var r=de(t),s=r.Bs.get(e);if(s)for(var a=0,c=s.listeners;a<c.length;a++)c[a].onError(n);r.Bs.delete(e)}function pI(t){t.qs.forEach(function(e){e.next()})}var Ww=function(){function t(e,n,r){this.query=e,this.Ks=n,this.Gs=!1,this.zs=null,this.onlineState="Unknown",this.options=r||{}}return t.prototype.Ws=function(e){if(!this.options.includeMetadataChanges){for(var n=[],r=0,s=e.docChanges;r<s.length;r++){var a=s[r];a.type!==3&&n.push(a)}e=new Yb(e.query,e.docs,e.Qt,n,e.Wt,e.fromCache,e.jt,!0)}var c=!1;return this.Gs?this.Hs(e)&&(this.Ks.next(e),c=!0):this.Ys(e,this.onlineState)&&(this.Js(e),c=!0),this.zs=e,c},t.prototype.onError=function(e){this.Ks.error(e)},t.prototype.Qs=function(e){this.onlineState=e;var n=!1;return this.zs&&!this.Gs&&this.Ys(this.zs,e)&&(this.Js(this.zs),n=!0),n},t.prototype.Ys=function(e,n){if(!e.fromCache)return!0;var r=n!=="Offline";return!(this.options.Xs&&r||e.docs.m()&&n!=="Offline")},t.prototype.Hs=function(e){if(e.docChanges.length>0)return!0;var n=this.zs&&this.zs.hasPendingWrites!==e.hasPendingWrites;return!(!e.jt&&!n)&&this.options.includeMetadataChanges===!0},t.prototype.Js=function(e){e=Yb.Gt(e.query,e.docs,e.Wt,e.fromCache),this.Gs=!0,this.Ks.next(e)},t}(),ji=function(){function t(e){this.uid=e}return t.prototype.Zs=function(){return this.uid!=null},t.prototype.ti=function(){return this.Zs()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(e){return e.uid===this.uid},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ji.UNAUTHENTICATED=new ji(null),ji.ei=new ji("google-credentials-uid"),ji.ni=new ji("first-party-uid");/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gi=function(){function t(e,n){var r=this;this.previousValue=e,n&&(n.si=function(s){return r.ii(s)},this.ri=function(s){return n.oi(s)})}return t.prototype.ii=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},t.prototype.next=function(){var e=++this.previousValue;return this.ri&&this.ri(e),e},t}();function IS(t,e){return"firestore_clients_"+t+"_"+e}function SS(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.Zs()&&(r+="_"+e.uid),r}function Hw(t,e){return"firestore_targets_"+t+"_"+e}gi.ai=-1;var TS=function(){function t(e,n,r,s){this.user=e,this.batchId=n,this.state=r,this.error=s}return t.ci=function(e,n,r){var s=JSON.parse(r),a=typeof s=="object"&&["pending","acknowledged","rejected"].indexOf(s.state)!==-1&&(s.error===void 0||typeof s.error=="object"),c=void 0;return a&&s.error&&(a=typeof s.error.message=="string"&&typeof s.error.code=="string")&&(c=new $(s.error.code,s.error.message)),a?new t(e,n,s.state,c):(Xt("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.ui=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},t}(),zw=function(){function t(e,n,r){this.targetId=e,this.state=n,this.error=r}return t.ci=function(e,n){var r=JSON.parse(n),s=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object"),a=void 0;return s&&r.error&&(s=typeof r.error.message=="string"&&typeof r.error.code=="string")&&(a=new $(r.error.code,r.error.message)),s?new t(e,r.state,a):(Xt("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.ui=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},t}(),AS=function(){function t(e,n){this.clientId=e,this.activeTargetIds=n}return t.ci=function(e,n){for(var r=JSON.parse(n),s=typeof r=="object"&&r.activeTargetIds instanceof Array,a=R0(),c=0;s&&c<r.activeTargetIds.length;++c)s=BC(r.activeTargetIds[c]),a=a.add(r.activeTargetIds[c]);return s?new t(e,a):(Xt("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),eL=function(){function t(e,n){this.clientId=e,this.onlineState=n}return t.ci=function(e){var n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new t(n.clientId,n.onlineState):(Xt("SharedClientState","Failed to parse online state: "+e),null)},t}(),K_=function(){function t(){this.activeTargetIds=R0()}return t.prototype.hi=function(e){this.activeTargetIds=this.activeTargetIds.add(e)},t.prototype.li=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},t.prototype.ui=function(){var e={activeTargetIds:this.activeTargetIds.A(),updateTimeMs:Date.now()};return JSON.stringify(e)},t}(),Kw=function(){function t(e,n,r,s,a){this.window=e,this.fn=n,this.persistenceKey=r,this._i=s,this.fi=null,this.di=null,this.si=null,this.wi=this.mi.bind(this),this.Ti=new _r(Xe),this.Ei=!1,this.Ii=[];var c=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.Ai=IS(this.persistenceKey,this._i),this.Ri=function(h){return"firestore_sequence_number_"+h}(this.persistenceKey),this.Ti=this.Ti.ot(this._i,new K_),this.gi=new RegExp("^firestore_clients_"+c+"_([^_]*)$"),this.Pi=new RegExp("^firestore_mutations_"+c+"_(\\d+)(?:_(.*))?$"),this.yi=new RegExp("^firestore_targets_"+c+"_(\\d+)$"),this.Vi=function(h){return"firestore_online_state_"+h}(this.persistenceKey),this.window.addEventListener("storage",this.wi)}return t.Ln=function(e){return!(!e||!e.localStorage)},t.prototype.start=function(){return B(this,void 0,void 0,function(){var e,n,r,s,a,c,h,d,g,y,E,I=this;return j(this,function(T){switch(T.label){case 0:return[4,this.fi.pi()];case 1:for(e=T.sent(),n=0,r=e;n<r.length;n++)(s=r[n])!==this._i&&(a=this.getItem(IS(this.persistenceKey,s)))&&(c=AS.ci(s,a))&&(this.Ti=this.Ti.ot(c.clientId,c));for(this.bi(),(h=this.storage.getItem(this.Vi))&&(d=this.vi(h))&&this.Si(d),g=0,y=this.Ii;g<y.length;g++)E=y[g],this.mi(E);return this.Ii=[],this.window.addEventListener("unload",function(){return I.Di()}),this.Ei=!0,[2]}})})},t.prototype.oi=function(e){this.setItem(this.Ri,JSON.stringify(e))},t.prototype.Ci=function(){return this.Ni(this.Ti)},t.prototype.Fi=function(e){var n=!1;return this.Ti.forEach(function(r,s){s.activeTargetIds.has(e)&&(n=!0)}),n},t.prototype.xi=function(e){this.$i(e,"pending")},t.prototype.ki=function(e,n,r){this.$i(e,n,r),this.Mi(e)},t.prototype.Oi=function(e){var n="not-current";if(this.Fi(e)){var r=this.storage.getItem(Hw(this.persistenceKey,e));if(r){var s=zw.ci(e,r);s&&(n=s.state)}}return this.Li.hi(e),this.bi(),n},t.prototype.Bi=function(e){this.Li.li(e),this.bi()},t.prototype.qi=function(e){return this.Li.activeTargetIds.has(e)},t.prototype.Ui=function(e){this.removeItem(Hw(this.persistenceKey,e))},t.prototype.Qi=function(e,n,r){this.Wi(e,n,r)},t.prototype.ji=function(e,n,r){var s=this;n.forEach(function(a){s.Mi(a)}),this.currentUser=e,r.forEach(function(a){s.xi(a)})},t.prototype.Ki=function(e){this.Gi(e)},t.prototype.Di=function(){this.Ei&&(this.window.removeEventListener("storage",this.wi),this.removeItem(this.Ai),this.Ei=!1)},t.prototype.getItem=function(e){var n=this.storage.getItem(e);return ue("SharedClientState","READ",e,n),n},t.prototype.setItem=function(e,n){ue("SharedClientState","SET",e,n),this.storage.setItem(e,n)},t.prototype.removeItem=function(e){ue("SharedClientState","REMOVE",e),this.storage.removeItem(e)},t.prototype.mi=function(e){var n=this,r=e;if(r.storageArea===this.storage){if(ue("SharedClientState","EVENT",r.key,r.newValue),r.key===this.Ai)return void Xt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.fn.Cs(function(){return B(n,void 0,void 0,function(){var s,a,c,h,d,g;return j(this,function(y){if(this.Ei){if(r.key!==null)if(this.gi.test(r.key)){if(r.newValue==null)return s=this.zi(r.key),[2,this.Hi(s,null)];if(a=this.Yi(r.key,r.newValue))return[2,this.Hi(a.clientId,a)]}else if(this.Pi.test(r.key)){if(r.newValue!==null&&(c=this.Ji(r.key,r.newValue)))return[2,this.Xi(c)]}else if(this.yi.test(r.key)){if(r.newValue!==null&&(h=this.Zi(r.key,r.newValue)))return[2,this.tr(h)]}else if(r.key===this.Vi){if(r.newValue!==null&&(d=this.vi(r.newValue)))return[2,this.Si(d)]}else r.key===this.Ri&&(g=function(E){var I=gi.ai;if(E!=null)try{var T=JSON.parse(E);Te(typeof T=="number"),I=T}catch(x){Xt("SharedClientState","Failed to read sequence number from WebStorage",x)}return I}(r.newValue))!==gi.ai&&this.si(g)}else this.Ii.push(r);return[2]})})})}},Object.defineProperty(t.prototype,"Li",{get:function(){return this.Ti.get(this._i)},enumerable:!1,configurable:!0}),t.prototype.bi=function(){this.setItem(this.Ai,this.Li.ui())},t.prototype.$i=function(e,n,r){var s=new TS(this.currentUser,e,n,r),a=SS(this.persistenceKey,this.currentUser,e);this.setItem(a,s.ui())},t.prototype.Mi=function(e){var n=SS(this.persistenceKey,this.currentUser,e);this.removeItem(n)},t.prototype.Gi=function(e){var n={clientId:this._i,onlineState:e};this.storage.setItem(this.Vi,JSON.stringify(n))},t.prototype.Wi=function(e,n,r){var s=Hw(this.persistenceKey,e),a=new zw(e,n,r);this.setItem(s,a.ui())},t.prototype.zi=function(e){var n=this.gi.exec(e);return n?n[1]:null},t.prototype.Yi=function(e,n){var r=this.zi(e);return AS.ci(r,n)},t.prototype.Ji=function(e,n){var r=this.Pi.exec(e),s=Number(r[1]),a=r[2]!==void 0?r[2]:null;return TS.ci(new ji(a),s,n)},t.prototype.Zi=function(e,n){var r=this.yi.exec(e),s=Number(r[1]);return zw.ci(s,n)},t.prototype.vi=function(e){return eL.ci(e)},t.prototype.Xi=function(e){return B(this,void 0,void 0,function(){return j(this,function(n){return e.user.uid===this.currentUser.uid?[2,this.fi.er(e.batchId,e.state,e.error)]:(ue("SharedClientState","Ignoring mutation for non-active user "+e.user.uid),[2])})})},t.prototype.tr=function(e){return this.fi.nr(e.targetId,e.state,e.error)},t.prototype.Hi=function(e,n){var r=this,s=n?this.Ti.ot(e,n):this.Ti.remove(e),a=this.Ni(this.Ti),c=this.Ni(s),h=[],d=[];return c.forEach(function(g){a.has(g)||h.push(g)}),a.forEach(function(g){c.has(g)||d.push(g)}),this.fi.sr(h,d).then(function(){r.Ti=s})},t.prototype.Si=function(e){this.Ti.get(e.clientId)&&this.di(e.onlineState)},t.prototype.Ni=function(e){var n=R0();return e.forEach(function(r,s){n=n.kt(s.activeTargetIds)}),n},t}(),Y_=function(){function t(){this.ir=new K_,this.rr={},this.di=null,this.si=null}return t.prototype.xi=function(e){},t.prototype.ki=function(e,n,r){},t.prototype.Oi=function(e){return this.ir.hi(e),this.rr[e]||"not-current"},t.prototype.Qi=function(e,n,r){this.rr[e]=n},t.prototype.Bi=function(e){this.ir.li(e)},t.prototype.qi=function(e){return this.ir.activeTargetIds.has(e)},t.prototype.Ui=function(e){delete this.rr[e]},t.prototype.Ci=function(){return this.ir.activeTargetIds},t.prototype.Fi=function(e){return this.ir.activeTargetIds.has(e)},t.prototype.start=function(){return this.ir=new K_,Promise.resolve()},t.prototype.ji=function(e,n,r){},t.prototype.Ki=function(e){},t.prototype.Di=function(){},t.prototype.oi=function(e){},t}(),dI=function(){function t(e,n,r,s){this.batchId=e,this.ar=n,this.baseMutations=r,this.mutations=s}return t.prototype.cr=function(e,n,r){for(var s=r.ur,a=0;a<this.mutations.length;a++){var c=this.mutations[a];c.key.isEqual(e)&&(n=LD(c,n,s[a]))}return n},t.prototype.hr=function(e,n){for(var r=0,s=this.baseMutations;r<s.length;r++){var a=s[r];a.key.isEqual(e)&&(n=H_(a,n,n,this.ar))}for(var c=n,h=0,d=this.mutations;h<d.length;h++){var g=d[h];g.key.isEqual(e)&&(n=H_(g,n,c,this.ar))}return n},t.prototype.lr=function(e){var n=this,r=e;return this.mutations.forEach(function(s){var a=n.hr(s.key,e.get(s.key));a&&(r=r.ot(s.key,a))}),r},t.prototype.keys=function(){return this.mutations.reduce(function(e,n){return e.add(n.key)},xt())},t.prototype.isEqual=function(e){return this.batchId===e.batchId&&Cp(this.mutations,e.mutations,function(n,r){return dS(n,r)})&&Cp(this.baseMutations,e.baseMutations,function(n,r){return dS(n,r)})},t}(),tL=function(){function t(e,n,r,s){this.batch=e,this._r=n,this.ur=r,this.dr=s}return t.from=function(e,n,r){Te(e.mutations.length===r.length);for(var s=mD,a=e.mutations,c=0;c<a.length;c++)s=s.ot(a[c].key,r[c].version);return new t(e,n,r,s)},t}(),yk=function(){function t(){this.wr=new Kp(function(e){return e.toString()},function(e,n){return e.isEqual(n)}),this.mr=!1}return Object.defineProperty(t.prototype,"readTime",{get:function(){return this.Tr},set:function(e){this.Tr=e},enumerable:!1,configurable:!0}),t.prototype.Er=function(e,n){this.Ir(),this.readTime=n,this.wr.set(e.key,e)},t.prototype.Ar=function(e,n){this.Ir(),n&&(this.readTime=n),this.wr.set(e,null)},t.prototype.Rr=function(e,n){this.Ir();var r=this.wr.get(n);return r!==void 0?oe.resolve(r):this.gr(e,n)},t.prototype.getEntries=function(e,n){return this.Pr(e,n)},t.prototype.apply=function(e){return this.Ir(),this.mr=!0,this.yr(e)},t.prototype.Ir=function(){},t}(),bk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",wk=function(){function t(){this.Vr=[]}return t.prototype.pr=function(e){this.Vr.push(e)},t.prototype.br=function(){this.Vr.forEach(function(e){return e()})},t}(),_k=function(){function t(e,n,r){this.vr=e,this.Sr=n,this.Dr=r}return t.prototype.Cr=function(e,n){var r=this;return this.Sr.Nr(e,n).next(function(s){return r.Fr(e,n,s)})},t.prototype.Fr=function(e,n,r){return this.vr.Rr(e,n).next(function(s){for(var a=0,c=r;a<c.length;a++)s=c[a].hr(n,s);return s})},t.prototype.$r=function(e,n,r){var s=Kb();return n.forEach(function(a,c){for(var h=0,d=r;h<d.length;h++)c=d[h].hr(a,c);s=s.ot(a,c)}),s},t.prototype.kr=function(e,n){var r=this;return this.vr.getEntries(e,n).next(function(s){return r.Mr(e,s)})},t.prototype.Mr=function(e,n){var r=this;return this.Sr.Or(e,n).next(function(s){var a=r.$r(e,n,s),c=Qc();return a.forEach(function(h,d){d||(d=new Hn(h,nt.min())),c=c.ot(h,d)}),c})},t.prototype.Lr=function(e,n,r){return function(s){return ke.F(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.Br(e,n.path):cI(n)?this.qr(e,n,r):this.Ur(e,n,r)},t.prototype.Br=function(e,n){return this.Cr(e,new ke(n)).next(function(r){var s=bg();return r instanceof vt&&(s=s.ot(r.key,r)),s})},t.prototype.qr=function(e,n,r){var s=this,a=n.collectionGroup,c=bg();return this.Dr.Qr(e,a).next(function(h){return oe.forEach(h,function(d){var g=function(y,E){return new Sa(E,null,y.on.slice(),y.filters.slice(),y.limit,y.an,y.startAt,y.endAt)}(n,d.child(a));return s.Ur(e,g,r).next(function(y){y.forEach(function(E,I){c=c.ot(E,I)})})}).next(function(){return c})})},t.prototype.Ur=function(e,n,r){var s,a,c=this;return this.vr.Lr(e,n,r).next(function(h){return s=h,c.Sr.Wr(e,n)}).next(function(h){return a=h,c.jr(e,a,s).next(function(d){s=d;for(var g=0,y=a;g<y.length;g++)for(var E=y[g],I=0,T=E.mutations;I<T.length;I++){var x=T[I],A=x.key,N=s.get(A),D=H_(x,N,N,E.ar);s=D instanceof vt?s.ot(A,D):s.remove(A)}})}).next(function(){return s.forEach(function(h,d){Qg(n,d)||(s=s.remove(h))}),s})},t.prototype.jr=function(e,n,r){for(var s=xt(),a=0,c=n;a<c.length;a++)for(var h=0,d=c[a].mutations;h<d.length;h++){var g=d[h];g instanceof dl&&r.get(g.key)===null&&(s=s.add(g.key))}var y=r;return this.vr.getEntries(e,s).next(function(E){return E.forEach(function(I,T){T!==null&&T instanceof vt&&(y=y.ot(I,T))}),y})},t}(),nL=function(){function t(e,n,r,s){this.targetId=e,this.fromCache=n,this.Kr=r,this.Gr=s}return t.zr=function(e,n){for(var r=xt(),s=xt(),a=0,c=n.docChanges;a<c.length;a++){var h=c[a];switch(h.type){case 0:r=r.add(h.doc.key);break;case 1:s=s.add(h.doc.key)}}return new t(e,n.fromCache,r,s)},t}();/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CS(t,e){var n=t[0],r=t[1],s=e[0],a=e[1],c=Xe(n,s);return c===0?Xe(r,a):c}var rL=function(){function t(e){this.Hr=e,this.buffer=new Pn(CS),this.Yr=0}return t.prototype.Jr=function(){return++this.Yr},t.prototype.Xr=function(e){var n=[e,this.Jr()];if(this.buffer.size<this.Hr)this.buffer=this.buffer.add(n);else{var r=this.buffer.last();CS(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),kS={Zr:!1,eo:0,no:0,so:0},mn=function(){function t(e,n,r){this.io=e,this.ro=n,this.oo=r}return t.ao=function(e){return new t(e,t.co,t.uo)},t}();mn.ho=-1,mn.lo=1048576,mn._o=41943040,mn.co=10,mn.uo=1e3,mn.fo=new mn(mn._o,mn.co,mn.uo),mn.do=new mn(mn.ho,0,0);var iL=function(){function t(e,n){this.wo=e,this.cs=n,this.mo=!1,this.To=null}return t.prototype.start=function(e){this.wo.params.io!==mn.ho&&this.Eo(e)},t.prototype.stop=function(){this.To&&(this.To.cancel(),this.To=null)},Object.defineProperty(t.prototype,"Ei",{get:function(){return this.To!==null},enumerable:!1,configurable:!0}),t.prototype.Eo=function(e){var n=this,r=this.mo?3e5:6e4;ue("LruGarbageCollector","Garbage collection scheduled in "+r+"ms"),this.To=this.cs.yn("lru_garbage_collection",r,function(){return B(n,void 0,void 0,function(){var s;return j(this,function(a){switch(a.label){case 0:this.To=null,this.mo=!0,a.label=1;case 1:return a.trys.push([1,3,,7]),[4,e.Io(this.wo)];case 2:return a.sent(),[3,7];case 3:return ff(s=a.sent())?(ue("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",s),[3,6]):[3,4];case 4:return[4,hf(s)];case 5:a.sent(),a.label=6;case 6:return[3,7];case 7:return[4,this.Eo(e)];case 8:return a.sent(),[2]}})})})},t}(),oL=function(){function t(e,n){this.Ao=e,this.params=n}return t.prototype.Ro=function(e,n){return this.Ao.Po(e).next(function(r){return Math.floor(n/100*r)})},t.prototype.yo=function(e,n){var r=this;if(n===0)return oe.resolve(gi.ai);var s=new rL(n);return this.Ao.Ce(e,function(a){return s.Xr(a.sequenceNumber)}).next(function(){return r.Ao.Vo(e,function(a){return s.Xr(a)})}).next(function(){return s.maxValue})},t.prototype.po=function(e,n,r){return this.Ao.po(e,n,r)},t.prototype.bo=function(e,n){return this.Ao.bo(e,n)},t.prototype.vo=function(e,n){var r=this;return this.params.io===mn.ho?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),oe.resolve(kS)):this.So(e).next(function(s){return s<r.params.io?(ue("LruGarbageCollector","Garbage collection skipped; Cache size "+s+" is lower than threshold "+r.params.io),kS):r.Do(e,n)})},t.prototype.So=function(e){return this.Ao.So(e)},t.prototype.Do=function(e,n){var r,s,a,c,h,d,g,y=this,E=Date.now();return this.Ro(e,this.params.ro).next(function(I){return I>y.params.oo?(ue("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+y.params.oo+" from "+I),s=y.params.oo):s=I,c=Date.now(),y.yo(e,s)}).next(function(I){return r=I,h=Date.now(),y.po(e,r,n)}).next(function(I){return a=I,d=Date.now(),y.bo(e,r)}).next(function(I){return g=Date.now(),Wb()<=Le.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in `+(c-E)+`ms
	Determined least recently used `+s+" in "+(h-c)+`ms
	Removed `+a+" targets in "+(d-h)+`ms
	Removed `+I+" documents in "+(g-d)+`ms
Total Duration: `+(g-E)+"ms"),oe.resolve({Zr:!0,eo:s,no:a,so:I})})},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lo(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=xS(e)),e=sL(t.get(n),e);return xS(e)}function sL(t,e){for(var n=e,r=t.length,s=0;s<r;s++){var a=t.charAt(s);switch(a){case"\0":n+="";break;case"":n+="";break;default:n+=a}}return n}function xS(t){return t+""}function ba(t){var e=t.length;if(Te(e>=2),e===2)return Te(t.charAt(0)===""&&t.charAt(1)===""),Lt.P();for(var n=e-2,r=[],s="",a=0;a<e;){var c=t.indexOf("",a);switch((c<0||c>n)&&be(),t.charAt(c+1)){case"":var h=t.substring(a,c),d=void 0;s.length===0?d=h:(d=s+=h,s=""),r.push(d);break;case"":s+=t.substring(a,c),s+="\0";break;case"":s+=t.substring(a,c+1);break;default:be()}a=c+2}return new Lt(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var aL=function(t){this.Co=t};function X_(t,e){if(e.document)return function(c,h,d){var g=ps(c,h.name),y=Po(h.updateTime),E=new ll({mapValue:{fields:h.fields}});return new vt(g,y,E,{hasCommittedMutations:!!d})}(t.Co,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=ke.$(e.noDocument.path),r=n0(e.noDocument.readTime);return new Hn(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var s=ke.$(e.unknownDocument.path),a=n0(e.unknownDocument.version);return new Jb(s,a)}return be()}function NS(t,e,n){var r=vI(n),s=e.key.path.h().A();if(e instanceof vt){var a=function(I,T){return{name:wp(I,T.key),fields:T.rn().mapValue.fields,updateTime:$b(I,T.version.Z())}}(t.Co,e),c=e.hasCommittedMutations;return new en(null,null,a,c,r,s)}if(e instanceof Hn){var h=e.key.path.A(),d=t0(e.version),g=e.hasCommittedMutations;return new en(null,new dL(h,d),null,g,r,s)}if(e instanceof Jb){var y=e.key.path.A(),E=t0(e.version);return new en(new vL(y,E),null,null,!0,r,s)}return be()}function vI(t){var e=t.Z();return[e.seconds,e.nanoseconds]}function Ek(t){var e=new Jr(t[0],t[1]);return nt.J(e)}function t0(t){var e=t.Z();return new pL(e.seconds,e.nanoseconds)}function n0(t){var e=new Jr(t.seconds,t.nanoseconds);return nt.J(e)}function hp(t,e){var n=(e.baseMutations||[]).map(function(a){return cS(t.Co,a)}),r=e.mutations.map(function(a){return cS(t.Co,a)}),s=Jr.fromMillis(e.localWriteTimeMs);return new dI(e.batchId,s,n,r)}function rg(t){var e,n,r=n0(t.readTime),s=t.lastLimboFreeSnapshotVersion!==void 0?n0(t.lastLimboFreeSnapshotVersion):nt.min();return t.query.documents!==void 0?(Te((n=t.query).documents.length===1),e=ws($g(ZC(n.documents[0])))):e=AD(t.query),new N0(e,t.targetId,0,t.lastListenSequenceNumber,r,s,wr.fromBase64String(t.resumeToken))}function Ik(t,e){var n,r=t0(e.nt),s=t0(e.lastLimboFreeSnapshotVersion);n=zb(e.target)?tk(t.Co,e.target):nk(t.Co,e.target);var a=e.resumeToken.toBase64();return new Qr(e.targetId,Wg(e.target),r,a,e.sequenceNumber,s,n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uL=function(){function t(e,n,r,s){this.userId=e,this.serializer=n,this.Dr=r,this.No=s,this.Fo={}}return t.xo=function(e,n,r,s){return Te(e.uid!==""),new t(e.Zs()?e.uid:"",n,r,s)},t.prototype.$o=function(e){var n=!0,r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Yu(e).rs({index:Pt.userMutationsIndex,range:r},function(s,a,c){n=!1,c.done()}).next(function(){return n})},t.prototype.ko=function(e,n,r,s){var a=this,c=pp(e),h=Yu(e);return h.add({}).next(function(d){Te(typeof d=="number");for(var g=new dI(d,n,r,s),y=function(D,L,H){var X=H.baseMutations.map(function(P){return Qb(D.Co,P)}),z=H.mutations.map(function(P){return Qb(D.Co,P)});return new Pt(L,H.batchId,H.ar.toMillis(),X,z)}(a.serializer,a.userId,g),E=[],I=new Pn(function(D,L){return Xe(D.R(),L.R())}),T=0,x=s;T<x.length;T++){var A=x[T],N=pr.key(a.userId,A.key.path,d);I=I.add(A.key.path.h()),E.push(h.put(y)),E.push(c.put(N,pr.PLACEHOLDER))}return I.forEach(function(D){E.push(a.Dr.Mo(e,D))}),e.pr(function(){a.Fo[d]=g.keys()}),oe.$n(E).next(function(){return g})})},t.prototype.Oo=function(e,n){var r=this;return Yu(e).get(n).next(function(s){return s?(Te(s.userId===r.userId),hp(r.serializer,s)):null})},t.prototype.Lo=function(e,n){var r=this;return this.Fo[n]?oe.resolve(this.Fo[n]):this.Oo(e,n).next(function(s){if(s){var a=s.keys();return r.Fo[n]=a,a}return null})},t.prototype.Bo=function(e,n){var r=this,s=n+1,a=IDBKeyRange.lowerBound([this.userId,s]),c=null;return Yu(e).rs({index:Pt.userMutationsIndex,range:a},function(h,d,g){d.userId===r.userId&&(Te(d.batchId>=s),c=hp(r.serializer,d)),g.done()}).next(function(){return c})},t.prototype.qo=function(e){var n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),r=-1;return Yu(e).rs({index:Pt.userMutationsIndex,range:n,reverse:!0},function(s,a,c){r=a.batchId,c.done()}).next(function(){return r})},t.prototype.Uo=function(e){var n=this,r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Yu(e).ts(Pt.userMutationsIndex,r).next(function(s){return s.map(function(a){return hp(n.serializer,a)})})},t.prototype.Nr=function(e,n){var r=this,s=pr.prefixForPath(this.userId,n.path),a=IDBKeyRange.lowerBound(s),c=[];return pp(e).rs({range:a},function(h,d,g){var y=h[0],E=h[1],I=h[2],T=ba(E);if(y===r.userId&&n.path.isEqual(T))return Yu(e).get(I).next(function(x){if(!x)throw be();Te(x.userId===r.userId),c.push(hp(r.serializer,x))});g.done()}).next(function(){return c})},t.prototype.Or=function(e,n){var r=this,s=new Pn(Xe),a=[];return n.forEach(function(c){var h=pr.prefixForPath(r.userId,c.path),d=IDBKeyRange.lowerBound(h),g=pp(e).rs({range:d},function(y,E,I){var T=y[0],x=y[1],A=y[2],N=ba(x);T===r.userId&&c.path.isEqual(N)?s=s.add(A):I.done()});a.push(g)}),oe.$n(a).next(function(){return r.Qo(e,s)})},t.prototype.Wr=function(e,n){var r=this,s=n.path,a=s.length+1,c=pr.prefixForPath(this.userId,s),h=IDBKeyRange.lowerBound(c),d=new Pn(Xe);return pp(e).rs({range:h},function(g,y,E){var I=g[0],T=g[1],x=g[2],A=ba(T);I===r.userId&&s.T(A)?A.length===a&&(d=d.add(x)):E.done()}).next(function(){return r.Qo(e,d)})},t.prototype.Qo=function(e,n){var r=this,s=[],a=[];return n.forEach(function(c){a.push(Yu(e).get(c).next(function(h){if(h===null)throw be();Te(h.userId===r.userId),s.push(hp(r.serializer,h))}))}),oe.$n(a).next(function(){return s})},t.prototype.Wo=function(e,n){var r=this;return Tk(e.jo,this.userId,n).next(function(s){return e.pr(function(){r.Ko(n.batchId)}),oe.forEach(s,function(a){return r.No.Go(e,a)})})},t.prototype.Ko=function(e){delete this.Fo[e]},t.prototype.zo=function(e){var n=this;return this.$o(e).next(function(r){if(!r)return oe.resolve();var s=IDBKeyRange.lowerBound(pr.prefixForUser(n.userId)),a=[];return pp(e).rs({range:s},function(c,h,d){if(c[0]===n.userId){var g=ba(c[1]);a.push(g)}else d.done()}).next(function(){Te(a.length===0)})})},t.prototype.Ho=function(e,n){return Sk(e,this.userId,n)},t.prototype.Yo=function(e){var n=this;return Ak(e).get(this.userId).next(function(r){return r||new rl(n.userId,-1,"")})},t}();function Sk(t,e,n){var r=pr.prefixForPath(e,n.path),s=r[1],a=IDBKeyRange.lowerBound(r),c=!1;return pp(t).rs({range:a,ss:!0},function(h,d,g){var y=h[0],E=h[1];h[2],y===e&&E===s&&(c=!0),g.done()}).next(function(){return c})}function Tk(t,e,n){var r=t.store(Pt.store),s=t.store(pr.store),a=[],c=IDBKeyRange.only(n.batchId),h=0,d=r.rs({range:c},function(x,A,N){return h++,N.delete()});a.push(d.next(function(){Te(h===1)}));for(var g=[],y=0,E=n.mutations;y<E.length;y++){var I=E[y],T=pr.key(e,I.key.path,n.batchId);a.push(s.delete(T)),g.push(I.key)}return oe.$n(a).next(function(){return g})}function Yu(t){return zi.Qn(t,Pt.store)}function pp(t){return zi.Qn(t,pr.store)}function Ak(t){return zi.Qn(t,rl.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lL=function(){function t(e,n){this.serializer=e,this.Dr=n}return t.prototype.Er=function(e,n,r){return $u(e).put(pb(n),r)},t.prototype.Ar=function(e,n){var r=$u(e),s=pb(n);return r.delete(s)},t.prototype.updateMetadata=function(e,n){var r=this;return this.getMetadata(e).next(function(s){return s.byteSize+=n,r.Jo(e,s)})},t.prototype.Rr=function(e,n){var r=this;return $u(e).get(pb(n)).next(function(s){return r.Xo(s)})},t.prototype.Zo=function(e,n){var r=this;return $u(e).get(pb(n)).next(function(s){var a=r.Xo(s);return a?{ta:a,size:r0(s)}:null})},t.prototype.getEntries=function(e,n){var r=this,s=Kb();return this.ea(e,n,function(a,c){var h=r.Xo(c);s=s.ot(a,h)}).next(function(){return s})},t.prototype.na=function(e,n){var r=this,s=Kb(),a=new _r(ke.i);return this.ea(e,n,function(c,h){var d=r.Xo(h);d?(s=s.ot(c,d),a=a.ot(c,r0(h))):(s=s.ot(c,null),a=a.ot(c,0))}).next(function(){return{sa:s,ia:a}})},t.prototype.ea=function(e,n,r){if(n.m())return oe.resolve();var s=IDBKeyRange.bound(n.first().path.A(),n.last().path.A()),a=n._t(),c=a.It();return $u(e).rs({range:s},function(h,d,g){for(var y=ke.$(h);c&&ke.i(c,y)<0;)r(c,null),c=a.It();c&&c.isEqual(y)&&(r(c,d),c=a.At()?a.It():null),c?g.Xn(c.path.A()):g.done()}).next(function(){for(;c;)r(c,null),c=a.At()?a.It():null})},t.prototype.Lr=function(e,n,r){var s=this,a=bg(),c=n.path.length+1,h={};if(r.isEqual(nt.min())){var d=n.path.A();h.range=IDBKeyRange.lowerBound(d)}else{var g=n.path.A(),y=vI(r);h.range=IDBKeyRange.lowerBound([g,y],!0),h.index=en.collectionReadTimeIndex}return $u(e).rs(h,function(E,I,T){if(E.length===c){var x=X_(s.serializer,I);n.path.T(x.key.path)?x instanceof vt&&Qg(n,x)&&(a=a.ot(x.key,x)):T.done()}}).next(function(){return a})},t.prototype.ra=function(e){return new cL(this,!!e&&e.oa)},t.prototype.aa=function(e){return this.getMetadata(e).next(function(n){return n.byteSize})},t.prototype.getMetadata=function(e){return RS(e).get(ds.key).next(function(n){return Te(!!n),n})},t.prototype.Jo=function(e,n){return RS(e).put(ds.key,n)},t.prototype.Xo=function(e){if(e){var n=X_(this.serializer,e);return n instanceof Hn&&n.version.isEqual(nt.min())?null:n}return null},t}(),cL=function(t){function e(n,r){var s=this;return(s=t.call(this)||this).ca=n,s.oa=r,s.ua=new Kp(function(a){return a.toString()},function(a,c){return a.isEqual(c)}),s}return we(e,t),e.prototype.yr=function(n){var r=this,s=[],a=0,c=new Pn(function(h,d){return Xe(h.R(),d.R())});return this.wr.forEach(function(h,d){var g=r.ua.get(h);if(d){var y=NS(r.ca.serializer,d,r.readTime);c=c.add(h.path.h());var E=r0(y);a+=E-g,s.push(r.ca.Er(n,h,y))}else if(a-=g,r.oa){var I=NS(r.ca.serializer,new Hn(h,nt.min()),r.readTime);s.push(r.ca.Er(n,h,I))}else s.push(r.ca.Ar(n,h))}),c.forEach(function(h){s.push(r.ca.Dr.Mo(n,h))}),s.push(this.ca.updateMetadata(n,a)),oe.$n(s)},e.prototype.gr=function(n,r){var s=this;return this.ca.Zo(n,r).next(function(a){return a===null?(s.ua.set(r,0),null):(s.ua.set(r,a.size),a.ta)})},e.prototype.Pr=function(n,r){var s=this;return this.ca.na(n,r).next(function(a){var c=a.sa;return a.ia.forEach(function(h,d){s.ua.set(h,d)}),c})},e}(yk);function RS(t){return zi.Qn(t,ds.store)}function $u(t){return zi.Qn(t,en.store)}function pb(t){return t.path.A()}function r0(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw be();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fL=function(){function t(){this.ha=new gI}return t.prototype.Mo=function(e,n){return this.ha.add(n),oe.resolve()},t.prototype.Qr=function(e,n){return oe.resolve(this.ha.getEntries(n))},t}(),gI=function(){function t(){this.index={}}return t.prototype.add=function(e){var n=e._(),r=e.h(),s=this.index[n]||new Pn(Lt.i),a=!s.has(r);return this.index[n]=s.add(r),a},t.prototype.has=function(e){var n=e._(),r=e.h(),s=this.index[n];return s&&s.has(r)},t.prototype.getEntries=function(e){return(this.index[e]||new Pn(Lt.i)).A()},t}(),hL=function(){function t(e){this.serializer=e}return t.prototype.createOrUpgrade=function(e,n,r,s){var a=this;Te(r<s&&r>=0&&s<=10);var c=new mk("createOrUpgrade",n);r<1&&s>=1&&(function(d){d.createObjectStore(hi.store)}(e),function(d){d.createObjectStore(rl.store,{keyPath:rl.keyPath}),d.createObjectStore(Pt.store,{keyPath:Pt.keyPath,autoIncrement:!0}).createIndex(Pt.userMutationsIndex,Pt.userMutationsKeyPath,{unique:!0}),d.createObjectStore(pr.store)}(e),OS(e),function(d){d.createObjectStore(en.store)}(e));var h=oe.resolve();return r<3&&s>=3&&(r!==0&&(function(d){d.deleteObjectStore(or.store),d.deleteObjectStore(Qr.store),d.deleteObjectStore(pi.store)}(e),OS(e)),h=h.next(function(){return function(d){var g=d.store(pi.store),y=new pi(0,0,nt.min().Z(),0);return g.put(pi.key,y)}(c)})),r<4&&s>=4&&(r!==0&&(h=h.next(function(){return function(d,g){return g.store(Pt.store).ts().next(function(y){d.deleteObjectStore(Pt.store),d.createObjectStore(Pt.store,{keyPath:Pt.keyPath,autoIncrement:!0}).createIndex(Pt.userMutationsIndex,Pt.userMutationsKeyPath,{unique:!0});var E=g.store(Pt.store),I=y.map(function(T){return E.put(T)});return oe.$n(I)})}(e,c)})),h=h.next(function(){(function(d){d.createObjectStore(_a.store,{keyPath:_a.keyPath})})(e)})),r<5&&s>=5&&(h=h.next(function(){return a.removeAcknowledgedMutations(c)})),r<6&&s>=6&&(h=h.next(function(){return function(d){d.createObjectStore(ds.store)}(e),a.addDocumentGlobal(c)})),r<7&&s>=7&&(h=h.next(function(){return a.ensureSequenceNumbers(c)})),r<8&&s>=8&&(h=h.next(function(){return a.createCollectionParentIndex(e,c)})),r<9&&s>=9&&(h=h.next(function(){(function(d){d.objectStoreNames.contains("remoteDocumentChanges")&&d.deleteObjectStore("remoteDocumentChanges")})(e),function(d){var g=d.objectStore(en.store);g.createIndex(en.readTimeIndex,en.readTimeIndexPath,{unique:!1}),g.createIndex(en.collectionReadTimeIndex,en.collectionReadTimeIndexPath,{unique:!1})}(n)})),r<10&&s>=10&&(h=h.next(function(){return a.rewriteCanonicalIds(c)})),h},t.prototype.addDocumentGlobal=function(e){var n=0;return e.store(en.store).rs(function(r,s){n+=r0(s)}).next(function(){var r=new ds(n);return e.store(ds.store).put(ds.key,r)})},t.prototype.removeAcknowledgedMutations=function(e){var n=this,r=e.store(rl.store),s=e.store(Pt.store);return r.ts().next(function(a){return oe.forEach(a,function(c){var h=IDBKeyRange.bound([c.userId,-1],[c.userId,c.lastAcknowledgedBatchId]);return s.ts(Pt.userMutationsIndex,h).next(function(d){return oe.forEach(d,function(g){Te(g.userId===c.userId);var y=hp(n.serializer,g);return Tk(e,c.userId,y).next(function(){})})})})})},t.prototype.ensureSequenceNumbers=function(e){var n=e.store(or.store),r=e.store(en.store);return e.store(pi.store).get(pi.key).next(function(s){var a=[];return r.rs(function(c,h){var d=new Lt(c),g=function(y){return[0,Lo(y)]}(d);a.push(n.get(g).next(function(y){return y?oe.resolve():function(E){return n.put(new or(0,Lo(E),s.highestListenSequenceNumber))}(d)}))}).next(function(){return oe.$n(a)})})},t.prototype.createCollectionParentIndex=function(e,n){e.createObjectStore(Wc.store,{keyPath:Wc.keyPath});var r=n.store(Wc.store),s=new gI,a=function(c){if(s.add(c)){var h=c._(),d=c.h();return r.put({collectionId:h,parent:Lo(d)})}};return n.store(en.store).rs({ss:!0},function(c,h){var d=new Lt(c);return a(d.h())}).next(function(){return n.store(pr.store).rs({ss:!0},function(c,h){c[0];var d=c[1],g=(c[2],ba(d));return a(g.h())})})},t.prototype.rewriteCanonicalIds=function(e){var n=this,r=e.store(Qr.store);return r.rs(function(s,a){var c=rg(a),h=Ik(n.serializer,c);return r.put(h)})},t}(),pL=function(t,e){this.seconds=t,this.nanoseconds=e},hi=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};hi.store="owner",hi.key="owner";var rl=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};rl.store="mutationQueues",rl.keyPath="userId";var Pt=function(t,e,n,r,s){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=s};Pt.store="mutations",Pt.keyPath="batchId",Pt.userMutationsIndex="userMutationsIndex",Pt.userMutationsKeyPath=["userId","batchId"];var pr=function(){function t(){}return t.prefixForUser=function(e){return[e]},t.prefixForPath=function(e,n){return[e,Lo(n)]},t.key=function(e,n,r){return[e,Lo(n),r]},t}();pr.store="documentMutations",pr.PLACEHOLDER=new pr;var dL=function(t,e){this.path=t,this.readTime=e},vL=function(t,e){this.path=t,this.version=e},en=function(t,e,n,r,s,a){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=s,this.parentPath=a};en.store="remoteDocuments",en.readTimeIndex="readTimeIndex",en.readTimeIndexPath="readTime",en.collectionReadTimeIndex="collectionReadTimeIndex",en.collectionReadTimeIndexPath=["parentPath","readTime"];var ds=function(t){this.byteSize=t};ds.store="remoteDocumentGlobal",ds.key="remoteDocumentGlobalKey";var Qr=function(t,e,n,r,s,a,c){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=s,this.lastLimboFreeSnapshotVersion=a,this.query=c};Qr.store="targets",Qr.keyPath="targetId",Qr.queryTargetsIndexName="queryTargetsIndex",Qr.queryTargetsKeyPath=["canonicalId","targetId"];var or=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};or.store="targetDocuments",or.keyPath=["targetId","path"],or.documentTargetsIndex="documentTargetsIndex",or.documentTargetsKeyPath=["path","targetId"];var pi=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};pi.key="targetGlobalKey",pi.store="targetGlobal";var Wc=function(t,e){this.collectionId=t,this.parent=e};function OS(t){t.createObjectStore(or.store,{keyPath:or.keyPath}).createIndex(or.documentTargetsIndex,or.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Qr.store,{keyPath:Qr.keyPath}).createIndex(Qr.queryTargetsIndexName,Qr.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(pi.store)}Wc.store="collectionParents",Wc.keyPath=["collectionId","parent"];var _a=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};_a.store="clientMetadata",_a.keyPath="clientId";var gL=Dr(Dr(Dr([rl.store,Pt.store,pr.store,en.store,Qr.store,hi.store,pi.store,or.store],[_a.store]),[ds.store]),[Wc.store]),mL=function(){function t(){this.la=new gI}return t.prototype.Mo=function(e,n){var r=this;if(!this.la.has(n)){var s=n._(),a=n.h();e.pr(function(){r.la.add(n)});var c={collectionId:s,parent:Lo(a)};return PS(e).put(c)}return oe.resolve()},t.prototype.Qr=function(e,n){var r=[],s=IDBKeyRange.bound([n,""],[VC(n),""],!1,!0);return PS(e).ts(s).next(function(a){for(var c=0,h=a;c<h.length;c++){var d=h[c];if(d.collectionId!==n)break;r.push(ba(d.parent))}return r})},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PS(t){return zi.Qn(t,Wc.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var i0=function(){function t(e){this._a=e}return t.prototype.next=function(){return this._a+=2,this._a},t.fa=function(){return new t(0)},t.da=function(){return new t(-1)},t}(),yL=function(){function t(e,n){this.No=e,this.serializer=n}return t.prototype.wa=function(e){var n=this;return this.ma(e).next(function(r){var s=new i0(r.highestTargetId);return r.highestTargetId=s.next(),n.Ta(e,r).next(function(){return r.highestTargetId})})},t.prototype.Ea=function(e){return this.ma(e).next(function(n){return nt.J(new Jr(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.Ia=function(e){return this.ma(e).next(function(n){return n.highestListenSequenceNumber})},t.prototype.Aa=function(e,n,r){var s=this;return this.ma(e).next(function(a){return a.highestListenSequenceNumber=n,r&&(a.lastRemoteSnapshotVersion=r.Z()),n>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=n),s.Ta(e,a)})},t.prototype.Ra=function(e,n){var r=this;return this.ga(e,n).next(function(){return r.ma(e).next(function(s){return s.targetCount+=1,r.Pa(n,s),r.Ta(e,s)})})},t.prototype.ya=function(e,n){return this.ga(e,n)},t.prototype.Va=function(e,n){var r=this;return this.pa(e,n.targetId).next(function(){return lp(e).delete(n.targetId)}).next(function(){return r.ma(e)}).next(function(s){return Te(s.targetCount>0),s.targetCount-=1,r.Ta(e,s)})},t.prototype.po=function(e,n,r){var s=this,a=0,c=[];return lp(e).rs(function(h,d){var g=rg(d);g.sequenceNumber<=n&&r.get(g.targetId)===null&&(a++,c.push(s.Va(e,g)))}).next(function(){return oe.$n(c)}).next(function(){return a})},t.prototype.Ce=function(e,n){return lp(e).rs(function(r,s){var a=rg(s);n(a)})},t.prototype.ma=function(e){return DS(e).get(pi.key).next(function(n){return Te(n!==null),n})},t.prototype.Ta=function(e,n){return DS(e).put(pi.key,n)},t.prototype.ga=function(e,n){return lp(e).put(Ik(this.serializer,n))},t.prototype.Pa=function(e,n){var r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r},t.prototype.ba=function(e){return this.ma(e).next(function(n){return n.targetCount})},t.prototype.va=function(e,n){var r=Wg(n),s=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),a=null;return lp(e).rs({range:s,index:Qr.queryTargetsIndexName},function(c,h,d){var g=rg(h);x0(n,g.target)&&(a=g,d.done())}).next(function(){return a})},t.prototype.Sa=function(e,n,r){var s=this,a=[],c=Zu(e);return n.forEach(function(h){var d=Lo(h.path);a.push(c.put(new or(r,d))),a.push(s.No.Da(e,r,h))}),oe.$n(a)},t.prototype.Ca=function(e,n,r){var s=this,a=Zu(e);return oe.forEach(n,function(c){var h=Lo(c.path);return oe.$n([a.delete([r,h]),s.No.Na(e,r,c)])})},t.prototype.pa=function(e,n){var r=Zu(e),s=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(s)},t.prototype.Fa=function(e,n){var r=IDBKeyRange.bound([n],[n+1],!1,!0),s=Zu(e),a=xt();return s.rs({range:r,ss:!0},function(c,h,d){var g=ba(c[1]),y=new ke(g);a=a.add(y)}).next(function(){return a})},t.prototype.Ho=function(e,n){var r=Lo(n.path),s=IDBKeyRange.bound([r],[VC(r)],!1,!0),a=0;return Zu(e).rs({index:or.documentTargetsIndex,ss:!0,range:s},function(c,h,d){var g=c[0];c[1],g!==0&&(a++,d.done())}).next(function(){return a>0})},t.prototype.Ue=function(e,n){return lp(e).get(n).next(function(r){return r?rg(r):null})},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lp(t){return zi.Qn(t,Qr.store)}function DS(t){return zi.Qn(t,pi.store)}function Zu(t){return zi.Qn(t,or.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yw="Failed to obtain exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `synchronizeTabs:true` in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Xw=function(t){function e(n,r){var s=this;return(s=t.call(this)||this).jo=n,s.xa=r,s}return we(e,t),e}(wk),zi=function(){function t(e,n,r,s,a,c,h,d,g,y){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.fn=a,this.window=c,this.document=h,this.$a=g,this.ka=y,this.Ma=null,this.Oa=!1,this.isPrimary=!1,this.networkEnabled=!0,this.La=null,this.inForeground=!1,this.Ba=null,this.qa=null,this.Ua=Number.NEGATIVE_INFINITY,this.Qa=function(E){return Promise.resolve()},!t.Ln())throw new $(q.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.No=new bL(this,s),this.Wa=n+"main",this.serializer=new aL(d),this.ja=new Ep(this.Wa,10,new hL(this.serializer)),this.Ka=new yL(this.No,this.serializer),this.Dr=new mL,this.vr=function(E,I){return new lL(E,I)}(this.serializer,this.Dr),this.window&&this.window.localStorage?this.Ga=this.window.localStorage:(this.Ga=null,y===!1&&Xt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.Qn=function(e,n){if(e instanceof Xw)return Ep.Qn(e.jo,n);throw be()},t.prototype.start=function(){var e=this;return this.za().then(function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new $(q.FAILED_PRECONDITION,Yw);return e.Ha(),e.Ya(),e.Ja(),e.runTransaction("getHighestListenSequenceNumber","readonly",function(n){return e.Ka.Ia(n)})}).then(function(n){e.Ma=new gi(n,e.$a)}).then(function(){e.Oa=!0}).catch(function(n){return e.ja&&e.ja.close(),Promise.reject(n)})},t.prototype.Xa=function(e){var n=this;return this.Qa=function(r){return B(n,void 0,void 0,function(){return j(this,function(s){return this.Ei?[2,e(r)]:[2]})})},e(this.isPrimary)},t.prototype.Za=function(e){var n=this;this.ja.Kn(function(r){return B(n,void 0,void 0,function(){return j(this,function(s){switch(s.label){case 0:return r.newVersion===null?[4,e()]:[3,2];case 1:s.sent(),s.label=2;case 2:return[2]}})})})},t.prototype.tc=function(e){var n=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.fn.ws(function(){return B(n,void 0,void 0,function(){return j(this,function(r){switch(r.label){case 0:return this.Ei?[4,this.za()]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})}))},t.prototype.za=function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(n){return db(n).put(new _a(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next(function(){if(e.isPrimary)return e.ec(n).next(function(r){r||(e.isPrimary=!1,e.fn.Cs(function(){return e.Qa(!1)}))})}).next(function(){return e.nc(n)}).next(function(r){return e.isPrimary&&!r?e.sc(n).next(function(){return!1}):!!r&&e.ic(n).next(function(){return!0})})}).catch(function(n){if(ff(n))return ue("IndexedDbPersistence","Failed to extend owner lease: ",n),e.isPrimary;if(!e.allowTabSynchronization)throw n;return ue("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(function(n){e.isPrimary!==n&&e.fn.Cs(function(){return e.Qa(n)}),e.isPrimary=n})},t.prototype.ec=function(e){var n=this;return Zv(e).get(hi.key).next(function(r){return oe.resolve(n.rc(r))})},t.prototype.oc=function(e){return db(e).delete(this.clientId)},t.prototype.ac=function(){return B(this,void 0,void 0,function(){var e,n,r,s,a=this;return j(this,function(c){switch(c.label){case 0:return!this.isPrimary||this.cc(this.Ua,18e5)?[3,2]:(this.Ua=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(h){var d=t.Qn(h,_a.store);return d.ts().next(function(g){var y=a.uc(g,18e5),E=g.filter(function(I){return y.indexOf(I)===-1});return oe.forEach(E,function(I){return d.delete(I.clientId)}).next(function(){return E})})}).catch(function(){return[]})]);case 1:if(e=c.sent(),this.Ga)for(n=0,r=e;n<r.length;n++)s=r[n],this.Ga.removeItem(this.hc(s.clientId));c.label=2;case 2:return[2]}})})},t.prototype.Ja=function(){var e=this;this.qa=this.fn.yn("client_metadata_refresh",4e3,function(){return e.za().then(function(){return e.ac()}).then(function(){return e.Ja()})})},t.prototype.rc=function(e){return!!e&&e.ownerId===this.clientId},t.prototype.nc=function(e){var n=this;return this.ka?oe.resolve(!0):Zv(e).get(hi.key).next(function(r){if(r!==null&&n.cc(r.leaseTimestampMs,5e3)&&!n.lc(r.ownerId)){if(n.rc(r)&&n.networkEnabled)return!0;if(!n.rc(r)){if(!r.allowTabSynchronization)throw new $(q.FAILED_PRECONDITION,Yw);return!1}}return!(!n.networkEnabled||!n.inForeground)||db(e).ts().next(function(s){return n.uc(s,5e3).find(function(a){if(n.clientId!==a.clientId){var c=!n.networkEnabled&&a.networkEnabled,h=!n.inForeground&&a.inForeground,d=n.networkEnabled===a.networkEnabled;if(c||h&&d)return!0}return!1})===void 0})}).next(function(r){return n.isPrimary!==r&&ue("IndexedDbPersistence","Client "+(r?"is":"is not")+" eligible for a primary lease."),r})},t.prototype.Di=function(){return B(this,void 0,void 0,function(){var e=this;return j(this,function(n){switch(n.label){case 0:return this.Oa=!1,this._c(),this.qa&&(this.qa.cancel(),this.qa=null),this.fc(),this.dc(),[4,this.ja.runTransaction("shutdown","readwrite",[hi.store,_a.store],function(r){var s=new Xw(r,gi.ai);return e.sc(s).next(function(){return e.oc(s)})})];case 1:return n.sent(),this.ja.close(),this.wc(),[2]}})})},t.prototype.uc=function(e,n){var r=this;return e.filter(function(s){return r.cc(s.updateTimeMs,n)&&!r.lc(s.clientId)})},t.prototype.pi=function(){var e=this;return this.runTransaction("getActiveClients","readonly",function(n){return db(n).ts().next(function(r){return e.uc(r,18e5).map(function(s){return s.clientId})})})},Object.defineProperty(t.prototype,"Ei",{get:function(){return this.Oa},enumerable:!1,configurable:!0}),t.prototype.mc=function(e){return uL.xo(e,this.serializer,this.Dr,this.No)},t.prototype.Tc=function(){return this.Ka},t.prototype.Ec=function(){return this.vr},t.prototype.Ic=function(){return this.Dr},t.prototype.runTransaction=function(e,n,r){var s=this;ue("IndexedDbPersistence","Starting transaction:",e);var a,c=n==="readonly"?"readonly":"readwrite";return this.ja.runTransaction(e,c,gL,function(h){return a=new Xw(h,s.Ma?s.Ma.next():gi.ai),n==="readwrite-primary"?s.ec(a).next(function(d){return!!d||s.nc(a)}).next(function(d){if(!d)throw Xt("Failed to obtain primary lease for action '"+e+"'."),s.isPrimary=!1,s.fn.Cs(function(){return s.Qa(!1)}),new $(q.FAILED_PRECONDITION,bk);return r(a)}).next(function(d){return s.ic(a).next(function(){return d})}):s.Ac(a).next(function(){return r(a)})}).then(function(h){return a.br(),h})},t.prototype.Ac=function(e){var n=this;return Zv(e).get(hi.key).next(function(r){if(r!==null&&n.cc(r.leaseTimestampMs,5e3)&&!n.lc(r.ownerId)&&!n.rc(r)&&!(n.ka||n.allowTabSynchronization&&r.allowTabSynchronization))throw new $(q.FAILED_PRECONDITION,Yw)})},t.prototype.ic=function(e){var n=new hi(this.clientId,this.allowTabSynchronization,Date.now());return Zv(e).put(hi.key,n)},t.Ln=function(){return Ep.Ln()},t.prototype.sc=function(e){var n=this,r=Zv(e);return r.get(hi.key).next(function(s){return n.rc(s)?(ue("IndexedDbPersistence","Releasing primary lease."),r.delete(hi.key)):oe.resolve()})},t.prototype.cc=function(e,n){var r=Date.now();return!(e<r-n||e>r&&(Xt("Detected an update time that is in the future: "+e+" > "+r),1))},t.prototype.Ha=function(){var e=this;this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ba=function(){e.fn.ws(function(){return e.inForeground=e.document.visibilityState==="visible",e.za()})},this.document.addEventListener("visibilitychange",this.Ba),this.inForeground=this.document.visibilityState==="visible")},t.prototype.fc=function(){this.Ba&&(this.document.removeEventListener("visibilitychange",this.Ba),this.Ba=null)},t.prototype.Ya=function(){var e,n=this;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.La=function(){n._c(),n.fn.ws(function(){return n.Di()})},this.window.addEventListener("unload",this.La))},t.prototype.dc=function(){this.La&&(this.window.removeEventListener("unload",this.La),this.La=null)},t.prototype.lc=function(e){var n;try{var r=((n=this.Ga)===null||n===void 0?void 0:n.getItem(this.hc(e)))!==null;return ue("IndexedDbPersistence","Client '"+e+"' "+(r?"is":"is not")+" zombied in LocalStorage"),r}catch(s){return Xt("IndexedDbPersistence","Failed to get zombied client id.",s),!1}},t.prototype._c=function(){if(this.Ga)try{this.Ga.setItem(this.hc(this.clientId),String(Date.now()))}catch(e){Xt("Failed to set zombie client id.",e)}},t.prototype.wc=function(){if(this.Ga)try{this.Ga.removeItem(this.hc(this.clientId))}catch{}},t.prototype.hc=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},t}();function Zv(t){return zi.Qn(t,hi.store)}function db(t){return zi.Qn(t,_a.store)}var bL=function(){function t(e,n){this.db=e,this.wo=new oL(this,n)}return t.prototype.Po=function(e){var n=this.Rc(e);return this.db.Tc().ba(e).next(function(r){return n.next(function(s){return r+s})})},t.prototype.Rc=function(e){var n=0;return this.Vo(e,function(r){n++}).next(function(){return n})},t.prototype.Ce=function(e,n){return this.db.Tc().Ce(e,n)},t.prototype.Vo=function(e,n){return this.gc(e,function(r,s){return n(s)})},t.prototype.Da=function(e,n,r){return vb(e,r)},t.prototype.Na=function(e,n,r){return vb(e,r)},t.prototype.po=function(e,n,r){return this.db.Tc().po(e,n,r)},t.prototype.Go=function(e,n){return vb(e,n)},t.prototype.Pc=function(e,n){return function(r,s){var a=!1;return Ak(r).os(function(c){return Sk(r,c,s).next(function(h){return h&&(a=!0),oe.resolve(!h)})}).next(function(){return a})}(e,n)},t.prototype.bo=function(e,n){var r=this,s=this.db.Ec().ra(),a=[],c=0;return this.gc(e,function(h,d){if(d<=n){var g=r.Pc(e,h).next(function(y){if(!y)return c++,s.Rr(e,h).next(function(){return s.Ar(h),Zu(e).delete([0,Lo(h.path)])})});a.push(g)}}).next(function(){return oe.$n(a)}).next(function(){return s.apply(e)}).next(function(){return c})},t.prototype.removeTarget=function(e,n){var r=n.st(e.xa);return this.db.Tc().ya(e,r)},t.prototype.yc=function(e,n){return vb(e,n)},t.prototype.gc=function(e,n){var r,s=Zu(e),a=gi.ai;return s.rs({index:or.documentTargetsIndex},function(c,h){var d=c[0],g=(c[1],h.path),y=h.sequenceNumber;d===0?(a!==gi.ai&&n(new ke(ba(r)),a),a=y,r=g):a=gi.ai}).next(function(){a!==gi.ai&&n(new ke(ba(r)),a)})},t.prototype.So=function(e){return this.db.Ec().aa(e)},t}();function vb(t,e){return Zu(t).put(function(n,r){return new or(0,Lo(n.path),r)}(e,t.xa))}function $w(t,e){var n=t.projectId;return t.j||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var wL=function(){function t(e,n,r){this.persistence=e,this.Vc=n,this.bc=new _r(Xe),this.vc=new Kp(function(s){return Wg(s)},x0),this.Sc=nt.min(),this.Sr=e.mc(r),this.Dc=e.Ec(),this.Ka=e.Tc(),this.Cc=new _k(this.Dc,this.Sr,this.persistence.Ic()),this.Vc.Nc(this.Cc)}return t.prototype.Io=function(e){var n=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(r){return e.vo(r,n.bc)})},t}();function _L(t,e){var n=de(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(r){var s=e.batch.keys(),a=n.Dc.ra({oa:!0});return function(c,h,d,g){var y=d.batch,E=y.keys(),I=oe.resolve();return E.forEach(function(T){I=I.next(function(){return g.Rr(h,T)}).next(function(x){var A=x,N=d.dr.get(T);Te(N!==null),(!A||A.version.L(N)<0)&&(A=y.cr(T,A,d))&&g.Er(A,d._r)})}),I.next(function(){return c.Sr.Wo(h,y)})}(n,r,e,a).next(function(){return a.apply(r)}).next(function(){return n.Sr.zo(r)}).next(function(){return n.Cc.kr(r,s)})})}function Ck(t){var e=de(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(n){return e.Ka.Ea(n)})}function EL(t,e){var n=de(t),r=e.nt,s=n.bc;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(a){var c=n.Dc.ra({oa:!0});s=n.bc;var h=[];e.zt.forEach(function(E,I){var T=s.get(I);if(T){h.push(n.Ka.Ca(a,E.se,I).next(function(){return n.Ka.Sa(a,E.ee,I)}));var x=E.resumeToken;if(x.O()>0){var A=T.it(x,r).st(a.xa);s=s.ot(I,A),function(N,D,L){return Te(D.resumeToken.O()>0),N.resumeToken.O()===0||D.nt.X()-N.nt.X()>=3e8||L.ee.size+L.ne.size+L.se.size>0}(T,A,E)&&h.push(n.Ka.ya(a,A))}}});var d=Qc(),g=xt();if(e.Yt.forEach(function(E,I){g=g.add(E)}),h.push(c.getEntries(a,g).next(function(E){e.Yt.forEach(function(I,T){var x=E.get(I);T instanceof Hn&&T.version.isEqual(nt.min())?(c.Ar(I,r),d=d.ot(I,T)):x==null||T.version.L(x.version)>0||T.version.L(x.version)===0&&x.hasPendingWrites?(c.Er(T,r),d=d.ot(I,T)):ue("LocalStore","Ignoring outdated watch update for ",I,". Current version:",x.version," Watch version:",T.version),e.Jt.has(I)&&h.push(n.persistence.No.yc(a,I))})})),!r.isEqual(nt.min())){var y=n.Ka.Ea(a).next(function(E){return n.Ka.Aa(a,a.xa,r)});h.push(y)}return oe.$n(h).next(function(){return c.apply(a)}).next(function(){return n.Cc.Mr(a,d)})}).then(function(a){return n.bc=s,a})}function IL(t,e){var n=de(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(r){return e===void 0&&(e=-1),n.Sr.Bo(r,e)})}function o0(t,e){var n=de(t);return n.persistence.runTransaction("Allocate target","readwrite",function(r){var s;return n.Ka.va(r,e).next(function(a){return a?(s=a,oe.resolve(s)):n.Ka.wa(r).next(function(c){return s=new N0(e,c,0,r.xa),n.Ka.Ra(r,s).next(function(){return s})})})}).then(function(r){var s=n.bc.get(r.targetId);return(s===null||r.nt.L(s.nt)>0)&&(n.bc=n.bc.ot(r.targetId,r),n.vc.set(e,r.targetId)),r})}function Dp(t,e,n){return B(this,void 0,void 0,function(){var r,s,a,c;return j(this,function(h){switch(h.label){case 0:r=de(t),s=r.bc.get(e),a=n?"readwrite":"readwrite-primary",h.label=1;case 1:return h.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",a,function(d){return r.persistence.No.removeTarget(d,s)})];case 2:h.sent(),h.label=3;case 3:return[3,5];case 4:if(!ff(c=h.sent()))throw c;return ue("LocalStore","Failed to update sequence numbers for target "+e+": "+c),[3,5];case 5:return r.bc=r.bc.remove(e),r.vc.delete(s.target),[2]}})})}function s0(t,e,n){var r=de(t),s=nt.min(),a=xt();return r.persistence.runTransaction("Execute query","readonly",function(c){return function(h,d,g){var y=de(h),E=y.vc.get(g);return E!==void 0?oe.resolve(y.bc.get(E)):y.Ka.va(d,g)}(r,c,ws(e)).next(function(h){if(h)return s=h.lastLimboFreeSnapshotVersion,r.Ka.Fa(c,h.targetId).next(function(d){a=d})}).next(function(){return r.Vc.Lr(c,e,n?s:nt.min(),n?a:xt())}).next(function(h){return{documents:h,Fc:a}})})}function kk(t,e){var n=de(t),r=de(n.Ka),s=n.bc.get(e);return s?Promise.resolve(s.target):n.persistence.runTransaction("Get target data","readonly",function(a){return r.Ue(a,e).next(function(c){return c?c.target:null})})}function SL(t){var e=de(t);return e.persistence.runTransaction("Get new document changes","readonly",function(n){return function(r,s,a){var c=de(r),h=Qc(),d=vI(a),g=$u(s),y=IDBKeyRange.lowerBound(d,!0);return g.rs({index:en.readTimeIndex,range:y},function(E,I){var T=X_(c.serializer,I);h=h.ot(T.key,T),d=I.readTime}).next(function(){return{xc:h,readTime:Ek(d)}})}(e.Dc,n,e.Sc)}).then(function(n){var r=n.xc,s=n.readTime;return e.Sc=s,r})}function TL(t){return B(this,void 0,void 0,function(){var e;return j(this,function(n){return[2,(e=de(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(r){return function(s){var a=$u(s),c=nt.min();return a.rs({index:en.readTimeIndex,reverse:!0},function(h,d,g){d.readTime&&(c=Ek(d.readTime)),g.done()}).next(function(){return c})}(r)}).then(function(r){e.Sc=r})]})})}function hf(t){return B(this,void 0,void 0,function(){return j(this,function(e){if(t.code!==q.FAILED_PRECONDITION||t.message!==bk)throw t;return ue("LocalStore","Unexpectedly lost primary lease"),[2]})})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mI=function(){function t(){this.$c=new Pn(qn.kc),this.Mc=new Pn(qn.Oc)}return t.prototype.m=function(){return this.$c.m()},t.prototype.Da=function(e,n){var r=new qn(e,n);this.$c=this.$c.add(r),this.Mc=this.Mc.add(r)},t.prototype.Lc=function(e,n){var r=this;e.forEach(function(s){return r.Da(s,n)})},t.prototype.Na=function(e,n){this.Bc(new qn(e,n))},t.prototype.qc=function(e,n){var r=this;e.forEach(function(s){return r.Na(s,n)})},t.prototype.Uc=function(e){var n=this,r=new ke(new Lt([])),s=new qn(r,e),a=new qn(r,e+1),c=[];return this.Mc.Ft([s,a],function(h){n.Bc(h),c.push(h.key)}),c},t.prototype.Qc=function(){var e=this;this.$c.forEach(function(n){return e.Bc(n)})},t.prototype.Bc=function(e){this.$c=this.$c.delete(e),this.Mc=this.Mc.delete(e)},t.prototype.Wc=function(e){var n=new ke(new Lt([])),r=new qn(n,e),s=new qn(n,e+1),a=xt();return this.Mc.Ft([r,s],function(c){a=a.add(c.key)}),a},t.prototype.Ho=function(e){var n=new qn(e,0),r=this.$c.$t(n);return r!==null&&e.isEqual(r.key)},t}(),qn=function(){function t(e,n){this.key=e,this.jc=n}return t.kc=function(e,n){return ke.i(e.key,n.key)||Xe(e.jc,n.jc)},t.Oc=function(e,n){return Xe(e.jc,n.jc)||ke.i(e.key,n.key)},t}(),AL=function(t,e){this.user=e,this.type="OAuth",this.Kc={},this.Kc.Authorization="Bearer "+t},LS=function(){function t(){this.Gc=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.zc=function(){},t.prototype.Hc=function(e){this.Gc=e,e(ji.UNAUTHENTICATED)},t.prototype.Yc=function(){this.Gc=null},t}(),CL=function(){function t(e){var n=this;this.Jc=null,this.currentUser=ji.UNAUTHENTICATED,this.Xc=!1,this.Zc=0,this.Gc=null,this.forceRefresh=!1,this.Jc=function(){n.Zc++,n.currentUser=n.tu(),n.Xc=!0,n.Gc&&n.Gc(n.currentUser)},this.Zc=0,this.auth=e.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.Jc):(this.Jc(null),e.get().then(function(r){n.auth=r,n.Jc&&n.auth.addAuthTokenListener(n.Jc)},function(){}))}return t.prototype.getToken=function(){var e=this,n=this.Zc,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(function(s){return e.Zc!==n?(ue("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):s?(Te(typeof s.accessToken=="string"),new AL(s.accessToken,e.currentUser)):null}):Promise.resolve(null)},t.prototype.zc=function(){this.forceRefresh=!0},t.prototype.Hc=function(e){this.Gc=e,this.Xc&&e(this.currentUser)},t.prototype.Yc=function(){this.auth&&this.auth.removeAuthTokenListener(this.Jc),this.Jc=null,this.Gc=null},t.prototype.tu=function(){var e=this.auth&&this.auth.getUid();return Te(e===null||typeof e=="string"),new ji(e)},t}(),kL=function(){function t(e,n){this.eu=e,this.nu=n,this.type="FirstParty",this.user=ji.ni}return Object.defineProperty(t.prototype,"Kc",{get:function(){var e={"X-Goog-AuthUser":this.nu},n=this.eu.auth.getAuthHeaderValueForFirstParty([]);return n&&(e.Authorization=n),e},enumerable:!1,configurable:!0}),t}(),xL=function(){function t(e,n){this.eu=e,this.nu=n}return t.prototype.getToken=function(){return Promise.resolve(new kL(this.eu,this.nu))},t.prototype.Hc=function(e){e(ji.ni)},t.prototype.Yc=function(){},t.prototype.zc=function(){},t}(),xk=function(){function t(e,n,r,s,a,c){this.fn=e,this.su=r,this.iu=s,this.ru=a,this.listener=c,this.state=0,this.ou=0,this.au=null,this.stream=null,this.ys=new fI(e,n)}return t.prototype.cu=function(){return this.state===1||this.state===2||this.state===4},t.prototype.uu=function(){return this.state===2},t.prototype.start=function(){this.state!==3?this.auth():this.hu()},t.prototype.stop=function(){return B(this,void 0,void 0,function(){return j(this,function(e){switch(e.label){case 0:return this.cu()?[4,this.close(0)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},t.prototype.lu=function(){this.state=0,this.ys.reset()},t.prototype._u=function(){var e=this;this.uu()&&this.au===null&&(this.au=this.fn.yn(this.su,6e4,function(){return e.fu()}))},t.prototype.du=function(e){this.wu(),this.stream.send(e)},t.prototype.fu=function(){return B(this,void 0,void 0,function(){return j(this,function(e){return this.uu()?[2,this.close(0)]:[2]})})},t.prototype.wu=function(){this.au&&(this.au.cancel(),this.au=null)},t.prototype.close=function(e,n){return B(this,void 0,void 0,function(){return j(this,function(r){switch(r.label){case 0:return this.wu(),this.ys.cancel(),this.ou++,e!==3?this.ys.reset():n&&n.code===q.RESOURCE_EXHAUSTED?(Xt(n.toString()),Xt("Using maximum backoff delay to prevent overloading the backend."),this.ys.Rn()):n&&n.code===q.UNAUTHENTICATED&&this.ru.zc(),this.stream!==null&&(this.mu(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.Tu(n)];case 1:return r.sent(),[2]}})})},t.prototype.mu=function(){},t.prototype.auth=function(){var e=this;this.state=1;var n=this.Eu(this.ou),r=this.ou;this.ru.getToken().then(function(s){e.ou===r&&e.Iu(s)},function(s){n(function(){var a=new $(q.UNKNOWN,"Fetching auth token failed: "+s.message);return e.Au(a)})})},t.prototype.Iu=function(e){var n=this,r=this.Eu(this.ou);this.stream=this.Ru(e),this.stream.gu(function(){r(function(){return n.state=2,n.listener.gu()})}),this.stream.Tu(function(s){r(function(){return n.Au(s)})}),this.stream.onMessage(function(s){r(function(){return n.onMessage(s)})})},t.prototype.hu=function(){var e=this;this.state=4,this.ys.gn(function(){return B(e,void 0,void 0,function(){return j(this,function(n){return this.state=0,this.start(),[2]})})})},t.prototype.Au=function(e){return ue("PersistentStream","close with error: "+e),this.stream=null,this.close(3,e)},t.prototype.Eu=function(e){var n=this;return function(r){n.fn.ws(function(){return n.ou===e?r():(ue("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),NL=function(t){function e(n,r,s,a,c){var h=this;return(h=t.call(this,n,"listen_stream_connection_backoff","listen_stream_idle",r,s,c)||this).serializer=a,h}return we(e,t),e.prototype.Ru=function(n){return this.iu.Pu("Listen",n)},e.prototype.onMessage=function(n){this.ys.reset();var r=function(a,c){var h;if("targetChange"in c){c.targetChange;var d=function(Ce){return Ce==="NO_CHANGE"?0:Ce==="ADD"?1:Ce==="REMOVE"?2:Ce==="CURRENT"?3:Ce==="RESET"?4:be()}(c.targetChange.targetChangeType||"NO_CHANGE"),g=c.targetChange.targetIds||[],y=function(Ce,ct){return Ce.Qe?(Te(ct===void 0||typeof ct=="string"),wr.fromBase64String(ct||"")):(Te(ct===void 0||ct instanceof Uint8Array),wr.fromUint8Array(ct||new Uint8Array))}(a,c.targetChange.resumeToken),E=c.targetChange.cause,I=E&&function(Ce){var ct=Ce.code===void 0?q.UNKNOWN:GC(Ce.code);return new $(ct,Ce.message||"")}(E);h=new zC(d,g,y,I||null)}else if("documentChange"in c){c.documentChange;var T=c.documentChange;T.document,T.document.name,T.document.updateTime;var x=ps(a,T.document.name),A=Po(T.document.updateTime),N=new ll({mapValue:{fields:T.document.fields}}),D=new vt(x,A,N,{}),L=T.targetIds||[],H=T.removedTargetIds||[];h=new Sb(L,H,D.key,D)}else if("documentDelete"in c){c.documentDelete;var X=c.documentDelete;X.document;var z=ps(a,X.document),P=X.readTime?Po(X.readTime):nt.min(),Be=new Hn(z,P),Ae=X.removedTargetIds||[];h=new Sb([],Ae,Be.key,Be)}else if("documentRemove"in c){c.documentRemove;var J=c.documentRemove;J.document;var se=ps(a,J.document),re=J.removedTargetIds||[];h=new Sb([],re,se,null)}else{if(!("filter"in c))return be();c.filter;var le=c.filter;le.targetId;var he=le.count||0,te=new dD(he),De=le.targetId;h=new HC(De,te)}return h}(this.serializer,n),s=function(a){if(!("targetChange"in a))return nt.min();var c=a.targetChange;return c.targetIds&&c.targetIds.length?nt.min():c.readTime?Po(c.readTime):nt.min()}(n);return this.listener.yu(r,s)},e.prototype.Vu=function(n){var r={};r.database=Eg(this.serializer),r.addTarget=function(a,c){var h,d=c.target;return(h=zb(d)?{documents:tk(a,d)}:{query:nk(a,d)}).targetId=c.targetId,c.resumeToken.O()>0&&(h.resumeToken=QC(a,c.resumeToken)),h}(this.serializer,n);var s=function(a,c){var h=function(d,g){switch(g){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return be()}}(0,c.et);return h==null?null:{"goog-listen-tags":h}}(this.serializer,n);s&&(r.labels=s),this.du(r)},e.prototype.pu=function(n){var r={};r.database=Eg(this.serializer),r.removeTarget=n,this.du(r)},e}(xk),RL=function(t){function e(n,r,s,a,c){var h=this;return(h=t.call(this,n,"write_stream_connection_backoff","write_stream_idle",r,s,c)||this).serializer=a,h.bu=!1,h}return we(e,t),Object.defineProperty(e.prototype,"vu",{get:function(){return this.bu},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.bu=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.mu=function(){this.bu&&this.Su([])},e.prototype.Ru=function(n){return this.iu.Pu("Write",n)},e.prototype.onMessage=function(n){if(Te(!!n.streamToken),this.lastStreamToken=n.streamToken,this.bu){this.ys.reset();var r=function(a,c){return a&&a.length>0?(Te(c!==void 0),a.map(function(h){return function(d,g){var y=d.updateTime?Po(d.updateTime):Po(g);y.isEqual(nt.min())&&(y=Po(g));var E=null;return d.transformResults&&d.transformResults.length>0&&(E=d.transformResults),new DD(y,E)}(h,c)})):[]}(n.writeResults,n.commitTime),s=Po(n.commitTime);return this.listener.Du(s,r)}return Te(!n.writeResults||n.writeResults.length===0),this.bu=!0,this.listener.Cu()},e.prototype.Nu=function(){var n={};n.database=Eg(this.serializer),this.du(n)},e.prototype.Su=function(n){var r=this,s={streamToken:this.lastStreamToken,writes:n.map(function(a){return Qb(r.serializer,a)})};this.du(s)},e}(xk),OL=function(t){function e(n,r,s){var a=this;return(a=t.call(this)||this).credentials=n,a.iu=r,a.serializer=s,a.Fu=!1,a}return we(e,t),e.prototype.xu=function(){if(this.Fu)throw new $(q.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.$u=function(n,r,s){var a=this;return this.xu(),this.credentials.getToken().then(function(c){return a.iu.$u(n,r,s,c)}).catch(function(c){throw c.code===q.UNAUTHENTICATED&&a.credentials.zc(),c})},e.prototype.ku=function(n,r,s){var a=this;return this.xu(),this.credentials.getToken().then(function(c){return a.iu.ku(n,r,s,c)}).catch(function(c){throw c.code===q.UNAUTHENTICATED&&a.credentials.zc(),c})},e.prototype.terminate=function(){this.Fu=!1},e}(function(){}),PL=function(){function t(e,n){this.cs=e,this.di=n,this.state="Unknown",this.Mu=0,this.Ou=null,this.Lu=!0}return t.prototype.Bu=function(){var e=this;this.Mu===0&&(this.qu("Unknown"),this.Ou=this.cs.yn("online_state_timeout",1e4,function(){return e.Ou=null,e.Uu("Backend didn't respond within 10 seconds."),e.qu("Offline"),Promise.resolve()}))},t.prototype.Qu=function(e){this.state==="Online"?this.qu("Unknown"):(this.Mu++,this.Mu>=1&&(this.Wu(),this.Uu("Connection failed 1 times. Most recent error: "+e.toString()),this.qu("Offline")))},t.prototype.set=function(e){this.Wu(),this.Mu=0,e==="Online"&&(this.Lu=!1),this.qu(e)},t.prototype.qu=function(e){e!==this.state&&(this.state=e,this.di(e))},t.prototype.Uu=function(e){var n="Could not reach Cloud Firestore backend. "+e+`
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Lu?(Xt(n),this.Lu=!1):ue("OnlineStateTracker",n)},t.prototype.Wu=function(){this.Ou!==null&&(this.Ou.cancel(),this.Ou=null)},t}(),DL=function(t,e,n,r,s){var a=this;this.ju=t,this.Ku=e,this.cs=n,this.Gu={},this.zu=[],this.Hu=new Map,this.Yu=new Set,this.Ju=[],this.Xu=s,this.Xu.Zu(function(c){n.ws(function(){return B(a,void 0,void 0,function(){return j(this,function(h){switch(h.label){case 0:return cl(this)?(ue("RemoteStore","Restarting streams for network reachability change."),[4,function(d){return B(this,void 0,void 0,function(){var g;return j(this,function(y){switch(y.label){case 0:return(g=de(d)).Yu.add(4),[4,Lp(g)];case 1:return y.sent(),g.th.set("Unknown"),g.Yu.delete(4),[4,Sg(g)];case 2:return y.sent(),[2]}})})}(this)]):[3,2];case 1:h.sent(),h.label=2;case 2:return[2]}})})})}),this.th=new PL(n,r)};function Sg(t){return B(this,void 0,void 0,function(){var e,n;return j(this,function(r){switch(r.label){case 0:if(!cl(t))return[3,4];e=0,n=t.Ju,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Lp(t){return B(this,void 0,void 0,function(){var e,n;return j(this,function(r){switch(r.label){case 0:e=0,n=t.Ju,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Nk(t){return B(this,void 0,void 0,function(){var e;return j(this,function(n){switch(n.label){case 0:return e=de(t),ue("RemoteStore","RemoteStore shutting down."),e.Yu.add(5),[4,Lp(e)];case 1:return n.sent(),e.Xu.Di(),e.th.set("Unknown"),[2]}})})}function P0(t,e){var n=de(t);n.Hu.has(e.targetId)||(n.Hu.set(e.targetId,e),wI(n)?bI(n):$p(n).uu()&&yI(n,e))}function Tg(t,e){var n=de(t),r=$p(n);n.Hu.delete(e),r.uu()&&Rk(n,e),n.Hu.size===0&&(r.uu()?r._u():cl(n)&&n.th.set("Unknown"))}function yI(t,e){t.eh.Ie(e.targetId),$p(t).Vu(e)}function Rk(t,e){t.eh.Ie(e),$p(t).pu(e)}function bI(t){t.eh=new wD({qe:function(e){return t.Gu.qe(e)},Ue:function(e){return t.Hu.get(e)||null}}),$p(t).start(),t.th.Bu()}function wI(t){return cl(t)&&!$p(t).cu()&&t.Hu.size>0}function cl(t){return de(t).Yu.size===0}function Ok(t){t.eh=void 0}function LL(t){return B(this,void 0,void 0,function(){return j(this,function(e){return t.Hu.forEach(function(n,r){yI(t,n)}),[2]})})}function ML(t,e){return B(this,void 0,void 0,function(){return j(this,function(n){return Ok(t),wI(t)?(t.th.Qu(e),bI(t)):t.th.set("Unknown"),[2]})})}function FL(t,e,n){return B(this,void 0,void 0,function(){var r,s,a;return j(this,function(c){switch(c.label){case 0:if(t.th.set("Online"),!(e instanceof zC&&e.state===2&&e.cause))return[3,6];c.label=1;case 1:return c.trys.push([1,3,,5]),[4,function(h,d){return B(this,void 0,void 0,function(){var g,y,E,I;return j(this,function(T){switch(T.label){case 0:g=d.cause,y=0,E=d.targetIds,T.label=1;case 1:return y<E.length?(I=E[y],h.Hu.has(I)?[4,h.Gu.nh(I,g)]:[3,3]):[3,5];case 2:T.sent(),h.Hu.delete(I),h.eh.removeTarget(I),T.label=3;case 3:T.label=4;case 4:return y++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return c.sent(),[3,5];case 3:return r=c.sent(),ue("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,a0(t,r)];case 4:return c.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof Sb?t.eh.be(e):e instanceof HC?t.eh.$e(e):t.eh.De(e),n.isEqual(nt.min()))return[3,13];c.label=7;case 7:return c.trys.push([7,11,,13]),[4,Ck(t.ju)];case 8:return s=c.sent(),n.L(s)>=0?[4,function(h,d){var g=h.eh.Oe(d);return g.zt.forEach(function(y,E){if(y.resumeToken.O()>0){var I=h.Hu.get(E);I&&h.Hu.set(E,I.it(y.resumeToken,d))}}),g.Ht.forEach(function(y){var E=h.Hu.get(y);if(E){h.Hu.set(y,E.it(wr.B,E.nt)),Rk(h,y);var I=new N0(E.target,y,1,E.sequenceNumber);yI(h,I)}}),h.Gu.sh(g)}(t,n)]:[3,10];case 9:c.sent(),c.label=10;case 10:return[3,13];case 11:return ue("RemoteStore","Failed to raise snapshot:",a=c.sent()),[4,a0(t,a)];case 12:return c.sent(),[3,13];case 13:return[2]}})})}function a0(t,e,n){return B(this,void 0,void 0,function(){var r=this;return j(this,function(s){switch(s.label){case 0:if(!ff(e))throw e;return t.Yu.add(1),[4,Lp(t)];case 1:return s.sent(),t.th.set("Offline"),n||(n=function(){return Ck(t.ju)}),t.cs.Cs(function(){return B(r,void 0,void 0,function(){return j(this,function(a){switch(a.label){case 0:return ue("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return a.sent(),t.Yu.delete(1),[4,Sg(t)];case 2:return a.sent(),[2]}})})}),[2]}})})}function Pk(t,e){return e().catch(function(n){return a0(t,n,e)})}function Xp(t){return B(this,void 0,void 0,function(){var e,n,r,s,a;return j(this,function(c){switch(c.label){case 0:e=de(t),n=fl(e),r=e.zu.length>0?e.zu[e.zu.length-1].batchId:-1,c.label=1;case 1:if(!function(h){return cl(h)&&h.zu.length<10}(e))return[3,7];c.label=2;case 2:return c.trys.push([2,4,,6]),[4,IL(e.ju,r)];case 3:return(s=c.sent())===null?(e.zu.length===0&&n._u(),[3,7]):(r=s.batchId,function(h,d){h.zu.push(d);var g=fl(h);g.uu()&&g.vu&&g.Su(d.mutations)}(e,s),[3,6]);case 4:return a=c.sent(),[4,a0(e,a)];case 5:return c.sent(),[3,6];case 6:return[3,1];case 7:return Dk(e)&&Lk(e),[2]}})})}function Dk(t){return cl(t)&&!fl(t).cu()&&t.zu.length>0}function Lk(t){fl(t).start()}function UL(t){return B(this,void 0,void 0,function(){return j(this,function(e){return fl(t).Nu(),[2]})})}function jL(t){return B(this,void 0,void 0,function(){var e,n,r,s;return j(this,function(a){for(e=fl(t),n=0,r=t.zu;n<r.length;n++)s=r[n],e.Su(s.mutations);return[2]})})}function VL(t,e,n){return B(this,void 0,void 0,function(){var r,s;return j(this,function(a){switch(a.label){case 0:return r=t.zu.shift(),s=tL.from(r,e,n),[4,Pk(t,function(){return t.Gu.ih(s)})];case 1:return a.sent(),[4,Xp(t)];case 2:return a.sent(),[2]}})})}function BL(t,e){return B(this,void 0,void 0,function(){return j(this,function(n){switch(n.label){case 0:return e&&fl(t).vu?[4,function(r,s){return B(this,void 0,void 0,function(){var a,c;return j(this,function(h){switch(h.label){case 0:return qC(c=s.code)&&c!==q.ABORTED?(a=r.zu.shift(),fl(r).lu(),[4,Pk(r,function(){return r.Gu.rh(a.batchId,s)})]):[3,3];case 1:return h.sent(),[4,Xp(r)];case 2:h.sent(),h.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Dk(t)&&Lk(t),[2]}})})}function $_(t,e){return B(this,void 0,void 0,function(){var n;return j(this,function(r){switch(r.label){case 0:return n=de(t),e?(n.Yu.delete(2),[4,Sg(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Yu.add(2),[4,Lp(n)]);case 3:r.sent(),n.th.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function $p(t){var e=this;return t.oh||(t.oh=function(n,r,s){var a=de(n);return a.xu(),new NL(r,a.iu,a.credentials,a.serializer,s)}(t.Ku,t.cs,{gu:LL.bind(null,t),Tu:ML.bind(null,t),yu:FL.bind(null,t)}),t.Ju.push(function(n){return B(e,void 0,void 0,function(){return j(this,function(r){switch(r.label){case 0:return n?(t.oh.lu(),wI(t)?bI(t):t.th.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.oh.stop()];case 2:r.sent(),Ok(t),r.label=3;case 3:return[2]}})})})),t.oh}function fl(t){var e=this;return t.ah||(t.ah=function(n,r,s){var a=de(n);return a.xu(),new RL(r,a.iu,a.credentials,a.serializer,s)}(t.Ku,t.cs,{gu:UL.bind(null,t),Tu:BL.bind(null,t),Cu:jL.bind(null,t),Du:VL.bind(null,t)}),t.Ju.push(function(n){return B(e,void 0,void 0,function(){return j(this,function(r){switch(r.label){case 0:return n?(t.ah.lu(),[4,Xp(t)]):[3,2];case 1:return r.sent(),[3,4];case 2:return[4,t.ah.stop()];case 3:r.sent(),t.zu.length>0&&(ue("RemoteStore","Stopping write stream with "+t.zu.length+" pending writes"),t.zu=[]),r.label=4;case 4:return[2]}})})})),t.ah}var Mk=function(t){this.key=t},Fk=function(t){this.key=t},Uk=function(){function t(e,n){this.query=e,this.uh=n,this.hh=null,this.te=!1,this.lh=xt(),this.Wt=xt(),this._h=vk(e),this.fh=new WC(this._h)}return Object.defineProperty(t.prototype,"dh",{get:function(){return this.uh},enumerable:!1,configurable:!0}),t.prototype.wh=function(e,n){var r=this,s=n?n.mh:new iS,a=n?n.fh:this.fh,c=n?n.Wt:this.Wt,h=a,d=!1,g=Tb(this.query)&&a.size===this.query.limit?a.last():null,y=Zb(this.query)&&a.size===this.query.limit?a.first():null;if(e.ht(function(I,T){var x=a.get(I),A=T instanceof vt?T:null;A&&(A=Qg(r.query,A)?A:null);var N=!!x&&r.Wt.has(x.key),D=!!A&&(A.Je||r.Wt.has(A.key)&&A.hasCommittedMutations),L=!1;x&&A?x.data().isEqual(A.data())?N!==D&&(s.track({type:3,doc:A}),L=!0):r.Th(x,A)||(s.track({type:2,doc:A}),L=!0,(g&&r._h(A,g)>0||y&&r._h(A,y)<0)&&(d=!0)):!x&&A?(s.track({type:0,doc:A}),L=!0):x&&!A&&(s.track({type:1,doc:x}),L=!0,(g||y)&&(d=!0)),L&&(A?(h=h.add(A),c=D?c.add(I):c.delete(I)):(h=h.delete(I),c=c.delete(I)))}),Tb(this.query)||Zb(this.query))for(;h.size>this.query.limit;){var E=Tb(this.query)?h.last():h.first();h=h.delete(E.key),c=c.delete(E.key),s.track({type:1,doc:E})}return{fh:h,mh:s,Eh:d,Wt:c}},t.prototype.Th=function(e,n){return e.Je&&n.hasCommittedMutations&&!n.Je},t.prototype.yr=function(e,n,r){var s=this,a=this.fh;this.fh=e.fh,this.Wt=e.Wt;var c=e.mh.Ut();c.sort(function(y,E){return function(I,T){var x=function(A){switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be()}};return x(I)-x(T)}(y.type,E.type)||s._h(y.doc,E.doc)}),this.Ih(r);var h=n?this.Ah():[],d=this.lh.size===0&&this.te?1:0,g=d!==this.hh;return this.hh=d,c.length!==0||g?{snapshot:new Yb(this.query,e.fh,a,c,e.Wt,d===0,g,!1),Rh:h}:{Rh:h}},t.prototype.Qs=function(e){return this.te&&e==="Offline"?(this.te=!1,this.yr({fh:this.fh,mh:new iS,Wt:this.Wt,Eh:!1},!1)):{Rh:[]}},t.prototype.gh=function(e){return!this.uh.has(e)&&!!this.fh.has(e)&&!this.fh.get(e).Je},t.prototype.Ih=function(e){var n=this;e&&(e.ee.forEach(function(r){return n.uh=n.uh.add(r)}),e.ne.forEach(function(r){}),e.se.forEach(function(r){return n.uh=n.uh.delete(r)}),this.te=e.te)},t.prototype.Ah=function(){var e=this;if(!this.te)return[];var n=this.lh;this.lh=xt(),this.fh.forEach(function(s){e.gh(s.key)&&(e.lh=e.lh.add(s.key))});var r=[];return n.forEach(function(s){e.lh.has(s)||r.push(new Fk(s))}),this.lh.forEach(function(s){n.has(s)||r.push(new Mk(s))}),r},t.prototype.Ph=function(e){this.uh=e.Fc,this.lh=xt();var n=this.wh(e.documents);return this.yr(n,!0)},t.prototype.yh=function(){return Yb.Gt(this.query,this.fh,this.Wt,this.hh===0)},t}(),qL=function(t,e,n){this.query=t,this.targetId=e,this.view=n},GL=function(t){this.key=t,this.Vh=!1},WL=function(){function t(e,n,r,s,a,c){this.ju=e,this.ph=n,this.bh=r,this.Sh=s,this.currentUser=a,this.Dh=c,this.Ch={},this.Nh=new Kp(function(h){return dk(h)},Yp),this.Fh=new Map,this.xh=[],this.$h=new _r(ke.i),this.kh=new Map,this.Mh=new mI,this.Oh={},this.Lh=new Map,this.Bh=i0.da(),this.onlineState="Unknown",this.qh=void 0}return Object.defineProperty(t.prototype,"Uh",{get:function(){return this.qh===!0},enumerable:!1,configurable:!0}),t}();function HL(t,e){return B(this,void 0,void 0,function(){var n,r,s,a,c,h;return j(this,function(d){switch(d.label){case 0:return n=TI(t),(a=n.Nh.get(e))?(r=a.targetId,n.Sh.Oi(r),s=a.view.yh(),[3,4]):[3,1];case 1:return[4,o0(n.ju,ws(e))];case 2:return c=d.sent(),h=n.Sh.Oi(c.targetId),r=c.targetId,[4,_I(n,e,r,h==="current")];case 3:s=d.sent(),n.Uh&&P0(n.ph,c),d.label=4;case 4:return[2,s]}})})}function _I(t,e,n,r){return B(this,void 0,void 0,function(){var s,a,c,h,d,g;return j(this,function(y){switch(y.label){case 0:return t.Qh=function(E,I,T){return function(x,A,N,D){return B(this,void 0,void 0,function(){var L,H,X;return j(this,function(z){switch(z.label){case 0:return L=A.view.wh(N),L.Eh?[4,s0(x.ju,A.query,!1).then(function(P){var Be=P.documents;return A.view.wh(Be,L)})]:[3,2];case 1:L=z.sent(),z.label=2;case 2:return H=D&&D.zt.get(A.targetId),X=A.view.yr(L,x.Uh,H),[2,(Q_(x,A.targetId,X.Rh),X.snapshot)]}})})}(t,E,I,T)},[4,s0(t.ju,e,!0)];case 1:return s=y.sent(),a=new Uk(e,s.Fc),c=a.wh(s.documents),h=eI.Zt(n,r&&t.onlineState!=="Offline"),d=a.yr(c,t.Uh,h),Q_(t,n,d.Rh),g=new qL(e,n,a),[2,(t.Nh.set(e,g),t.Fh.has(n)?t.Fh.get(n).push(e):t.Fh.set(n,[e]),d.snapshot)]}})})}function zL(t,e){return B(this,void 0,void 0,function(){var n,r,s;return j(this,function(a){switch(a.label){case 0:return n=de(t),r=n.Nh.get(e),(s=n.Fh.get(r.targetId)).length>1?[2,(n.Fh.set(r.targetId,s.filter(function(c){return!Yp(c,e)})),void n.Nh.delete(e))]:n.Uh?(n.Sh.Bi(r.targetId),n.Sh.Fi(r.targetId)?[3,2]:[4,Dp(n.ju,r.targetId,!1).then(function(){n.Sh.Ui(r.targetId),Tg(n.ph,r.targetId),Mp(n,r.targetId)}).catch(hf)]):[3,3];case 1:a.sent(),a.label=2;case 2:return[3,5];case 3:return Mp(n,r.targetId),[4,Dp(n.ju,r.targetId,!0)];case 4:a.sent(),a.label=5;case 5:return[2]}})})}function jk(t,e){return B(this,void 0,void 0,function(){var n,r;return j(this,function(s){switch(s.label){case 0:n=de(t),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,EL(n.ju,e)];case 2:return r=s.sent(),e.zt.forEach(function(a,c){var h=n.kh.get(c);h&&(Te(a.ee.size+a.ne.size+a.se.size<=1),a.ee.size>0?h.Vh=!0:a.ne.size>0?Te(h.Vh):a.se.size>0&&(Te(h.Vh),h.Vh=!1))}),[4,pf(n,r,e)];case 3:return s.sent(),[3,6];case 4:return[4,hf(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function MS(t,e,n){var r=de(t);if(r.Uh&&n===0||!r.Uh&&n===1){var s=[];r.Nh.forEach(function(a,c){var h=c.view.Qs(e);h.snapshot&&s.push(h.snapshot)}),function(a,c){var h=de(a);h.onlineState=c;var d=!1;h.Bs.forEach(function(g,y){for(var E=0,I=y.listeners;E<I.length;E++)I[E].Qs(c)&&(d=!0)}),d&&pI(h)}(r.bh,e),s.length&&r.Ch.yu(s),r.onlineState=e,r.Uh&&r.Sh.Ki(e)}}function KL(t,e,n){return B(this,void 0,void 0,function(){var r,s,a,c,h,d;return j(this,function(g){switch(g.label){case 0:return(r=de(t)).Sh.Qi(e,"rejected",n),s=r.kh.get(e),(a=s&&s.key)?(c=(c=new _r(ke.i)).ot(a,new Hn(a,nt.min())),h=xt().add(a),d=new ZE(nt.min(),new Map,new Pn(Xe),c,h),[4,jk(r,d)]):[3,2];case 1:return g.sent(),r.$h=r.$h.remove(a),r.kh.delete(e),SI(r),[3,4];case 2:return[4,Dp(r.ju,e,!1).then(function(){return Mp(r,e,n)}).catch(hf)];case 3:g.sent(),g.label=4;case 4:return[2]}})})}function YL(t,e){return B(this,void 0,void 0,function(){var n,r,s;return j(this,function(a){switch(a.label){case 0:n=de(t),r=e.batch.batchId,a.label=1;case 1:return a.trys.push([1,4,,6]),[4,_L(n.ju,e)];case 2:return s=a.sent(),II(n,r,null),EI(n,r),n.Sh.ki(r,"acknowledged"),[4,pf(n,s)];case 3:return a.sent(),[3,6];case 4:return[4,hf(a.sent())];case 5:return a.sent(),[3,6];case 6:return[2]}})})}function XL(t,e,n){return B(this,void 0,void 0,function(){var r,s;return j(this,function(a){switch(a.label){case 0:r=de(t),a.label=1;case 1:return a.trys.push([1,4,,6]),[4,function(c,h){var d=de(c);return d.persistence.runTransaction("Reject batch","readwrite-primary",function(g){var y;return d.Sr.Oo(g,h).next(function(E){return Te(E!==null),y=E.keys(),d.Sr.Wo(g,E)}).next(function(){return d.Sr.zo(g)}).next(function(){return d.Cc.kr(g,y)})})}(r.ju,e)];case 2:return s=a.sent(),II(r,e,n),EI(r,e),r.Sh.ki(e,"rejected",n),[4,pf(r,s)];case 3:return a.sent(),[3,6];case 4:return[4,hf(a.sent())];case 5:return a.sent(),[3,6];case 6:return[2]}})})}function EI(t,e){(t.Lh.get(e)||[]).forEach(function(n){n.resolve()}),t.Lh.delete(e)}function II(t,e,n){var r=de(t),s=r.Oh[r.currentUser.ti()];if(s){var a=s.get(e);a&&(n?a.reject(n):a.resolve(),s=s.remove(e)),r.Oh[r.currentUser.ti()]=s}}function Mp(t,e,n){n===void 0&&(n=null),t.Sh.Bi(e);for(var r=0,s=t.Fh.get(e);r<s.length;r++){var a=s[r];t.Nh.delete(a),n&&t.Ch.Wh(a,n)}t.Fh.delete(e),t.Uh&&t.Mh.Uc(e).forEach(function(c){t.Mh.Ho(c)||Vk(t,c)})}function Vk(t,e){var n=t.$h.get(e);n!==null&&(Tg(t.ph,n),t.$h=t.$h.remove(e),t.kh.delete(n),SI(t))}function Q_(t,e,n){for(var r=0,s=n;r<s.length;r++){var a=s[r];a instanceof Mk?(t.Mh.Da(a.key,e),$L(t,a)):a instanceof Fk?(ue("SyncEngine","Document no longer in limbo: "+a.key),t.Mh.Na(a.key,e),t.Mh.Ho(a.key)||Vk(t,a.key)):be()}}function $L(t,e){var n=e.key;t.$h.get(n)||(ue("SyncEngine","New document in limbo: "+n),t.xh.push(n),SI(t))}function SI(t){for(;t.xh.length>0&&t.$h.size<t.Dh;){var e=t.xh.shift(),n=t.Bh.next();t.kh.set(n,new GL(e)),t.$h=t.$h.ot(e,n),P0(t.ph,new N0(ws($g(e.path)),n,2,gi.ai))}}function pf(t,e,n){return B(this,void 0,void 0,function(){var r,s,a,c;return j(this,function(h){switch(h.label){case 0:return r=de(t),s=[],a=[],c=[],r.Nh.m()?[3,3]:(r.Nh.forEach(function(d,g){c.push(r.Qh(g,e,n).then(function(y){if(y){r.Uh&&r.Sh.Qi(g.targetId,y.fromCache?"not-current":"current"),s.push(y);var E=nL.zr(g.targetId,y);a.push(E)}}))}),[4,Promise.all(c)]);case 1:return h.sent(),r.Ch.yu(s),[4,function(d,g){return B(this,void 0,void 0,function(){var y,E,I,T,x,A,N,D,L;return j(this,function(H){switch(H.label){case 0:y=de(d),H.label=1;case 1:return H.trys.push([1,3,,4]),[4,y.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(X){return oe.forEach(g,function(z){return oe.forEach(z.Kr,function(P){return y.persistence.No.Da(X,z.targetId,P)}).next(function(){return oe.forEach(z.Gr,function(P){return y.persistence.No.Na(X,z.targetId,P)})})})})];case 2:return H.sent(),[3,4];case 3:if(!ff(E=H.sent()))throw E;return ue("LocalStore","Failed to update sequence numbers: "+E),[3,4];case 4:for(I=0,T=g;I<T.length;I++)x=T[I],A=x.targetId,x.fromCache||(N=y.bc.get(A),D=N.nt,L=N.rt(D),y.bc=y.bc.ot(A,L));return[2]}})})}(r.ju,a)];case 2:h.sent(),h.label=3;case 3:return[2]}})})}function QL(t,e){return B(this,void 0,void 0,function(){var n,r;return j(this,function(s){switch(s.label){case 0:return(n=de(t)).currentUser.isEqual(e)?[3,3]:(ue("SyncEngine","User change. New user:",e.ti()),[4,function(a,c){return B(this,void 0,void 0,function(){var h,d,g,y;return j(this,function(E){switch(E.label){case 0:return h=de(a),d=h.Sr,g=h.Cc,[4,h.persistence.runTransaction("Handle user change","readonly",function(I){var T;return h.Sr.Uo(I).next(function(x){return T=x,d=h.persistence.mc(c),g=new _k(h.Dc,d,h.persistence.Ic()),d.Uo(I)}).next(function(x){for(var A=[],N=[],D=xt(),L=0,H=T;L<H.length;L++){var X=H[L];A.push(X.batchId);for(var z=0,P=X.mutations;z<P.length;z++){var Be=P[z];D=D.add(Be.key)}}for(var Ae=0,J=x;Ae<J.length;Ae++){var se=J[Ae];N.push(se.batchId);for(var re=0,le=se.mutations;re<le.length;re++){var he=le[re];D=D.add(he.key)}}return g.kr(I,D).next(function(te){return{jh:te,Kh:A,Gh:N}})})})];case 1:return y=E.sent(),[2,(h.Sr=d,h.Cc=g,h.Vc.Nc(h.Cc),y)]}})})}(n.ju,e)]);case 1:return r=s.sent(),n.currentUser=e,function(a,c){a.Lh.forEach(function(h){h.forEach(function(d){d.reject(new $(q.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),a.Lh.clear()}(n),n.Sh.ji(e,r.Kh,r.Gh),[4,pf(n,r.jh)];case 2:s.sent(),s.label=3;case 3:return[2]}})})}function JL(t,e){var n=de(t),r=n.kh.get(e);if(r&&r.Vh)return xt().add(r.key);var s=xt(),a=n.Fh.get(e);if(!a)return s;for(var c=0,h=a;c<h.length;c++){var d=h[c],g=n.Nh.get(d);s=s.kt(g.view.dh)}return s}function ZL(t,e){return B(this,void 0,void 0,function(){var n,r,s;return j(this,function(a){switch(a.label){case 0:return[4,s0((n=de(t)).ju,e.query,!0)];case 1:return r=a.sent(),s=e.view.Ph(r),[2,(n.Uh&&Q_(n,e.targetId,s.Rh),s)]}})})}function eM(t,e,n,r){return B(this,void 0,void 0,function(){var s,a;return j(this,function(c){switch(c.label){case 0:return[4,function(h,d){var g=de(h),y=de(g.Sr);return g.persistence.runTransaction("Lookup mutation documents","readonly",function(E){return y.Lo(E,d).next(function(I){return I?g.Cc.kr(E,I):oe.resolve(null)})})}((s=de(t)).ju,e)];case 1:return(a=c.sent())===null?[3,6]:n!=="pending"?[3,3]:[4,Xp(s.ph)];case 2:return c.sent(),[3,4];case 3:n==="acknowledged"||n==="rejected"?(II(s,e,r||null),EI(s,e),function(h,d){de(de(h).Sr).Ko(d)}(s.ju,e)):be(),c.label=4;case 4:return[4,pf(s,a)];case 5:return c.sent(),[3,7];case 6:ue("SyncEngine","Cannot apply mutation batch with id: "+e),c.label=7;case 7:return[2]}})})}function tM(t,e){return B(this,void 0,void 0,function(){var n,r,s,a,c,h,d,g;return j(this,function(y){switch(y.label){case 0:return TI(n=de(t)),AI(n),e!==!0||n.qh===!0?[3,3]:(r=n.Sh.Ci(),[4,FS(n,r.A())]);case 1:return s=y.sent(),n.qh=!0,[4,$_(n.ph,!0)];case 2:for(y.sent(),a=0,c=s;a<c.length;a++)h=c[a],P0(n.ph,h);return[3,7];case 3:return e!==!1||n.qh===!1?[3,7]:(d=[],g=Promise.resolve(),n.Fh.forEach(function(E,I){n.Sh.qi(I)?d.push(I):g=g.then(function(){return Mp(n,I),Dp(n.ju,I,!0)}),Tg(n.ph,I)}),[4,g]);case 4:return y.sent(),[4,FS(n,d)];case 5:return y.sent(),function(E){var I=de(E);I.kh.forEach(function(T,x){Tg(I.ph,x)}),I.Mh.Qc(),I.kh=new Map,I.$h=new _r(ke.i)}(n),n.qh=!1,[4,$_(n.ph,!1)];case 6:y.sent(),y.label=7;case 7:return[2]}})})}function FS(t,e,n){return B(this,void 0,void 0,function(){var r,s,a,c,h,d,g,y,E,I,T,x,A,N;return j(this,function(D){switch(D.label){case 0:r=de(t),s=[],a=[],c=0,h=e,D.label=1;case 1:return c<h.length?(d=h[c],g=void 0,(y=r.Fh.get(d))&&y.length!==0?[4,o0(r.ju,ws(y[0]))]:[3,7]):[3,13];case 2:g=D.sent(),E=0,I=y,D.label=3;case 3:return E<I.length?(T=I[E],x=r.Nh.get(T),[4,ZL(r,x)]):[3,6];case 4:(A=D.sent()).snapshot&&a.push(A.snapshot),D.label=5;case 5:return E++,[3,3];case 6:return[3,11];case 7:return[4,kk(r.ju,d)];case 8:return N=D.sent(),[4,o0(r.ju,N)];case 9:return g=D.sent(),[4,_I(r,Bk(N),d,!1)];case 10:D.sent(),D.label=11;case 11:s.push(g),D.label=12;case 12:return c++,[3,1];case 13:return[2,(r.Ch.yu(a),s)]}})})}function Bk(t){return pk(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function nM(t){var e=de(t);return de(de(e.ju).persistence).pi()}function rM(t,e,n,r){return B(this,void 0,void 0,function(){var s,a,c;return j(this,function(h){switch(h.label){case 0:return(s=de(t)).qh?(ue("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!s.Fh.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,SL(s.ju)];case 3:return a=h.sent(),c=ZE.Xt(e,n==="current"),[4,pf(s,a,c)];case 4:return h.sent(),[3,8];case 5:return[4,Dp(s.ju,e,!0)];case 6:return h.sent(),Mp(s,e,r),[3,8];case 7:be(),h.label=8;case 8:return[2]}})})}function iM(t,e,n){return B(this,void 0,void 0,function(){var r,s,a,c,h,d,g,y,E,I;return j(this,function(T){switch(T.label){case 0:if(!(r=TI(t)).qh)return[3,10];s=0,a=e,T.label=1;case 1:return s<a.length?(c=a[s],r.Fh.has(c)?(ue("SyncEngine","Adding an already active target "+c),[3,5]):[4,kk(r.ju,c)]):[3,6];case 2:return h=T.sent(),[4,o0(r.ju,h)];case 3:return d=T.sent(),[4,_I(r,Bk(h),d.targetId,!1)];case 4:T.sent(),P0(r.ph,d),T.label=5;case 5:return s++,[3,1];case 6:g=function(x){return j(this,function(A){switch(A.label){case 0:return r.Fh.has(x)?[4,Dp(r.ju,x,!1).then(function(){Tg(r.ph,x),Mp(r,x)}).catch(hf)]:[3,2];case 1:A.sent(),A.label=2;case 2:return[2]}})},y=0,E=n,T.label=7;case 7:return y<E.length?(I=E[y],[5,g(I)]):[3,10];case 8:T.sent(),T.label=9;case 9:return y++,[3,7];case 10:return[2]}})})}function TI(t){var e=de(t);return e.ph.Gu.sh=jk.bind(null,e),e.ph.Gu.qe=JL.bind(null,e),e.ph.Gu.nh=KL.bind(null,e),e.Ch.yu=JD.bind(null,e.bh),e.Ch.Wh=ZD.bind(null,e.bh),e}function AI(t){var e=de(t);return e.ph.Gu.ih=YL.bind(null,e),e.ph.Gu.rh=XL.bind(null,e),e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oM=function(){function t(){}return t.prototype.Nc=function(e){this.zh=e},t.prototype.Lr=function(e,n,r,s){var a=this;return function(c){return c.filters.length===0&&c.limit===null&&c.startAt==null&&c.endAt==null&&(c.on.length===0||c.on.length===1&&c.on[0].field.p())}(n)||r.isEqual(nt.min())?this.Hh(e,n):this.zh.kr(e,s).next(function(c){var h=a.Yh(n,c);return(Tb(n)||Zb(n))&&a.Eh(n.an,h,s,r)?a.Hh(e,n):(Wb()<=Le.DEBUG&&ue("IndexFreeQueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),z_(n)),a.zh.Lr(e,n,r).next(function(d){return h.forEach(function(g){d=d.ot(g.key,g)}),d}))})},t.prototype.Yh=function(e,n){var r=new Pn(vk(e));return n.forEach(function(s,a){a instanceof vt&&Qg(e,a)&&(r=r.add(a))}),r},t.prototype.Eh=function(e,n,r,s){if(r.size!==n.size)return!0;var a=e==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.L(s)>0)},t.prototype.Hh=function(e,n){return Wb()<=Le.DEBUG&&ue("IndexFreeQueryEngine","Using full collection scan to execute query:",z_(n)),this.zh.Lr(e,n,nt.min())},t}(),sM=function(){function t(e,n){this.Dr=e,this.No=n,this.Sr=[],this.Jh=1,this.Xh=new Pn(qn.kc)}return t.prototype.$o=function(e){return oe.resolve(this.Sr.length===0)},t.prototype.ko=function(e,n,r,s){var a=this.Jh;this.Jh++,this.Sr.length>0&&this.Sr[this.Sr.length-1];var c=new dI(a,n,r,s);this.Sr.push(c);for(var h=0,d=s;h<d.length;h++){var g=d[h];this.Xh=this.Xh.add(new qn(g.key,a)),this.Dr.Mo(e,g.key.path.h())}return oe.resolve(c)},t.prototype.Oo=function(e,n){return oe.resolve(this.Zh(n))},t.prototype.Bo=function(e,n){var r=n+1,s=this.tl(r),a=s<0?0:s;return oe.resolve(this.Sr.length>a?this.Sr[a]:null)},t.prototype.qo=function(){return oe.resolve(this.Sr.length===0?-1:this.Jh-1)},t.prototype.Uo=function(e){return oe.resolve(this.Sr.slice())},t.prototype.Nr=function(e,n){var r=this,s=new qn(n,0),a=new qn(n,Number.POSITIVE_INFINITY),c=[];return this.Xh.Ft([s,a],function(h){var d=r.Zh(h.jc);c.push(d)}),oe.resolve(c)},t.prototype.Or=function(e,n){var r=this,s=new Pn(Xe);return n.forEach(function(a){var c=new qn(a,0),h=new qn(a,Number.POSITIVE_INFINITY);r.Xh.Ft([c,h],function(d){s=s.add(d.jc)})}),oe.resolve(this.el(s))},t.prototype.Wr=function(e,n){var r=n.path,s=r.length+1,a=r;ke.F(a)||(a=a.child(""));var c=new qn(new ke(a),0),h=new Pn(Xe);return this.Xh.xt(function(d){var g=d.key.path;return!!r.T(g)&&(g.length===s&&(h=h.add(d.jc)),!0)},c),oe.resolve(this.el(h))},t.prototype.el=function(e){var n=this,r=[];return e.forEach(function(s){var a=n.Zh(s);a!==null&&r.push(a)}),r},t.prototype.Wo=function(e,n){var r=this;Te(this.nl(n.batchId,"removed")===0),this.Sr.shift();var s=this.Xh;return oe.forEach(n.mutations,function(a){var c=new qn(a.key,n.batchId);return s=s.delete(c),r.No.Go(e,a.key)}).next(function(){r.Xh=s})},t.prototype.Ko=function(e){},t.prototype.Ho=function(e,n){var r=new qn(n,0),s=this.Xh.$t(r);return oe.resolve(n.isEqual(s&&s.key))},t.prototype.zo=function(e){return this.Sr.length,oe.resolve()},t.prototype.nl=function(e,n){return this.tl(e)},t.prototype.tl=function(e){return this.Sr.length===0?0:e-this.Sr[0].batchId},t.prototype.Zh=function(e){var n=this.tl(e);return n<0||n>=this.Sr.length?null:this.Sr[n]},t}(),aM=function(){function t(e,n){this.Dr=e,this.sl=n,this.docs=new _r(ke.i),this.size=0}return t.prototype.Er=function(e,n,r){var s=n.key,a=this.docs.get(s),c=a?a.size:0,h=this.sl(n);return this.docs=this.docs.ot(s,{ta:n,size:h,readTime:r}),this.size+=h-c,this.Dr.Mo(e,s.path.h())},t.prototype.Ar=function(e){var n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)},t.prototype.Rr=function(e,n){var r=this.docs.get(n);return oe.resolve(r?r.ta:null)},t.prototype.getEntries=function(e,n){var r=this,s=Kb();return n.forEach(function(a){var c=r.docs.get(a);s=s.ot(a,c?c.ta:null)}),oe.resolve(s)},t.prototype.Lr=function(e,n,r){for(var s=bg(),a=new ke(n.path.child("")),c=this.docs.ft(a);c.At();){var h=c.It(),d=h.key,g=h.value,y=g.ta,E=g.readTime;if(!n.path.T(d.path))break;E.L(r)<=0||y instanceof vt&&Qg(n,y)&&(s=s.ot(y.key,y))}return oe.resolve(s)},t.prototype.il=function(e,n){return oe.forEach(this.docs,function(r){return n(r)})},t.prototype.ra=function(e){return new uM(this)},t.prototype.aa=function(e){return oe.resolve(this.size)},t}(),uM=function(t){function e(n){var r=this;return(r=t.call(this)||this).ca=n,r}return we(e,t),e.prototype.yr=function(n){var r=this,s=[];return this.wr.forEach(function(a,c){c?s.push(r.ca.Er(n,c,r.readTime)):r.ca.Ar(a)}),oe.$n(s)},e.prototype.gr=function(n,r){return this.ca.Rr(n,r)},e.prototype.Pr=function(n,r){return this.ca.getEntries(n,r)},e}(yk),lM=function(){function t(e){this.persistence=e,this.rl=new Kp(function(n){return Wg(n)},x0),this.lastRemoteSnapshotVersion=nt.min(),this.highestTargetId=0,this.ol=0,this.al=new mI,this.targetCount=0,this.cl=i0.fa()}return t.prototype.Ce=function(e,n){return this.rl.forEach(function(r,s){return n(s)}),oe.resolve()},t.prototype.Ea=function(e){return oe.resolve(this.lastRemoteSnapshotVersion)},t.prototype.Ia=function(e){return oe.resolve(this.ol)},t.prototype.wa=function(e){return this.highestTargetId=this.cl.next(),oe.resolve(this.highestTargetId)},t.prototype.Aa=function(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ol&&(this.ol=n),oe.resolve()},t.prototype.ga=function(e){this.rl.set(e.target,e);var n=e.targetId;n>this.highestTargetId&&(this.cl=new i0(n),this.highestTargetId=n),e.sequenceNumber>this.ol&&(this.ol=e.sequenceNumber)},t.prototype.Ra=function(e,n){return this.ga(n),this.targetCount+=1,oe.resolve()},t.prototype.ya=function(e,n){return this.ga(n),oe.resolve()},t.prototype.Va=function(e,n){return this.rl.delete(n.target),this.al.Uc(n.targetId),this.targetCount-=1,oe.resolve()},t.prototype.po=function(e,n,r){var s=this,a=0,c=[];return this.rl.forEach(function(h,d){d.sequenceNumber<=n&&r.get(d.targetId)===null&&(s.rl.delete(h),c.push(s.pa(e,d.targetId)),a++)}),oe.$n(c).next(function(){return a})},t.prototype.ba=function(e){return oe.resolve(this.targetCount)},t.prototype.va=function(e,n){var r=this.rl.get(n)||null;return oe.resolve(r)},t.prototype.Sa=function(e,n,r){return this.al.Lc(n,r),oe.resolve()},t.prototype.Ca=function(e,n,r){this.al.qc(n,r);var s=this.persistence.No,a=[];return s&&n.forEach(function(c){a.push(s.Go(e,c))}),oe.$n(a)},t.prototype.pa=function(e,n){return this.al.Uc(n),oe.resolve()},t.prototype.Fa=function(e,n){var r=this.al.Wc(n);return oe.resolve(r)},t.prototype.Ho=function(e,n){return oe.resolve(this.al.Ho(n))},t}(),cM=function(){function t(e){var n=this;this.ul={},this.Ma=new gi(0),this.Oa=!1,this.Oa=!0,this.No=e(this),this.Ka=new lM(this),this.Dr=new fL,this.vr=function(r,s){return new aM(r,function(a){return n.No.hl(a)})}(this.Dr)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.Di=function(){return this.Oa=!1,Promise.resolve()},Object.defineProperty(t.prototype,"Ei",{get:function(){return this.Oa},enumerable:!1,configurable:!0}),t.prototype.Za=function(){},t.prototype.tc=function(){},t.prototype.Ic=function(){return this.Dr},t.prototype.mc=function(e){var n=this.ul[e.ti()];return n||(n=new sM(this.Dr,this.No),this.ul[e.ti()]=n),n},t.prototype.Tc=function(){return this.Ka},t.prototype.Ec=function(){return this.vr},t.prototype.runTransaction=function(e,n,r){var s=this;ue("MemoryPersistence","Starting transaction:",e);var a=new fM(this.Ma.next());return this.No.ll(),r(a).next(function(c){return s.No._l(a).next(function(){return c})}).Fn().then(function(c){return a.br(),c})},t.prototype.fl=function(e,n){return oe.kn(Object.values(this.ul).map(function(r){return function(){return r.Ho(e,n)}}))},t}(),fM=function(t){function e(n){var r=this;return(r=t.call(this)||this).xa=n,r}return we(e,t),e}(wk),hM=function(){function t(e){this.persistence=e,this.dl=new mI,this.wl=null}return t.ml=function(e){return new t(e)},Object.defineProperty(t.prototype,"Tl",{get:function(){if(this.wl)return this.wl;throw be()},enumerable:!1,configurable:!0}),t.prototype.Da=function(e,n,r){return this.dl.Da(r,n),this.Tl.delete(r.toString()),oe.resolve()},t.prototype.Na=function(e,n,r){return this.dl.Na(r,n),this.Tl.add(r.toString()),oe.resolve()},t.prototype.Go=function(e,n){return this.Tl.add(n.toString()),oe.resolve()},t.prototype.removeTarget=function(e,n){var r=this;this.dl.Uc(n.targetId).forEach(function(a){return r.Tl.add(a.toString())});var s=this.persistence.Tc();return s.Fa(e,n.targetId).next(function(a){a.forEach(function(c){return r.Tl.add(c.toString())})}).next(function(){return s.Va(e,n)})},t.prototype.ll=function(){this.wl=new Set},t.prototype._l=function(e){var n=this,r=this.persistence.Ec().ra();return oe.forEach(this.Tl,function(s){var a=ke.D(s);return n.El(e,a).next(function(c){c||r.Ar(a)})}).next(function(){return n.wl=null,r.apply(e)})},t.prototype.yc=function(e,n){var r=this;return this.El(e,n).next(function(s){s?r.Tl.delete(n.toString()):r.Tl.add(n.toString())})},t.prototype.hl=function(e){return 0},t.prototype.El=function(e,n){var r=this;return oe.kn([function(){return oe.resolve(r.dl.Ho(n))},function(){return r.persistence.Tc().Ho(e,n)},function(){return r.persistence.fl(e,n)}])},t}(),pM=function(){function t(e){this.Il=e.Il,this.Al=e.Al}return t.prototype.gu=function(e){this.Rl=e},t.prototype.Tu=function(e){this.gl=e},t.prototype.onMessage=function(e){this.Pl=e},t.prototype.close=function(){this.Al()},t.prototype.send=function(e){this.Il(e)},t.prototype.yl=function(){this.Rl()},t.prototype.Vl=function(e){this.gl(e)},t.prototype.pl=function(e){this.Pl(e)},t}(),dM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},vM=function(t){function e(n){var r=this;return(r=t.call(this,n)||this).forceLongPolling=n.forceLongPolling,r.W=n.W,r}return we(e,t),e.prototype.Nl=function(n,r,s,a){return new Promise(function(c,h){var d=new uD;d.listenOnce(aD.COMPLETE,function(){try{switch(d.getLastErrorCode()){case Bw.NO_ERROR:var y=d.getResponseJson();ue("Connection","XHR received:",JSON.stringify(y)),c(y);break;case Bw.TIMEOUT:ue("Connection",'RPC "'+n+'" timed out'),h(new $(q.DEADLINE_EXCEEDED,"Request time out"));break;case Bw.HTTP_ERROR:var E=d.getStatus();if(ue("Connection",'RPC "'+n+'" failed with status:',E,"response text:",d.getResponseText()),E>0){var I=d.getResponseJson().error;if(I&&I.status&&I.message){var T=function(x){var A=x.toLowerCase().replace("_","-");return Object.values(q).indexOf(A)>=0?A:q.UNKNOWN}(I.status);h(new $(T,I.message))}else h(new $(q.UNKNOWN,"Server responded with status "+d.getStatus()))}else h(new $(q.UNAVAILABLE,"Connection failed."));break;default:be()}}finally{ue("Connection",'RPC "'+n+'" completed.')}});var g=JSON.stringify(a);d.send(r,"POST",g,s,15)})},e.prototype.Pu=function(n,r){var s=[this.vl,"/","google.firestore.v1.Firestore","/",n,"/channel"],a=sD(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.U.projectId+"/databases/"+this.U.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.W};this.Cl(c.initMessageHeaders,r),fE()||VT()||jN()||VN()||BN()||hE()||(c.httpHeadersOverwriteParam="$httpHeaders");var h=s.join("");ue("Connection","Creating WebChannel: "+h,c);var d=a.createWebChannel(h,c),g=!1,y=!1,E=new pM({Il:function(T){y?ue("Connection","Not sending because WebChannel is closed:",T):(g||(ue("Connection","Opening WebChannel transport."),d.open(),g=!0),ue("Connection","WebChannel sending:",T),d.send(T))},Al:function(){return d.close()}}),I=function(T,x){d.listen(T,function(A){try{x(A)}catch(N){setTimeout(function(){throw N},0)}})};return I(fb.EventType.OPEN,function(){y||ue("Connection","WebChannel transport opened.")}),I(fb.EventType.CLOSE,function(){y||(y=!0,ue("Connection","WebChannel transport closed"),E.Vl())}),I(fb.EventType.ERROR,function(T){y||(y=!0,X1("Connection","WebChannel transport errored:",T),E.Vl(new $(q.UNAVAILABLE,"The operation could not be completed")))}),I(fb.EventType.MESSAGE,function(T){var x;if(!y){var A=T.data[0];Te(!!A);var N=A,D=N.error||((x=N[0])===null||x===void 0?void 0:x.error);if(D){ue("Connection","WebChannel received error:",D);var L=D.status,H=function(z){var P=gn[z];if(P!==void 0)return GC(P)}(L),X=D.message;H===void 0&&(H=q.INTERNAL,X="Unknown error status: "+L+" with message "+D.message),y=!0,E.Vl(new $(H,X)),d.close()}else ue("Connection","WebChannel received:",A),E.pl(A)}}),setTimeout(function(){E.yl()},0),E},e}(function(){function t(e){this.bl=e,this.U=e.U;var n=e.ssl?"https":"http";this.vl=n+"://"+e.host,this.Sl="projects/"+this.U.projectId+"/databases/"+this.U.database+"/documents"}return t.prototype.$u=function(e,n,r,s){var a=this.Dl(e,n);ue("RestConnection","Sending: ",a,r);var c={};return this.Cl(c,s),this.Nl(e,a,c,r).then(function(h){return ue("RestConnection","Received: ",h),h},function(h){throw X1("RestConnection",e+" failed with error: ",h,"url: ",a,"request:",r),h})},t.prototype.ku=function(e,n,r,s){return this.$u(e,n,r,s)},t.prototype.Cl=function(e,n){if(e["X-Goog-Api-Client"]="gl-js/ fire/7.24.0",e["Content-Type"]="text/plain",n)for(var r in n.Kc)n.Kc.hasOwnProperty(r)&&(e[r]=n.Kc[r])},t.prototype.Dl=function(e,n){var r=dM[e];return this.vl+"/v1/"+n+":"+r},t}()),US=function(){function t(){var e=this;this.Fl=function(){return e.xl()},this.$l=function(){return e.kl()},this.Ml=[],this.Ol()}return t.prototype.Zu=function(e){this.Ml.push(e)},t.prototype.Di=function(){window.removeEventListener("online",this.Fl),window.removeEventListener("offline",this.$l)},t.prototype.Ol=function(){window.addEventListener("online",this.Fl),window.addEventListener("offline",this.$l)},t.prototype.xl=function(){ue("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,n=this.Ml;e<n.length;e++)(0,n[e])(0)},t.prototype.kl=function(){ue("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,n=this.Ml;e<n.length;e++)(0,n[e])(1)},t.Ln=function(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0},t}(),gM=function(){function t(){}return t.prototype.Zu=function(e){},t.prototype.Di=function(){},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CI(t){return new SD(t,!0)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jS="You are using the memory-only build of Firestore. Persistence support is only available via the @firebase/firestore bundle or the firebase-firestore.js build.",u0=function(){function t(){}return t.prototype.initialize=function(e){return B(this,void 0,void 0,function(){return j(this,function(n){switch(n.label){case 0:return this.Sh=this.Ll(e),this.persistence=this.Bl(e),[4,this.persistence.start()];case 1:return n.sent(),this.ql=this.Ul(e),this.ju=this.Ql(e),[2]}})})},t.prototype.Ul=function(e){return null},t.prototype.Ql=function(e){return n=this.persistence,r=new oM,s=e.Wl,new wL(n,r,s);var n,r,s},t.prototype.Bl=function(e){if(e.persistenceSettings.jl)throw new $(q.FAILED_PRECONDITION,jS);return new cM(hM.ml)},t.prototype.Ll=function(e){return new Y_},t.prototype.terminate=function(){return B(this,void 0,void 0,function(){return j(this,function(e){switch(e.label){case 0:return this.ql&&this.ql.stop(),[4,this.Sh.Di()];case 1:return e.sent(),[4,this.persistence.Di()];case 2:return e.sent(),[2]}})})},t.prototype.clearPersistence=function(e,n){throw new $(q.FAILED_PRECONDITION,jS)},t}(),mM=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return we(e,t),e.prototype.initialize=function(n){return B(this,void 0,void 0,function(){var r,s=this;return j(this,function(a){switch(a.label){case 0:return[4,t.prototype.initialize.call(this,n)];case 1:return a.sent(),r=this.Kl.fi,this.Sh instanceof Kw?(this.Sh.fi={er:eM.bind(null,r),nr:rM.bind(null,r),sr:iM.bind(null,r),pi:nM.bind(null,r)},[4,this.Sh.start()]):[3,3];case 2:a.sent(),a.label=3;case 3:return[4,this.persistence.Xa(function(c){return B(s,void 0,void 0,function(){return j(this,function(h){switch(h.label){case 0:return[4,tM(this.Kl.fi,c)];case 1:return h.sent(),this.ql&&(c&&!this.ql.Ei?this.ql.start(this.ju):c||this.ql.stop()),[2]}})})})];case 4:return a.sent(),[2]}})})},e.prototype.Ll=function(n){if(n.persistenceSettings.jl&&n.persistenceSettings.synchronizeTabs){var r=ES();if(!Kw.Ln(r))throw new $(q.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var s=$w(n.bl.U,n.bl.persistenceKey);return new Kw(r,n.cs,s,n.clientId,n.Wl)}return new Y_},e}(function(t){function e(n){var r=this;return(r=t.call(this)||this).Kl=n,r}return we(e,t),e.prototype.initialize=function(n){return B(this,void 0,void 0,function(){return j(this,function(r){switch(r.label){case 0:return[4,t.prototype.initialize.call(this,n)];case 1:return r.sent(),[4,TL(this.ju)];case 2:return r.sent(),[4,this.Kl.initialize(this,n)];case 3:return r.sent(),[4,AI(this.Kl.fi)];case 4:return r.sent(),[4,Xp(this.Kl.ph)];case 5:return r.sent(),[2]}})})},e.prototype.Ul=function(n){var r=this.persistence.No.wo;return new iL(r,n.cs)},e.prototype.Bl=function(n){var r=$w(n.bl.U,n.bl.persistenceKey),s=CI(n.bl.U);return new zi(n.persistenceSettings.synchronizeTabs,r,n.clientId,mn.ao(n.persistenceSettings.cacheSizeBytes),n.cs,ES(),Ab(),s,this.Sh,n.persistenceSettings.ka)},e.prototype.Ll=function(n){return new Y_},e.prototype.clearPersistence=function(n,r){return function(s){return B(this,void 0,void 0,function(){var a;return j(this,function(c){switch(c.label){case 0:return Ep.Ln()?(a=s+"main",[4,Ep.delete(a)]):[2,Promise.resolve()];case 1:return c.sent(),[2]}})})}($w(n,r))},e}(u0)),l0=function(){function t(){}return t.prototype.initialize=function(e,n){return B(this,void 0,void 0,function(){var r=this;return j(this,function(s){switch(s.label){case 0:return this.ju?[3,2]:(this.ju=e.ju,this.Sh=e.Sh,this.Ku=this.Gl(n),this.ph=this.zl(n),this.bh=this.Hl(n),this.fi=this.Yl(n),this.Sh.di=function(a){return MS(r.fi,a,1)},this.ph.Gu.Jl=QL.bind(null,this.fi),[4,$_(this.ph,this.fi.Uh)]);case 1:s.sent(),s.label=2;case 2:return[2]}})})},t.prototype.Hl=function(e){return new QD},t.prototype.Gl=function(e){var n,r=CI(e.bl.U),s=(n=e.bl,new vM(n));return function(a,c,h){return new OL(a,c,h)}(e.credentials,s,r)},t.prototype.zl=function(e){var n,r,s,a,c,h=this;return n=this.ju,r=this.Ku,s=e.cs,a=function(d){return MS(h.fi,d,0)},c=US.Ln()?new US:new gM,new DL(n,r,s,a,c)},t.prototype.Yl=function(e){return function(n,r,s,a,c,h,d){var g=new WL(n,r,s,a,c,h);return d&&(g.qh=!0),g}(this.ju,this.ph,this.bh,this.Sh,e.Wl,e.Dh,!e.persistenceSettings.jl||!e.persistenceSettings.synchronizeTabs)},t.prototype.terminate=function(){return Nk(this.ph)},t}(),gb=function(){function t(e){this.observer=e,this.muted=!1}return t.prototype.next=function(e){this.observer.next&&this.Xl(this.observer.next,e)},t.prototype.error=function(e){this.observer.error?this.Xl(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)},t.prototype.Zl=function(){this.muted=!0},t.prototype.Xl=function(e,n){var r=this;this.muted||setTimeout(function(){r.muted||e(n)},0)},t}(),kI=function(t){(function(n,r,s,a){if(!(r instanceof Array)||r.length<1)throw new $(q.INVALID_ARGUMENT,"Function FieldPath() requires its fieldNames argument to be an array with at least "+$c(1,"element")+".")})(0,t);for(var e=0;e<t.length;++e)if(_n("FieldPath","string",e,t[e]),t[e].length===0)throw new $(q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.t_=new Mo(t)},ef=function(t){function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.call(this,n)||this}return we(e,t),e.documentId=function(){return new e(Mo.v().R())},e.prototype.isEqual=function(n){if(!(n instanceof e))throw uf("isEqual","FieldPath",1,n);return this.t_.isEqual(n.t_)},e}(kI),yM=new RegExp("[~\\*/\\[\\]]"),df=function(t){this.e_=t},Ag=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return we(e,t),e.prototype.n_=function(n){if(n.s_!==2)throw n.s_===1?n.i_(this.e_+"() can only appear at the top level of your update data"):n.i_(this.e_+"() cannot be used with set() unless you pass {merge:true}");return n.We.push(n.path),null},e.prototype.isEqual=function(n){return n instanceof e},e}(df);function qk(t,e,n){return new Hk({s_:3,r_:e.settings.r_,methodName:t.e_,o_:n},e.U,e.serializer,e.ignoreUndefinedProperties)}var bM=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return we(e,t),e.prototype.n_=function(n){return new Hg(n.path,new Np)},e.prototype.isEqual=function(n){return n instanceof e},e}(df),wM=function(t){function e(n,r){var s=this;return(s=t.call(this,n)||this).a_=r,s}return we(e,t),e.prototype.n_=function(n){var r=qk(this,n,!0),s=this.a_.map(function(c){return vf(c,r)}),a=new Jc(s);return new Hg(n.path,a)},e.prototype.isEqual=function(n){return this===n},e}(df),_M=function(t){function e(n,r){var s=this;return(s=t.call(this,n)||this).a_=r,s}return we(e,t),e.prototype.n_=function(n){var r=qk(this,n,!0),s=this.a_.map(function(c){return vf(c,r)}),a=new Zc(s);return new Hg(n.path,a)},e.prototype.isEqual=function(n){return this===n},e}(df),EM=function(t){function e(n,r){var s=this;return(s=t.call(this,n)||this).c_=r,s}return we(e,t),e.prototype.n_=function(n){var r=new Rp(n.serializer,$C(n.serializer,this.c_));return new Hg(n.path,r)},e.prototype.isEqual=function(n){return this===n},e}(df),D0=function(){function t(e,n){if(Dt("GeoPoint",arguments,2),_n("GeoPoint","number",1,e),_n("GeoPoint","number",2,n),!isFinite(e)||e<-90||e>90)throw new $(q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new $(q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this.u_=e,this.h_=n}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.u_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.h_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return this.u_===e.u_&&this.h_===e.h_},t.prototype.toJSON=function(){return{latitude:this.u_,longitude:this.h_}},t.prototype.Y=function(e){return Xe(this.u_,e.u_)||Xe(this.h_,e.h_)},t}(),L0=function(t){this.l_=t},IM=/^__.*__$/,Jg=function(t,e,n){this.__=t,this.f_=e,this.d_=n},SM=function(){function t(e,n,r){this.data=e,this.We=n,this.fieldTransforms=r}return t.prototype.w_=function(e,n){var r=[];return this.We!==null?r.push(new dl(e,this.data,this.We,n)):r.push(new Kg(e,this.data,n)),this.fieldTransforms.length>0&&r.push(new cf(e,this.fieldTransforms)),r},t}(),Gk=function(){function t(e,n,r){this.data=e,this.We=n,this.fieldTransforms=r}return t.prototype.w_=function(e,n){var r=[new dl(e,this.data,this.We,n)];return this.fieldTransforms.length>0&&r.push(new cf(e,this.fieldTransforms)),r},t}();function Wk(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw be()}}var Hk=function(){function t(e,n,r,s,a,c){this.settings=e,this.U=n,this.serializer=r,this.ignoreUndefinedProperties=s,a===void 0&&this.m_(),this.fieldTransforms=a||[],this.We=c||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"s_",{get:function(){return this.settings.s_},enumerable:!1,configurable:!0}),t.prototype.T_=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.U,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.We)},t.prototype.E_=function(e){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.T_({path:r,o_:!1});return s.I_(e),s},t.prototype.A_=function(e){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.T_({path:r,o_:!1});return s.m_(),s},t.prototype.R_=function(e){return this.T_({path:void 0,o_:!0})},t.prototype.i_=function(e){return DI(e,this.settings.methodName,this.settings.g_||!1,this.path,this.settings.r_)},t.prototype.contains=function(e){return this.We.find(function(n){return e.T(n)})!==void 0||this.fieldTransforms.find(function(n){return e.T(n.field)})!==void 0},t.prototype.m_=function(){if(this.path)for(var e=0;e<this.path.length;e++)this.I_(this.path.get(e))},t.prototype.I_=function(e){if(e.length===0)throw this.i_("Document fields must not be empty");if(Wk(this.s_)&&IM.test(e))throw this.i_('Document fields cannot begin and end with "__"')},t}(),TM=function(){function t(e,n,r){this.U=e,this.ignoreUndefinedProperties=n,this.serializer=r||CI(e)}return t.prototype.P_=function(e,n,r,s){return s===void 0&&(s=!1),new Hk({s_:e,methodName:n,r_:r,path:Mo.P(),o_:!1,g_:s},this.U,this.serializer,this.ignoreUndefinedProperties)},t}();function xI(t,e,n,r,s,a){a===void 0&&(a={});var c=t.P_(a.merge||a.mergeFields?2:0,e,n,s);OI("Data must be an object, but it was:",c,r);var h,d,g=Kk(r,c);if(a.merge)h=new Op(c.We),d=c.fieldTransforms;else if(a.mergeFields){for(var y=[],E=0,I=a.mergeFields;E<I.length;E++){var T=I[E],x=void 0;if(T instanceof kI)x=T.t_;else{if(typeof T!="string")throw be();x=PI(e,T,n)}if(!c.contains(x))throw new $(q.INVALID_ARGUMENT,"Field '"+x+"' is specified in your field mask but missing from your input data.");Xk(y,x)||y.push(x)}h=new Op(y),d=c.fieldTransforms.filter(function(A){return h.Ye(A.field)})}else h=null,d=c.fieldTransforms;return new SM(new ll(g),h,d)}function NI(t,e,n,r){var s=t.P_(1,e,n);OI("Data must be an object, but it was:",s,r);var a=[],c=new Xg;zp(r,function(d,g){var y=PI(e,d,n),E=s.A_(y);if(g instanceof Ag||g instanceof L0&&g.l_ instanceof Ag)a.push(y);else{var I=vf(g,E);I!=null&&(a.push(y),c.set(y,I))}});var h=new Op(a);return new Gk(c.Xe(),h,s.fieldTransforms)}function RI(t,e,n,r,s,a){var c=t.P_(1,e,n),h=[Cg(e,r,n)],d=[s];if(a.length%2!=0)throw new $(q.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var g=0;g<a.length;g+=2)h.push(Cg(e,a[g])),d.push(a[g+1]);for(var y=[],E=new Xg,I=h.length-1;I>=0;--I)if(!Xk(y,h[I])){var T=h[I],x=d[I],A=c.A_(T);if(x instanceof Ag||x instanceof L0&&x.l_ instanceof Ag)y.push(T);else{var N=vf(x,A);N!=null&&(y.push(T),E.set(T,N))}}var D=new Op(y);return new Gk(E.Xe(),D,c.fieldTransforms)}function zk(t,e,n,r){return r===void 0&&(r=!1),vf(n,t.P_(r?4:3,e))}function vf(t,e){if(t instanceof L0&&(t=t.l_),Yk(t))return OI("Unsupported field value:",e,t),Kk(t,e);if(t instanceof df)return function(n,r){if(!Wk(r.s_))throw r.i_(n.e_+"() can only be used with update() and set()");if(!r.path)throw r.i_(n.e_+"() is not currently supported inside arrays");var s=n.n_(r);s&&r.fieldTransforms.push(s)}(t,e),null;if(e.path&&e.We.push(e.path),t instanceof Array){if(e.settings.o_&&e.s_!==4)throw e.i_("Nested arrays are not supported");return function(n,r){for(var s=[],a=0,c=0,h=n;c<h.length;c++){var d=vf(h[c],r.R_(a));d==null&&(d={nullValue:"NULL_VALUE"}),s.push(d),a++}return{arrayValue:{values:s}}}(t,e)}return function(n,r){if(n===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return $C(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){var s=Jr.fromDate(n);return{timestampValue:$b(r.serializer,s)}}if(n instanceof Jr){var a=new Jr(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:$b(r.serializer,a)}}if(n instanceof D0)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof JE)return{bytesValue:QC(r.serializer,n.q)};if(n instanceof Jg){var c=r.U,h=n.__;if(!h.isEqual(c))throw r.i_("Document reference is for database "+h.projectId+"/"+h.database+" but should be for database "+c.projectId+"/"+c.database);return{referenceValue:oI(n.__||r.U,n.f_.path)}}if(n===void 0&&r.ignoreUndefinedProperties)return null;throw r.i_("Unsupported field value: "+ys(n))}(t,e)}function Kk(t,e){var n={};return OC(t)?e.path&&e.path.length>0&&e.We.push(e.path):zp(t,function(r,s){var a=vf(s,e.E_(r));a!=null&&(n[r]=a)}),{mapValue:{fields:n}}}function Yk(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Jr||t instanceof D0||t instanceof JE||t instanceof Jg||t instanceof df)}function OI(t,e,n){if(!Yk(n)||!UC(n)){var r=ys(n);throw r==="an object"?e.i_(t+" a custom object"):e.i_(t+" "+r)}}function Cg(t,e,n){if(e instanceof kI)return e.t_;if(typeof e=="string")return PI(t,e);throw DI("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}function PI(t,e,n){try{return function(s){if(s.search(yM)>=0)throw new $(q.INVALID_ARGUMENT,"Invalid field path ("+s+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(ef.bind.apply(ef,Dr([void 0],s.split("."))))}catch{throw new $(q.INVALID_ARGUMENT,"Invalid field path ("+s+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(e).t_}catch(s){throw DI((r=s)instanceof Error?r.message:r.toString(),t,!1,void 0,n)}var r}function DI(t,e,n,r,s){var a=r&&!r.m(),c=s!==void 0,h="Function "+e+"() called with invalid data";n&&(h+=" (via `toFirestore()`)");var d="";return(a||c)&&(d+=" (found",a&&(d+=" in field "+r),c&&(d+=" in document "+s),d+=")"),new $(q.INVALID_ARGUMENT,(h+=". ")+t+d)}function Xk(t,e){return t.some(function(n){return n.isEqual(e)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var AM=function(){function t(e){this.Ku=e,this.y_=new Map,this.mutations=[],this.V_=!1,this.p_=null,this.b_=new Set}return t.prototype.v_=function(e){return B(this,void 0,void 0,function(){var n,r=this;return j(this,function(s){switch(s.label){case 0:if(this.S_(),this.mutations.length>0)throw new $(q.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(a,c){return B(this,void 0,void 0,function(){var h,d,g,y,E,I;return j(this,function(T){switch(T.label){case 0:return h=de(a),d=Eg(h.serializer)+"/documents",g={documents:c.map(function(x){return wp(h.serializer,x)})},[4,h.ku("BatchGetDocuments",d,g)];case 1:return y=T.sent(),E=new Map,y.forEach(function(x){var A=function(N,D){return"found"in D?function(L,H){Te(!!H.found),H.found.name,H.found.updateTime;var X=ps(L,H.found.name),z=Po(H.found.updateTime),P=new ll({mapValue:{fields:H.found.fields}});return new vt(X,z,P,{})}(N,D):"missing"in D?function(L,H){Te(!!H.missing),Te(!!H.readTime);var X=ps(L,H.missing),z=Po(H.readTime);return new Hn(X,z)}(N,D):be()}(h.serializer,x);E.set(A.key.toString(),A)}),I=[],[2,(c.forEach(function(x){var A=E.get(x.toString());Te(!!A),I.push(A)}),I)]}})})}(this.Ku,e)];case 1:return[2,((n=s.sent()).forEach(function(a){a instanceof Hn||a instanceof vt?r.D_(a):be()}),n)]}})})},t.prototype.set=function(e,n){this.write(n.w_(e,this.Ge(e))),this.b_.add(e.toString())},t.prototype.update=function(e,n){try{this.write(n.w_(e,this.C_(e)))}catch(r){this.p_=r}this.b_.add(e.toString())},t.prototype.delete=function(e){this.write([new Yg(e,this.Ge(e))]),this.b_.add(e.toString())},t.prototype.commit=function(){return B(this,void 0,void 0,function(){var e,n=this;return j(this,function(r){switch(r.label){case 0:if(this.S_(),this.p_)throw this.p_;return e=this.y_,this.mutations.forEach(function(s){e.delete(s.key.toString())}),e.forEach(function(s,a){var c=ke.D(a);n.mutations.push(new sI(c,n.Ge(c)))}),[4,function(s,a){return B(this,void 0,void 0,function(){var c,h,d;return j(this,function(g){switch(g.label){case 0:return c=de(s),h=Eg(c.serializer)+"/documents",d={writes:a.map(function(y){return Qb(c.serializer,y)})},[4,c.$u("Commit",h,d)];case 1:return g.sent(),[2]}})})}(this.Ku,this.mutations)];case 1:return r.sent(),this.V_=!0,[2]}})})},t.prototype.D_=function(e){var n;if(e instanceof vt)n=e.version;else{if(!(e instanceof Hn))throw be();n=nt.min()}var r=this.y_.get(e.key.toString());if(r){if(!n.isEqual(r))throw new $(q.ABORTED,"Document version changed between two reads.")}else this.y_.set(e.key.toString(),n)},t.prototype.Ge=function(e){var n=this.y_.get(e.toString());return!this.b_.has(e.toString())&&n?dr.updateTime(n):dr.ze()},t.prototype.C_=function(e){var n=this.y_.get(e.toString());if(!this.b_.has(e.toString())&&n){if(n.isEqual(nt.min()))throw new $(q.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return dr.updateTime(n)}return dr.exists(!0)},t.prototype.write=function(e){this.S_(),this.mutations=this.mutations.concat(e)},t.prototype.S_=function(){},t}(),CM=function(){function t(e,n,r,s){this.cs=e,this.Ku=n,this.updateFunction=r,this.ls=s,this.N_=5,this.ys=new fI(this.cs,"transaction_retry")}return t.prototype.run=function(){this.F_()},t.prototype.F_=function(){var e=this;this.ys.gn(function(){return B(e,void 0,void 0,function(){var n,r,s=this;return j(this,function(a){return n=new AM(this.Ku),(r=this.x_(n))&&r.then(function(c){s.cs.ws(function(){return n.commit().then(function(){s.ls.resolve(c)}).catch(function(h){s.k_(h)})})}).catch(function(c){s.k_(c)}),[2]})})})},t.prototype.x_=function(e){try{var n=this.updateFunction(e);return!lf(n)&&n.catch&&n.then?n:(this.ls.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.ls.reject(r),null}},t.prototype.k_=function(e){var n=this;this.N_>0&&this.M_(e)?(this.N_-=1,this.cs.ws(function(){return n.F_(),Promise.resolve()})):this.ls.reject(e)},t.prototype.M_=function(e){if(e.name==="FirebaseError"){var n=e.code;return n==="aborted"||n==="failed-precondition"||!qC(n)}return!1},t}(),kM=function(){function t(e,n){this.credentials=e,this.cs=n,this.clientId=jC.k(),this.O_=new fi}return t.prototype.start=function(e,n,r,s){var a=this;this.L_(),this.bl=e;var c=new fi,h=!1;return this.credentials.Hc(function(d){if(!h)return h=!0,ue("FirestoreClient","Initializing. user=",d.uid),a.B_(n,r,s,d,c).then(a.O_.resolve,a.O_.reject);a.cs.Cs(function(){return function(g,y){return B(this,void 0,void 0,function(){var E,I;return j(this,function(T){switch(T.label){case 0:return(E=de(g)).cs.xs(),ue("RemoteStore","RemoteStore received new credentials"),I=cl(E),E.Yu.add(3),[4,Lp(E)];case 1:return T.sent(),I&&E.th.set("Unknown"),[4,E.Gu.Jl(y)];case 2:return T.sent(),E.Yu.delete(3),[4,Sg(E)];case 3:return T.sent(),[2]}})})}(a.ph,d)})}),this.cs.ws(function(){return a.O_.promise}),c.promise},t.prototype.enableNetwork=function(){var e=this;return this.L_(),this.cs.enqueue(function(){return e.persistence.tc(!0),function(n){var r=de(n);return r.Yu.delete(0),Sg(r)}(e.ph)})},t.prototype.B_=function(e,n,r,s,a){return B(this,void 0,void 0,function(){var c,h,d=this;return j(this,function(g){switch(g.label){case 0:return g.trys.push([0,3,,4]),c={cs:this.cs,bl:this.bl,clientId:this.clientId,credentials:this.credentials,Wl:s,Dh:100,persistenceSettings:r},[4,e.initialize(c)];case 1:return g.sent(),[4,n.initialize(e,c)];case 2:return g.sent(),this.persistence=e.persistence,this.Sh=e.Sh,this.ju=e.ju,this.ql=e.ql,this.Ku=n.Ku,this.ph=n.ph,this.fi=n.fi,this.q_=n.bh,this.q_.Us=HL.bind(null,this.fi),this.q_.js=zL.bind(null,this.fi),this.persistence.Za(function(){return B(d,void 0,void 0,function(){return j(this,function(y){switch(y.label){case 0:return[4,this.terminate()];case 1:return y.sent(),[2]}})})}),a.resolve(),[3,4];case 3:if(h=g.sent(),a.reject(h),!this.U_(h))throw h;return[2,(console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+h),this.B_(new u0,new l0,{jl:!1},s,a))];case 4:return[2]}})})},t.prototype.U_=function(e){return e.name==="FirebaseError"?e.code===q.FAILED_PRECONDITION||e.code===q.UNIMPLEMENTED:!(typeof DOMException<"u"&&e instanceof DOMException)||e.code===22||e.code===20||e.code===11},t.prototype.L_=function(){if(this.cs.ps)throw new $(q.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.disableNetwork=function(){var e=this;return this.L_(),this.cs.enqueue(function(){return e.persistence.tc(!1),function(n){return B(this,void 0,void 0,function(){var r;return j(this,function(s){switch(s.label){case 0:return(r=de(n)).Yu.add(0),[4,Lp(r)];case 1:return s.sent(),r.th.set("Offline"),[2]}})})}(e.ph)})},t.prototype.terminate=function(){var e=this;this.cs.Ds();var n=new fi;return this.cs.bs(function(){return B(e,void 0,void 0,function(){var r,s;return j(this,function(a){switch(a.label){case 0:return a.trys.push([0,4,,5]),this.ql&&this.ql.stop(),[4,Nk(this.ph)];case 1:return a.sent(),[4,this.Sh.Di()];case 2:return a.sent(),[4,this.persistence.Di()];case 3:return a.sent(),this.credentials.Yc(),n.resolve(),[3,5];case 4:return r=a.sent(),s=fp(r,"Failed to shutdown persistence"),n.reject(s),[3,5];case 5:return[2]}})})}),n.promise},t.prototype.waitForPendingWrites=function(){var e=this;this.L_();var n=new fi;return this.cs.ws(function(){return function(r,s){return B(this,void 0,void 0,function(){var a,c,h,d,g;return j(this,function(y){switch(y.label){case 0:cl((a=de(r)).ph)||ue("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),y.label=1;case 1:return y.trys.push([1,3,,4]),[4,function(E){var I=de(E);return I.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(T){return I.Sr.qo(T)})}(a.ju)];case 2:return(c=y.sent())===-1?[2,void s.resolve()]:((h=a.Lh.get(c)||[]).push(s),a.Lh.set(c,h),[3,4]);case 3:return d=y.sent(),g=fp(d,"Initialization of waitForPendingWrites() operation failed"),s.reject(g),[3,4];case 4:return[2]}})})}(e.fi,n)}),n.promise},t.prototype.listen=function(e,n,r){var s=this;this.L_();var a=new gb(r),c=new Ww(e,a,n);return this.cs.ws(function(){return qw(s.q_,c)}),function(){a.Zl(),s.cs.ws(function(){return Gw(s.q_,c)})}},t.prototype.Q_=function(e){return B(this,void 0,void 0,function(){var n,r=this;return j(this,function(s){switch(s.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return s.sent(),n=new fi,[2,(this.cs.ws(function(){return function(a,c,h){return B(this,void 0,void 0,function(){var d,g,y;return j(this,function(E){switch(E.label){case 0:return E.trys.push([0,2,,3]),[4,function(I,T){var x=de(I);return x.persistence.runTransaction("read document","readonly",function(A){return x.Cc.Cr(A,T)})}(a,c)];case 1:return(d=E.sent())instanceof vt?h.resolve(d):d instanceof Hn?h.resolve(null):h.reject(new $(q.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return g=E.sent(),y=fp(g,"Failed to get document '"+c+" from cache"),h.reject(y),[3,3];case 3:return[2]}})})}(r.ju,e,n)}),n.promise)]}})})},t.prototype.W_=function(e,n){return n===void 0&&(n={}),B(this,void 0,void 0,function(){var r,s=this;return j(this,function(a){switch(a.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return a.sent(),r=new fi,[2,(this.cs.ws(function(){return function(c,h,d,g,y){var E=new gb({next:function(T){h.ws(function(){return Gw(c,I)});var x=T.docs.has(d);!x&&T.fromCache?y.reject(new $(q.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&T.fromCache&&g&&g.source==="server"?y.reject(new $(q.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(T)},error:function(T){return y.reject(T)}}),I=new Ww($g(d.path),E,{includeMetadataChanges:!0,Xs:!0});return qw(c,I)}(s.q_,s.cs,e,n,r)}),r.promise)]}})})},t.prototype.j_=function(e){return B(this,void 0,void 0,function(){var n,r=this;return j(this,function(s){switch(s.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return s.sent(),n=new fi,[2,(this.cs.ws(function(){return function(a,c,h){return B(this,void 0,void 0,function(){var d,g,y,E,I,T;return j(this,function(x){switch(x.label){case 0:return x.trys.push([0,2,,3]),[4,s0(a,c,!0)];case 1:return d=x.sent(),g=new Uk(c,d.Fc),y=g.wh(d.documents),E=g.yr(y,!1),h.resolve(E.snapshot),[3,3];case 2:return I=x.sent(),T=fp(I,"Failed to execute query '"+c+" against cache"),h.reject(T),[3,3];case 3:return[2]}})})}(r.ju,e,n)}),n.promise)]}})})},t.prototype.K_=function(e,n){return n===void 0&&(n={}),B(this,void 0,void 0,function(){var r,s=this;return j(this,function(a){switch(a.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return a.sent(),r=new fi,[2,(this.cs.ws(function(){return function(c,h,d,g,y){var E=new gb({next:function(T){h.ws(function(){return Gw(c,I)}),T.fromCache&&g.source==="server"?y.reject(new $(q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(T)},error:function(T){return y.reject(T)}}),I=new Ww(d,E,{includeMetadataChanges:!0,Xs:!0});return qw(c,I)}(s.q_,s.cs,e,n,r)}),r.promise)]}})})},t.prototype.write=function(e){var n=this;this.L_();var r=new fi;return this.cs.ws(function(){return function(s,a,c){return B(this,void 0,void 0,function(){var h,d,g,y;return j(this,function(E){switch(E.label){case 0:h=AI(s),E.label=1;case 1:return E.trys.push([1,5,,6]),[4,function(I,T){var x,A=de(I),N=Jr.now(),D=T.reduce(function(L,H){return L.add(H.key)},xt());return A.persistence.runTransaction("Locally write mutations","readwrite",function(L){return A.Cc.kr(L,D).next(function(H){x=H;for(var X=[],z=0,P=T;z<P.length;z++){var Be=P[z],Ae=MD(Be,x.get(Be.key));Ae!=null&&X.push(new dl(Be.key,Ae,hk(Ae.proto.mapValue),dr.exists(!0)))}return A.Sr.ko(L,N,X,T)})}).then(function(L){var H=L.lr(x);return{batchId:L.batchId,wr:H}})}(h.ju,a)];case 2:return d=E.sent(),h.Sh.xi(d.batchId),function(I,T,x){var A=I.Oh[I.currentUser.ti()];A||(A=new _r(Xe)),A=A.ot(T,x),I.Oh[I.currentUser.ti()]=A}(h,d.batchId,c),[4,pf(h,d.wr)];case 3:return E.sent(),[4,Xp(h.ph)];case 4:return E.sent(),[3,6];case 5:return g=E.sent(),y=fp(g,"Failed to persist write"),c.reject(y),[3,6];case 6:return[2]}})})}(n.fi,e,r)}),r.promise},t.prototype.U=function(){return this.bl.U},t.prototype.G_=function(e){var n=this;this.L_();var r=new gb(e);return this.cs.ws(function(){return B(n,void 0,void 0,function(){return j(this,function(s){return[2,function(a,c){de(a).qs.add(c),c.next()}(this.q_,r)]})})}),function(){r.Zl(),n.cs.ws(function(){return B(n,void 0,void 0,function(){return j(this,function(s){return[2,function(a,c){de(a).qs.delete(c)}(this.q_,r)]})})})}},Object.defineProperty(t.prototype,"z_",{get:function(){return this.cs.ps},enumerable:!1,configurable:!0}),t.prototype.transaction=function(e){var n=this;this.L_();var r=new fi;return this.cs.ws(function(){return new CM(n.cs,n.Ku,e,r).run(),Promise.resolve()}),r.promise},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kg(t){return function(e,n){if(typeof e!="object"||e===null)return!1;for(var r=e,s=0,a=["next","error","complete"];s<a.length;s++){var c=a[s];if(c in r&&typeof r[c]=="function")return!0}return!1}(t)}var VS=function(){function t(e,n,r,s,a){this.U=e,this.timestampsInSnapshots=n,this.H_=r,this.Y_=s,this.J_=a}return t.prototype.X_=function(e){switch(al(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yn(e.integerValue||e.doubleValue);case 3:return this.Z_(e.timestampValue);case 4:return this.tf(e);case 5:return e.stringValue;case 6:return this.J_(xp(e.bytesValue));case 7:return this.ef(e.referenceValue);case 8:return this.nf(e.geoPointValue);case 9:return this.sf(e.arrayValue);case 10:return this.if(e.mapValue);default:throw be()}},t.prototype.if=function(e){var n=this,r={};return zp(e.fields||{},function(s,a){r[s]=n.X_(a)}),r},t.prototype.nf=function(e){return new D0(yn(e.latitude),yn(e.longitude))},t.prototype.sf=function(e){var n=this;return(e.values||[]).map(function(r){return n.X_(r)})},t.prototype.tf=function(e){switch(this.H_){case"previous":var n=KC(e);return n==null?null:this.X_(n);case"estimate":return this.Z_(wg(e));default:return null}},t.prototype.Z_=function(e){var n=ul(e),r=new Jr(n.seconds,n.nanos);return this.timestampsInSnapshots?r:r.toDate()},t.prototype.ef=function(e){var n=Lt.g(e);Te(ik(n));var r=new j_(n.get(1),n.get(3)),s=new ke(n.u(5));return r.isEqual(this.U)||Xt("Document "+s+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+this.U.projectId+"/"+this.U.database+") instead."),this.Y_(s)},t}(),$k=mn.ho,BS=function(){function t(e){var n,r,s,a,c;if(e.host===void 0){if(e.ssl!==void 0)throw new $(q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else DC("settings","non-empty string","host",e.host),this.host=e.host,Co("settings","boolean","ssl",e.ssl),this.ssl=(n=e.ssl)===null||n===void 0||n;if(af("settings",e,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes","experimentalForceLongPolling","experimentalAutoDetectLongPolling","ignoreUndefinedProperties"]),Co("settings","object","credentials",e.credentials),this.credentials=e.credentials,Co("settings","boolean","timestampsInSnapshots",e.timestampsInSnapshots),Co("settings","boolean","ignoreUndefinedProperties",e.ignoreUndefinedProperties),e.timestampsInSnapshots===!0?Xt("The setting 'timestampsInSnapshots: true' is no longer required and should be removed."):e.timestampsInSnapshots===!1&&Xt("Support for 'timestampsInSnapshots: false' will be removed soon. You must update your code to handle Timestamp objects."),this.timestampsInSnapshots=(r=e.timestampsInSnapshots)===null||r===void 0||r,this.ignoreUndefinedProperties=(s=e.ignoreUndefinedProperties)!==null&&s!==void 0&&s,Co("settings","number","cacheSizeBytes",e.cacheSizeBytes),e.cacheSizeBytes===void 0)this.cacheSizeBytes=mn._o;else{if(e.cacheSizeBytes!==$k&&e.cacheSizeBytes<mn.lo)throw new $(q.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+mn.lo);this.cacheSizeBytes=e.cacheSizeBytes}Co("settings","boolean","experimentalForceLongPolling",e.experimentalForceLongPolling),this.experimentalForceLongPolling=(a=e.experimentalForceLongPolling)!==null&&a!==void 0&&a,Co("settings","boolean","experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalAutoDetectLongPolling=(c=e.experimentalAutoDetectLongPolling)!==null&&c!==void 0&&c,function(h,d,g,y){if(d===!0&&y===!0)throw new $(q.INVALID_ARGUMENT,"experimentalForceLongPolling and experimentalAutoDetectLongPolling cannot be used together.")}(0,e.experimentalForceLongPolling,0,e.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.timestampsInSnapshots===e.timestampsInSnapshots&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties},t}(),J_=function(){function t(e,n,r,s){var a=this;if(r===void 0&&(r=new u0),s===void 0&&(s=new l0),this.rf=r,this.af=s,this.cf=null,this.uf=new XD,this.INTERNAL={delete:function(){return B(a,void 0,void 0,function(){return j(this,function(d){switch(d.label){case 0:return this.hf(),[4,this.lf.terminate()];case 1:return d.sent(),[2]}})})}},typeof e.options=="object"){var c=e;this.cf=c,this.__=t._f(c),this.ff=c.name,this.df=new CL(n)}else{var h=e;if(!h.projectId)throw new $(q.INVALID_ARGUMENT,"Must provide projectId");this.__=new j_(h.projectId,h.database),this.ff="[DEFAULT]",this.df=new LS}this.wf=new BS({})}return Object.defineProperty(t.prototype,"mf",{get:function(){return this.Tf||(this.Tf=new TM(this.__,this.wf.ignoreUndefinedProperties)),this.Tf},enumerable:!1,configurable:!0}),t.prototype.settings=function(e){Dt("Firestore.settings",arguments,1),_n("Firestore.settings","object",1,e),e.merge&&delete(e=Object.assign(Object.assign({},this.wf),e)).merge;var n=new BS(e);if(this.lf&&!this.wf.isEqual(n))throw new $(q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this.wf=n,n.credentials!==void 0&&(this.df=function(r){if(!r)return new LS;switch(r.type){case"gapi":var s=r.client;return Te(!(typeof s!="object"||s===null||!s.auth||!s.auth.getAuthHeaderValueForFirstParty)),new xL(s,r.sessionIndex||"0");case"provider":return r.client;default:throw new $(q.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(n.credentials))},t.prototype.enableNetwork=function(){return this.hf(),this.lf.enableNetwork()},t.prototype.disableNetwork=function(){return this.hf(),this.lf.disableNetwork()},t.prototype.enablePersistence=function(e){var n,r;if(this.lf)throw new $(q.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var s=!1,a=!1;if(e&&(e.experimentalTabSynchronization!==void 0&&Xt("The 'experimentalTabSynchronization' setting will be removed. Use 'synchronizeTabs' instead."),s=(r=(n=e.synchronizeTabs)!==null&&n!==void 0?n:e.experimentalTabSynchronization)!==null&&r!==void 0&&r,a=!!e.experimentalForceOwningTab&&e.experimentalForceOwningTab,s&&a))throw new $(q.INVALID_ARGUMENT,"The 'experimentalForceOwningTab' setting cannot be used with 'synchronizeTabs'.");return this.Ef(this.rf,this.af,{jl:!0,cacheSizeBytes:this.wf.cacheSizeBytes,synchronizeTabs:s,ka:a})},t.prototype.clearPersistence=function(){return B(this,void 0,void 0,function(){var e,n=this;return j(this,function(r){if(this.lf!==void 0&&!this.lf.z_)throw new $(q.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");return e=new fi,[2,(this.uf.bs(function(){return B(n,void 0,void 0,function(){var s;return j(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,this.rf.clearPersistence(this.__,this.ff)];case 1:return a.sent(),e.resolve(),[3,3];case 2:return s=a.sent(),e.reject(s),[3,3];case 3:return[2]}})})}),e.promise)]})})},t.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.INTERNAL.delete()},Object.defineProperty(t.prototype,"If",{get:function(){return this.hf(),this.lf.z_},enumerable:!1,configurable:!0}),t.prototype.waitForPendingWrites=function(){return this.hf(),this.lf.waitForPendingWrites()},t.prototype.onSnapshotsInSync=function(e){if(this.hf(),kg(e))return this.lf.G_(e);_n("Firestore.onSnapshotsInSync","function",1,e);var n={next:e};return this.lf.G_(n)},t.prototype.hf=function(){return this.lf||this.Ef(new u0,new l0,{jl:!1}),this.lf},t.prototype.Af=function(){return new hD(this.__,this.ff,this.wf.host,this.wf.ssl,this.wf.experimentalForceLongPolling,this.wf.experimentalAutoDetectLongPolling)},t.prototype.Ef=function(e,n,r){var s=this.Af();return this.lf=new kM(this.df,this.uf),this.lf.start(s,e,n,r)},t._f=function(e){if(n=e.options,!Object.prototype.hasOwnProperty.call(n,"projectId"))throw new $(q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var n,r=e.options.projectId;if(!r||typeof r!="string")throw new $(q.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new j_(r)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.cf)throw new $(q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.cf},enumerable:!1,configurable:!0}),t.prototype.collection=function(e){return Dt("Firestore.collection",arguments,1),_n("Firestore.collection","non-empty string",1,e),this.hf(),new c0(Lt.g(e),this,null)},t.prototype.doc=function(e){return Dt("Firestore.doc",arguments,1),_n("Firestore.doc","non-empty string",1,e),this.hf(),il.Rf(Lt.g(e),this,null)},t.prototype.collectionGroup=function(e){if(Dt("Firestore.collectionGroup",arguments,1),_n("Firestore.collectionGroup","non-empty string",1,e),e.indexOf("/")>=0)throw new $(q.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this.hf(),new M0(function(n){return new Sa(Lt.P(),n)}(e),this,null)},t.prototype.runTransaction=function(e){var n=this;return Dt("Firestore.runTransaction",arguments,1),_n("Firestore.runTransaction","function",1,e),this.hf().transaction(function(r){return e(new Qk(n,r))})},t.prototype.batch=function(){return this.hf(),new Jk(this)},Object.defineProperty(t,"logLevel",{get:function(){switch(Wb()){case Le.DEBUG:return"debug";case Le.ERROR:return"error";case Le.SILENT:return"silent";case Le.WARN:return"warn";case Le.INFO:return"info";case Le.VERBOSE:return"verbose";default:return"error"}},enumerable:!1,configurable:!0}),t.setLogLevel=function(e){var n;Dt("Firestore.setLogLevel",arguments,1),MC("setLogLevel",["debug","error","silent","warn","info","verbose"],1,e),n=e,Do.setLogLevel(n)},t.prototype.gf=function(){return this.wf.timestampsInSnapshots},t.prototype.Pf=function(){return this.wf},t}(),Qk=function(){function t(e,n){this.yf=e,this.Vf=n}return t.prototype.get=function(e){var n=this;Dt("Transaction.get",arguments,1);var r=va("Transaction.get",e,this.yf);return this.Vf.v_([r.f_]).then(function(s){if(!s||s.length!==1)return be();var a=s[0];if(a instanceof Hn)return new tf(n.yf,r.f_,null,!1,!1,r.d_);if(a instanceof vt)return new tf(n.yf,r.f_,a,!1,!1,r.d_);throw be()})},t.prototype.set=function(e,n,r){Bi("Transaction.set",arguments,2,3);var s=va("Transaction.set",e,this.yf);r=MI("Transaction.set",r);var a=FI(s.d_,n,r),c=xI(this.yf.mf,"Transaction.set",s.f_,a,s.d_!==null,r);return this.Vf.set(s.f_,c),this},t.prototype.update=function(e,n,r){for(var s,a,c=[],h=3;h<arguments.length;h++)c[h-3]=arguments[h];return typeof n=="string"||n instanceof ef?(Oo("Transaction.update",arguments,3),s=va("Transaction.update",e,this.yf),a=RI(this.yf.mf,"Transaction.update",s.f_,n,r,c)):(Dt("Transaction.update",arguments,2),s=va("Transaction.update",e,this.yf),a=NI(this.yf.mf,"Transaction.update",s.f_,n)),this.Vf.update(s.f_,a),this},t.prototype.delete=function(e){Dt("Transaction.delete",arguments,1);var n=va("Transaction.delete",e,this.yf);return this.Vf.delete(n.f_),this},t}(),Jk=function(){function t(e){this.yf=e,this.pf=[],this.bf=!1}return t.prototype.set=function(e,n,r){Bi("WriteBatch.set",arguments,2,3),this.vf();var s=va("WriteBatch.set",e,this.yf);r=MI("WriteBatch.set",r);var a=FI(s.d_,n,r),c=xI(this.yf.mf,"WriteBatch.set",s.f_,a,s.d_!==null,r);return this.pf=this.pf.concat(c.w_(s.f_,dr.ze())),this},t.prototype.update=function(e,n,r){for(var s,a,c=[],h=3;h<arguments.length;h++)c[h-3]=arguments[h];return this.vf(),typeof n=="string"||n instanceof ef?(Oo("WriteBatch.update",arguments,3),s=va("WriteBatch.update",e,this.yf),a=RI(this.yf.mf,"WriteBatch.update",s.f_,n,r,c)):(Dt("WriteBatch.update",arguments,2),s=va("WriteBatch.update",e,this.yf),a=NI(this.yf.mf,"WriteBatch.update",s.f_,n)),this.pf=this.pf.concat(a.w_(s.f_,dr.exists(!0))),this},t.prototype.delete=function(e){Dt("WriteBatch.delete",arguments,1),this.vf();var n=va("WriteBatch.delete",e,this.yf);return this.pf=this.pf.concat(new Yg(n.f_,dr.ze())),this},t.prototype.commit=function(){return this.vf(),this.bf=!0,this.pf.length>0?this.yf.hf().write(this.pf):Promise.resolve()},t.prototype.vf=function(){if(this.bf)throw new $(q.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}(),il=function(t){function e(n,r,s){var a=this;return(a=t.call(this,r.__,n,s)||this).f_=n,a.firestore=r,a.d_=s,a.lf=a.firestore.hf(),a}return we(e,t),e.Rf=function(n,r,s){if(n.length%2!=0)throw new $(q.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+n.R()+" has "+n.length);return new e(new ke(n),r,s)},Object.defineProperty(e.prototype,"id",{get:function(){return this.f_.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new c0(this.f_.path.h(),this.firestore,this.d_)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.f_.path.R()},enumerable:!1,configurable:!0}),e.prototype.collection=function(n){if(Dt("DocumentReference.collection",arguments,1),_n("DocumentReference.collection","non-empty string",1,n),!n)throw new $(q.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var r=Lt.g(n);return new c0(this.f_.path.child(r),this.firestore,null)},e.prototype.isEqual=function(n){if(!(n instanceof e))throw uf("isEqual","DocumentReference",1,n);return this.firestore===n.firestore&&this.f_.isEqual(n.f_)&&this.d_===n.d_},e.prototype.set=function(n,r){Bi("DocumentReference.set",arguments,1,2),r=MI("DocumentReference.set",r);var s=FI(this.d_,n,r),a=xI(this.firestore.mf,"DocumentReference.set",this.f_,s,this.d_!==null,r);return this.lf.write(a.w_(this.f_,dr.ze()))},e.prototype.update=function(n,r){for(var s,a=[],c=2;c<arguments.length;c++)a[c-2]=arguments[c];return typeof n=="string"||n instanceof ef?(Oo("DocumentReference.update",arguments,2),s=RI(this.firestore.mf,"DocumentReference.update",this.f_,n,r,a)):(Dt("DocumentReference.update",arguments,1),s=NI(this.firestore.mf,"DocumentReference.update",this.f_,n)),this.lf.write(s.w_(this.f_,dr.exists(!0)))},e.prototype.delete=function(){return Dt("DocumentReference.delete",arguments,0),this.lf.write([new Yg(this.f_,dr.ze())])},e.prototype.onSnapshot=function(){for(var n,r,s,a=this,c=[],h=0;h<arguments.length;h++)c[h]=arguments[h];Bi("DocumentReference.onSnapshot",arguments,1,4);var d={includeMetadataChanges:!1},g=0;typeof c[g]!="object"||kg(c[g])||(af("DocumentReference.onSnapshot",d=c[g],["includeMetadataChanges"]),Co("DocumentReference.onSnapshot","boolean","includeMetadataChanges",d.includeMetadataChanges),g++);var y={includeMetadataChanges:d.includeMetadataChanges};if(kg(c[g])){var E=c[g];c[g]=(n=E.next)===null||n===void 0?void 0:n.bind(E),c[g+1]=(r=E.error)===null||r===void 0?void 0:r.bind(E),c[g+2]=(s=E.complete)===null||s===void 0?void 0:s.bind(E)}else _n("DocumentReference.onSnapshot","function",g,c[g]),bp("DocumentReference.onSnapshot","function",g+1,c[g+1]),bp("DocumentReference.onSnapshot","function",g+2,c[g+2]);var I={next:function(T){c[g]&&c[g](a.Sf(T))},error:c[g+1],complete:c[g+2]};return this.lf.listen($g(this.f_.path),y,I)},e.prototype.get=function(n){var r=this;Bi("DocumentReference.get",arguments,0,1),tx("DocumentReference.get",n);var s=this.firestore.hf();return n&&n.source==="cache"?s.Q_(this.f_).then(function(a){return new tf(r.firestore,r.f_,a,!0,a instanceof vt&&a.Je,r.d_)}):s.W_(this.f_,n).then(function(a){return r.Sf(a)})},e.prototype.withConverter=function(n){return new e(this.f_,this.firestore,n)},e.prototype.Sf=function(n){var r=n.docs.get(this.f_);return new tf(this.firestore,this.f_,r,n.fromCache,n.hasPendingWrites,this.d_)},e}(Jg),Zk=function(){function t(e,n){this.hasPendingWrites=e,this.fromCache=n}return t.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},t}(),tf=function(){function t(e,n,r,s,a,c){this.yf=e,this.f_=n,this.Df=r,this.Cf=s,this.Nf=a,this.d_=c}return t.prototype.data=function(e){var n=this;if(Bi("DocumentSnapshot.data",arguments,0,1),e=HS("DocumentSnapshot.data",e),this.Df){if(this.d_){var r=new LI(this.yf,this.f_,this.Df,this.Cf,this.Nf,null);return this.d_.fromFirestore(r,e)}return new VS(this.yf.__,this.yf.gf(),e.serverTimestamps||"none",function(s){return new il(s,n.yf,null)},function(s){return new U_(s)}).X_(this.Df.rn())}},t.prototype.get=function(e,n){var r=this;if(Bi("DocumentSnapshot.get",arguments,1,2),n=HS("DocumentSnapshot.get",n),this.Df){var s=this.Df.data().field(Cg("DocumentSnapshot.get",e,this.f_));if(s!==null)return new VS(this.yf.__,this.yf.gf(),n.serverTimestamps||"none",function(a){return new il(a,r.yf,r.d_)},function(a){return new U_(a)}).X_(s)}},Object.defineProperty(t.prototype,"id",{get:function(){return this.f_.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new il(this.f_,this.yf,this.d_)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this.Df!==null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return new Zk(this.Nf,this.Cf)},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){if(!(e instanceof t))throw uf("isEqual","DocumentSnapshot",1,e);return this.yf===e.yf&&this.Cf===e.Cf&&this.f_.isEqual(e.f_)&&(this.Df===null?e.Df===null:this.Df.isEqual(e.Df))&&this.d_===e.d_},t}(),LI=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return we(e,t),e.prototype.data=function(n){return t.prototype.data.call(this,n)},e}(tf);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xM(t,e,n,r,s,a,c){var h;if(s.p()){if(a==="array-contains"||a==="array-contains-any")throw new $(q.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+a+"' queries on FieldPath.documentId().");if(a==="in"||a==="not-in"){GS(c,a);for(var d=[],g=0,y=c;g<y.length;g++){var E=y[g];d.push(qS(r,t,E))}h={arrayValue:{values:d}}}else h=qS(r,t,c)}else a!=="in"&&a!=="not-in"&&a!=="array-contains-any"||GS(c,a),h=zk(n,e,c,a==="in"||a==="not-in");var I=vi.create(s,a,h);return function(T,x){if(x.hn()){var A=lI(T);if(A!==null&&!A.isEqual(x.field))throw new $(q.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+A.toString()+"' and '"+x.field.toString()+"'");var N=uI(T);N!==null&&ex(T,x.field,N)}var D=function(L,H){for(var X=0,z=L.filters;X<z.length;X++){var P=z[X];if(H.indexOf(P.op)>=0)return P.op}return null}(T,function(L){switch(L){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(x.op));if(D!==null)throw D===x.op?new $(q.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+x.op.toString()+"' filter."):new $(q.INVALID_ARGUMENT,"Invalid query. You cannot use '"+x.op.toString()+"' filters with '"+D.toString()+"' filters.")}(t,I),I}function NM(t,e,n){if(t.startAt!==null)throw new $(q.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(t.endAt!==null)throw new $(q.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new _p(e,n);return function(s,a){if(uI(s)===null){var c=lI(s);c!==null&&ex(s,c,a.field)}}(t,r),r}function qS(t,e,n){if(typeof n=="string"){if(n==="")throw new $(q.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!cI(e)&&n.indexOf("/")!==-1)throw new $(q.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(Lt.g(n));if(!ke.F(r))throw new $(q.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Xb(t,new ke(r))}if(n instanceof Jg)return Xb(t,n.f_);throw new $(q.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+ys(n)+".")}function GS(t,e){if(!Array.isArray(t)||t.length===0)throw new $(q.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new $(q.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.");if(e==="in"||e==="array-contains-any"){if(t.indexOf(null)>=0)throw new $(q.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'null' in the value array.");if(t.filter(function(n){return Number.isNaN(n)}).length>0)throw new $(q.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'NaN' in the value array.")}}function ex(t,e,n){if(!n.isEqual(e))throw new $(q.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function WS(t){if(Zb(t)&&t.on.length===0)throw new $(q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var M0=function(){function t(e,n,r){this.Ff=e,this.firestore=n,this.d_=r}return t.prototype.where=function(e,n,r){Dt("Query.where",arguments,3),J1("Query.where",3,r);var s=MC("Query.where",["<","<=","==","!=",">=",">","array-contains","in","array-contains-any","not-in"],2,n),a=Cg("Query.where",e),c=xM(this.Ff,"Query.where",this.firestore.mf,this.firestore.__,a,s,r);return new t(function(h,d){var g=h.filters.concat([d]);return new Sa(h.path,h.collectionGroup,h.on.slice(),g,h.limit,h.an,h.startAt,h.endAt)}(this.Ff,c),this.firestore,this.d_)},t.prototype.orderBy=function(e,n){var r;if(Bi("Query.orderBy",arguments,1,2),bp("Query.orderBy","non-empty string",2,n),n===void 0||n==="asc")r="asc";else{if(n!=="desc")throw new $(q.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+n+"', expected 'asc' or 'desc'.");r="desc"}var s=Cg("Query.orderBy",e),a=NM(this.Ff,s,r);return new t(function(c,h){var d=c.on.concat([h]);return new Sa(c.path,c.collectionGroup,d,c.filters.slice(),c.limit,c.an,c.startAt,c.endAt)}(this.Ff,a),this.firestore,this.d_)},t.prototype.limit=function(e){return Dt("Query.limit",arguments,1),_n("Query.limit","number",1,e),Z1("Query.limit",1,e),new t(gS(this.Ff,e,"F"),this.firestore,this.d_)},t.prototype.limitToLast=function(e){return Dt("Query.limitToLast",arguments,1),_n("Query.limitToLast","number",1,e),Z1("Query.limitToLast",1,e),new t(gS(this.Ff,e,"L"),this.firestore,this.d_)},t.prototype.startAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];Oo("Query.startAt",arguments,1);var s=this.xf("Query.startAt",e,n,!0);return new t(mS(this.Ff,s),this.firestore,this.d_)},t.prototype.startAfter=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];Oo("Query.startAfter",arguments,1);var s=this.xf("Query.startAfter",e,n,!1);return new t(mS(this.Ff,s),this.firestore,this.d_)},t.prototype.endBefore=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];Oo("Query.endBefore",arguments,1);var s=this.xf("Query.endBefore",e,n,!0);return new t(yS(this.Ff,s),this.firestore,this.d_)},t.prototype.endAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];Oo("Query.endAt",arguments,1);var s=this.xf("Query.endAt",e,n,!1);return new t(yS(this.Ff,s),this.firestore,this.d_)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw uf("isEqual","Query",1,e);return this.firestore===e.firestore&&Yp(this.Ff,e.Ff)&&this.d_===e.d_},t.prototype.withConverter=function(e){return new t(this.Ff,this.firestore,e)},t.prototype.xf=function(e,n,r,s){if(J1(e,1,n),n instanceof tf)return Dt(e,Dr([n],r),1),function(c,h,d,g,y){if(!g)throw new $(q.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+d+"().");for(var E=[],I=0,T=Pp(c);I<T.length;I++){var x=T[I];if(x.field.p())E.push(Xb(h,g.key));else{var A=g.field(x.field);if(tI(A))throw new $(q.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+x.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(A===null){var N=x.field.R();throw new $(q.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+N+"' (used as the orderBy) does not exist.")}E.push(A)}}return new Ig(E,y)}(this.Ff,this.firestore.__,e,n.Df,s);var a=[n].concat(r);return function(c,h,d,g,y,E){var I=c.on;if(y.length>I.length)throw new $(q.INVALID_ARGUMENT,"Too many arguments provided to "+g+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var T=[],x=0;x<y.length;x++){var A=y[x];if(I[x].field.p()){if(typeof A!="string")throw new $(q.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+g+"(), but got a "+typeof A);if(!cI(c)&&A.indexOf("/")!==-1)throw new $(q.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+g+"() must be a plain document ID, but '"+A+"' contains a slash.");var N=c.path.child(Lt.g(A));if(!ke.F(N))throw new $(q.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+g+"() must result in a valid document path, but '"+N+"' is not because it contains an odd number of segments.");var D=new ke(N);T.push(Xb(h,D))}else{var L=zk(d,g,A);T.push(L)}}return new Ig(T,E)}(this.Ff,this.firestore.__,this.firestore.mf,e,a,s)},t.prototype.onSnapshot=function(){for(var e,n,r,s=this,a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];Bi("Query.onSnapshot",arguments,1,4);var h={},d=0;if(typeof a[d]!="object"||kg(a[d])||(af("Query.onSnapshot",h=a[d],["includeMetadataChanges"]),Co("Query.onSnapshot","boolean","includeMetadataChanges",h.includeMetadataChanges),d++),kg(a[d])){var g=a[d];a[d]=(e=g.next)===null||e===void 0?void 0:e.bind(g),a[d+1]=(n=g.error)===null||n===void 0?void 0:n.bind(g),a[d+2]=(r=g.complete)===null||r===void 0?void 0:r.bind(g)}else _n("Query.onSnapshot","function",d,a[d]),bp("Query.onSnapshot","function",d+1,a[d+1]),bp("Query.onSnapshot","function",d+2,a[d+2]);var y={next:function(E){a[d]&&a[d](new Z_(s.firestore,s.Ff,E,s.d_))},error:a[d+1],complete:a[d+2]};return WS(this.Ff),this.firestore.hf().listen(this.Ff,h,y)},t.prototype.get=function(e){var n=this;Bi("Query.get",arguments,0,1),tx("Query.get",e),WS(this.Ff);var r=this.firestore.hf();return(e&&e.source==="cache"?r.j_(this.Ff):r.K_(this.Ff,e)).then(function(s){return new Z_(n.firestore,n.Ff,s,n.d_)})},t}(),Z_=function(){function t(e,n,r,s){this.yf=e,this.$f=n,this.kf=r,this.d_=s,this.Mf=null,this.Of=null,this.metadata=new Zk(r.hasPendingWrites,r.fromCache)}return Object.defineProperty(t.prototype,"docs",{get:function(){var e=[];return this.forEach(function(n){return e.push(n)}),e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this.kf.docs.m()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.kf.docs.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(e,n){var r=this;Bi("QuerySnapshot.forEach",arguments,1,2),_n("QuerySnapshot.forEach","function",1,e),this.kf.docs.forEach(function(s){e.call(n,r.Lf(s,r.metadata.fromCache,r.kf.Wt.has(s.key)))})},Object.defineProperty(t.prototype,"query",{get:function(){return new M0(this.$f,this.yf,this.d_)},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(e){e&&(af("QuerySnapshot.docChanges",e,["includeMetadataChanges"]),Co("QuerySnapshot.docChanges","boolean","includeMetadataChanges",e.includeMetadataChanges));var n=!(!e||!e.includeMetadataChanges);if(n&&this.kf.Kt)throw new $(q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.Mf&&this.Of===n||(this.Mf=function(r,s,a){if(r.Qt.m()){var c=0;return r.docChanges.map(function(d){var g=a(d.doc,r.fromCache,r.Wt.has(d.doc.key));return d.doc,{type:"added",doc:g,oldIndex:-1,newIndex:c++}})}var h=r.Qt;return r.docChanges.filter(function(d){return s||d.type!==3}).map(function(d){var g=a(d.doc,r.fromCache,r.Wt.has(d.doc.key)),y=-1,E=-1;return d.type!==0&&(y=h.indexOf(d.doc.key),h=h.delete(d.doc.key)),d.type!==1&&(E=(h=h.add(d.doc)).indexOf(d.doc.key)),{type:RM(d.type),doc:g,oldIndex:y,newIndex:E}})}(this.kf,n,this.Lf.bind(this)),this.Of=n),this.Mf},t.prototype.isEqual=function(e){if(!(e instanceof t))throw uf("isEqual","QuerySnapshot",1,e);return this.yf===e.yf&&Yp(this.$f,e.$f)&&this.kf.isEqual(e.kf)&&this.d_===e.d_},t.prototype.Lf=function(e,n,r){return new LI(this.yf,e.key,e,n,r,this.d_)},t}(),c0=function(t){function e(n,r,s){var a=this;if((a=t.call(this,$g(n),r,s)||this).Bf=n,n.length%2!=1)throw new $(q.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+n.R()+" has "+n.length);return a}return we(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.Ff.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var n=this.Ff.path.h();return n.m()?null:new il(new ke(n),this.firestore,null)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.Ff.path.R()},enumerable:!1,configurable:!0}),e.prototype.doc=function(n){Bi("CollectionReference.doc",arguments,0,1),arguments.length===0&&(n=jC.k()),_n("CollectionReference.doc","non-empty string",1,n);var r=Lt.g(n);return il.Rf(this.Ff.path.child(r),this.firestore,this.d_)},e.prototype.add=function(n){Dt("CollectionReference.add",arguments,1);var r=this.d_?this.d_.toFirestore(n):n;_n("CollectionReference.add","object",1,r);var s=this.doc();return new il(s.f_,this.firestore,null).set(r).then(function(){return s})},e.prototype.withConverter=function(n){return new e(this.Bf,this.firestore,n)},e}(M0);function MI(t,e){if(e===void 0)return{merge:!1};if(af(t,e,["merge","mergeFields"]),Co(t,"boolean","merge",e.merge),function(n,r,s,a,c){a!==void 0&&function(h,d,g,y,E){if(!(y instanceof Array))throw new $(q.INVALID_ARGUMENT,"Function "+h+"() requires its "+d+" option to be an array, but it was: "+ys(y));for(var I=0;I<y.length;++I)if(!E(y[I]))throw new $(q.INVALID_ARGUMENT,"Function "+h+"() requires all "+d+" elements to be "+g+", but the value at index "+I+" was: "+ys(y[I]))}(n,r,s,a,c)}(t,"mergeFields","a string or a FieldPath",e.mergeFields,function(n){return typeof n=="string"||n instanceof ef}),e.mergeFields!==void 0&&e.merge!==void 0)throw new $(q.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function HS(t,e){return e===void 0?{}:(af(t,e,["serverTimestamps"]),LC(t,0,"serverTimestamps",e.serverTimestamps,["estimate","previous","none"]),e)}function tx(t,e){bp(t,"object",1,e),e&&(af(t,e,["source"]),LC(t,0,"source",e.source,["default","server","cache"]))}function va(t,e,n){if(e instanceof Jg){if(e.firestore!==n)throw new $(q.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}throw uf(t,"DocumentReference",1,e)}function RM(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return be()}}function FI(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var OM=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return we(e,t),e.serverTimestamp=function(){Q1("FieldValue.serverTimestamp",arguments);var n=new bM("serverTimestamp");return n.e_="FieldValue.serverTimestamp",new e(n)},e.delete=function(){Q1("FieldValue.delete",arguments);var n=new Ag("deleteField");return n.e_="FieldValue.delete",new e(n)},e.arrayUnion=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Oo("FieldValue.arrayUnion",arguments,1);var s=(function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];return Oo("arrayUnion()",arguments,1),new wM("arrayUnion",a)}).apply(void 0,n);return s.e_="FieldValue.arrayUnion",new e(s)},e.arrayRemove=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Oo("FieldValue.arrayRemove",arguments,1);var s=(function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];return Oo("arrayRemove()",arguments,1),new _M("arrayRemove",a)}).apply(void 0,n);return s.e_="FieldValue.arrayRemove",new e(s)},e.increment=function(n){_n("FieldValue.increment","number",1,n),Dt("FieldValue.increment",arguments,1);var r=function(s){return new EM("increment",s)}(n);return r.e_="FieldValue.increment",new e(r)},e.prototype.isEqual=function(n){return this.l_.isEqual(n.l_)},e}(L0),PM={Firestore:J_,GeoPoint:D0,Timestamp:Jr,Blob:U_,Transaction:Qk,WriteBatch:Jk,DocumentReference:il,DocumentSnapshot:tf,Query:M0,QueryDocumentSnapshot:LI,QuerySnapshot:Z_,CollectionReference:c0,FieldPath:ef,FieldValue:OM,setLogLevel:J_.setLogLevel,CACHE_SIZE_UNLIMITED:$k};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DM(t){(function(e,n){e.INTERNAL.registerComponent(new ms("firestore",function(r){return function(s,a){var c=new l0,h=new mM(c);return new J_(s,a,h,c)}(r.getProvider("app").getImmediate(),r.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},PM)))})(t),t.registerVersion("@firebase/firestore","1.18.0")}DM(Z);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zS={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Ip=function(t){we(e,t);function e(n,r,s){var a=t.call(this,r)||this;return Object.setPrototypeOf(a,e.prototype),a.code=n,a.details=s,a}return e}(Error);function LM(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function MM(t,e,n){var r=LM(t),s=r,a=void 0;try{var c=e&&e.error;if(c){var h=c.status;if(typeof h=="string"){if(!zS[h])return new Ip("internal","internal");r=zS[h],s=h}var d=c.message;typeof d=="string"&&(s=d),a=c.details,a!==void 0&&(a=n.decode(a))}}catch{}return r==="ok"?null:new Ip(r,s,a)}var FM=function(){function t(e,n){var r=this;this.auth=null,this.messaging=null,this.auth=e.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||e.get().then(function(s){return r.auth=s},function(){}),this.messaging||n.get().then(function(s){return r.messaging=s},function(){})}return t.prototype.getAuthToken=function(){return B(this,void 0,void 0,function(){var e;return j(this,function(n){switch(n.label){case 0:if(!this.auth)return[2,void 0];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return e=n.sent(),e?[2,e.accessToken]:[2,void 0];case 3:return n.sent(),[2,void 0];case 4:return[2]}})})},t.prototype.getInstanceIdToken=function(){return B(this,void 0,void 0,function(){return j(this,function(e){if(!this.messaging||!("Notification"in self)||Notification.permission!=="granted")return[2,void 0];try{return[2,this.messaging.getToken()]}catch{return[2,void 0]}return[2]})})},t.prototype.getContext=function(){return B(this,void 0,void 0,function(){var e,n;return j(this,function(r){switch(r.label){case 0:return[4,this.getAuthToken()];case 1:return e=r.sent(),[4,this.getInstanceIdToken()];case 2:return n=r.sent(),[2,{authToken:e,instanceIdToken:n}]}})})},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var UM="type.googleapis.com/google.protobuf.Int64Value",jM="type.googleapis.com/google.protobuf.UInt64Value";function KS(t,e){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}var VM=function(){function t(){}return t.prototype.encode=function(e){var n=this;if(e==null)return null;if(e instanceof Number&&(e=e.valueOf()),typeof e=="number"&&isFinite(e)||e===!0||e===!1||Object.prototype.toString.call(e)==="[object String]")return e;if(Array.isArray(e))return e.map(function(r){return n.encode(r)});if(typeof e=="function"||typeof e=="object")return KS(e,function(r){return n.encode(r)});throw new Error("Data cannot be encoded in JSON: "+e)},t.prototype.decode=function(e){var n=this;if(e==null)return e;if(e["@type"])switch(e["@type"]){case UM:case jM:{var r=Number(e.value);if(isNaN(r))throw new Error("Data cannot be decoded from JSON: "+e);return r}default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map(function(s){return n.decode(s)}):typeof e=="function"||typeof e=="object"?KS(e,function(s){return n.decode(s)}):e},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BM(t){var e,n=new Promise(function(r,s){e=setTimeout(function(){s(new Ip("deadline-exceeded","deadline-exceeded"))},t)});return{timer:e,promise:n}}var YS=function(){function t(e,n,r,s,a){var c=this;s===void 0&&(s="us-central1"),this.app_=e,this.fetchImpl=a,this.serializer=new VM,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(c.deleteService())}},this.contextProvider=new FM(n,r),this.cancelAllRequests=new Promise(function(d){c.deleteService=function(){return d()}});try{var h=new URL(s);this.customDomain=h.origin,this.region="us-central1"}catch{this.customDomain=null,this.region=s}}return Object.defineProperty(t.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),t.prototype._url=function(e){var n=this.app_.options.projectId;if(this.emulatorOrigin!==null){var r=this.emulatorOrigin;return r+"/"+n+"/"+this.region+"/"+e}return this.customDomain!==null?this.customDomain+"/"+e:"https://"+this.region+"-"+n+".cloudfunctions.net/"+e},t.prototype.useFunctionsEmulator=function(e){this.emulatorOrigin=e},t.prototype.httpsCallable=function(e,n){var r=this;return function(s){return r.call(e,s,n||{})}},t.prototype.postJSON=function(e,n,r){return B(this,void 0,void 0,function(){var s,a;return j(this,function(c){switch(c.label){case 0:r["Content-Type"]="application/json",c.label=1;case 1:return c.trys.push([1,3,,4]),[4,this.fetchImpl(e,{method:"POST",body:JSON.stringify(n),headers:r})];case 2:return s=c.sent(),[3,4];case 3:return c.sent(),[2,{status:0,json:null}];case 4:a=null,c.label=5;case 5:return c.trys.push([5,7,,8]),[4,s.json()];case 6:return a=c.sent(),[3,8];case 7:return c.sent(),[3,8];case 8:return[2,{status:s.status,json:a}]}})})},t.prototype.call=function(e,n,r){return B(this,void 0,void 0,function(){var s,a,c,h,d,g,y,E,I,T,x,A;return j(this,function(N){switch(N.label){case 0:return s=this._url(e),n=this.serializer.encode(n),a={data:n},c={},[4,this.contextProvider.getContext()];case 1:return h=N.sent(),h.authToken&&(c.Authorization="Bearer "+h.authToken),h.instanceIdToken&&(c["Firebase-Instance-ID-Token"]=h.instanceIdToken),d=r.timeout||7e4,g=BM(d),y=g.timer,E=g.promise,[4,Promise.race([XS(y,this.postJSON(s,a,c)),E,XS(y,this.cancelAllRequests)])];case 2:if(I=N.sent(),!I)throw new Ip("cancelled","Firebase Functions instance was deleted.");if(T=MM(I.status,I.json,this.serializer),T)throw T;if(!I.json)throw new Ip("internal","Response is not valid JSON object.");if(x=I.json.data,typeof x>"u"&&(x=I.json.result),typeof x>"u")throw new Ip("internal","Response is missing data field.");return A=this.serializer.decode(x),[2,{data:A}]}})})},t}();function XS(t,e){return B(this,void 0,void 0,function(){var n;return j(this,function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),clearTimeout(t),[2,n]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qM="functions";function GM(t,e){var n={Functions:YS};function r(s,a){var c=s.getProvider("app").getImmediate(),h=s.getProvider("auth-internal"),d=s.getProvider("messaging");return new YS(c,h,d,a,e)}t.INTERNAL.registerComponent(new ms(qM,r,"PUBLIC").setServiceProps(n).setMultipleInstances(!0))}var WM="@firebase/functions",HM="0.5.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */GM(Z,fetch.bind(self));Z.registerVersion(WM,HM);function zM(t){return Array.prototype.slice.call(t)}function nx(t){return new Promise(function(e,n){t.onsuccess=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function F0(t,e,n){var r,s=new Promise(function(a,c){r=t[e].apply(t,n),nx(r).then(a,c)});return s.request=r,s}function KM(t,e,n){var r=F0(t,e,n);return r.then(function(s){if(s)return new xg(s,r.request)})}function Qp(t,e,n){n.forEach(function(r){Object.defineProperty(t.prototype,r,{get:function(){return this[e][r]},set:function(s){this[e][r]=s}})})}function UI(t,e,n,r){r.forEach(function(s){s in n.prototype&&(t.prototype[s]=function(){return F0(this[e],s,arguments)})})}function U0(t,e,n,r){r.forEach(function(s){s in n.prototype&&(t.prototype[s]=function(){return this[e][s].apply(this[e],arguments)})})}function rx(t,e,n,r){r.forEach(function(s){s in n.prototype&&(t.prototype[s]=function(){return KM(this[e],s,arguments)})})}function gf(t){this._index=t}Qp(gf,"_index",["name","keyPath","multiEntry","unique"]);UI(gf,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]);rx(gf,"_index",IDBIndex,["openCursor","openKeyCursor"]);function xg(t,e){this._cursor=t,this._request=e}Qp(xg,"_cursor",["direction","key","primaryKey","value"]);UI(xg,"_cursor",IDBCursor,["update","delete"]);["advance","continue","continuePrimaryKey"].forEach(function(t){t in IDBCursor.prototype&&(xg.prototype[t]=function(){var e=this,n=arguments;return Promise.resolve().then(function(){return e._cursor[t].apply(e._cursor,n),nx(e._request).then(function(r){if(r)return new xg(r,e._request)})})})});function Es(t){this._store=t}Es.prototype.createIndex=function(){return new gf(this._store.createIndex.apply(this._store,arguments))};Es.prototype.index=function(){return new gf(this._store.index.apply(this._store,arguments))};Qp(Es,"_store",["name","keyPath","indexNames","autoIncrement"]);UI(Es,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]);rx(Es,"_store",IDBObjectStore,["openCursor","openKeyCursor"]);U0(Es,"_store",IDBObjectStore,["deleteIndex"]);function Zg(t){this._tx=t,this.complete=new Promise(function(e,n){t.oncomplete=function(){e()},t.onerror=function(){n(t.error)},t.onabort=function(){n(t.error)}})}Zg.prototype.objectStore=function(){return new Es(this._tx.objectStore.apply(this._tx,arguments))};Qp(Zg,"_tx",["objectStoreNames","mode"]);U0(Zg,"_tx",IDBTransaction,["abort"]);function j0(t,e,n){this._db=t,this.oldVersion=e,this.transaction=new Zg(n)}j0.prototype.createObjectStore=function(){return new Es(this._db.createObjectStore.apply(this._db,arguments))};Qp(j0,"_db",["name","version","objectStoreNames"]);U0(j0,"_db",IDBDatabase,["deleteObjectStore","close"]);function V0(t){this._db=t}V0.prototype.transaction=function(){return new Zg(this._db.transaction.apply(this._db,arguments))};Qp(V0,"_db",["name","version","objectStoreNames"]);U0(V0,"_db",IDBDatabase,["close"]);["openCursor","openKeyCursor"].forEach(function(t){[Es,gf].forEach(function(e){t in e.prototype&&(e.prototype[t.replace("open","iterate")]=function(){var n=zM(arguments),r=n[n.length-1],s=this._store||this._index,a=s[t].apply(s,n.slice(0,-1));a.onsuccess=function(){r(a.result)}})})});[gf,Es].forEach(function(t){t.prototype.getAll||(t.prototype.getAll=function(e,n){var r=this,s=[];return new Promise(function(a){r.iterateCursor(e,function(c){if(!c){a(s);return}if(s.push(c.value),n!==void 0&&s.length==n){a(s);return}c.continue()})})})});function jI(t,e,n){var r=F0(indexedDB,"open",[t,e]),s=r.request;return s&&(s.onupgradeneeded=function(a){n&&n(new j0(s.result,a.oldVersion,s.transaction))}),r.then(function(a){return new V0(a)})}function Qw(t){return F0(indexedDB,"deleteDatabase",[t])}var YM="@firebase/installations",ix="0.4.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ox=1e4,sx="w:"+ix,ax="FIS_v2",XM="https://firebaseinstallations.googleapis.com/v1",$M=60*60*1e3,QM="installations",JM="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xu,ZM=(Xu={},Xu["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',Xu["not-registered"]="Firebase Installation is not registered.",Xu["installation-not-found"]="Firebase Installation not found.",Xu["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',Xu["app-offline"]="Could not process request. Application offline.",Xu["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",Xu),Ta=new Vp(QM,JM,ZM);function ux(t){return t instanceof Rg&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VI(t){var e=t.projectId;return XM+"/projects/"+e+"/installations"}function lx(t){return{token:t.token,requestStatus:2,expiresIn:e2(t.expiresIn),creationTime:Date.now()}}function BI(t,e){return B(this,void 0,void 0,function(){var n,r;return j(this,function(s){switch(s.label){case 0:return[4,e.json()];case 1:return n=s.sent(),r=n.error,[2,Ta.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})]}})})}function cx(t){var e=t.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function fx(t,e){var n=e.refreshToken,r=cx(t);return r.append("Authorization",t2(n)),r}function qI(t){return B(this,void 0,void 0,function(){var e;return j(this,function(n){switch(n.label){case 0:return[4,t()];case 1:return e=n.sent(),e.status>=500&&e.status<600?[2,t()]:[2,e]}})})}function e2(t){return Number(t.replace("s","000"))}function t2(t){return ax+" "+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n2(t,e){var n=e.fid;return B(this,void 0,void 0,function(){var r,s,a,c,h,d,g;return j(this,function(y){switch(y.label){case 0:return r=VI(t),s=cx(t),a={fid:n,authVersion:ax,appId:t.appId,sdkVersion:sx},c={method:"POST",headers:s,body:JSON.stringify(a)},[4,qI(function(){return fetch(r,c)})];case 1:return h=y.sent(),h.ok?[4,h.json()]:[3,3];case 2:return d=y.sent(),g={fid:d.fid||n,registrationStatus:2,refreshToken:d.refreshToken,authToken:lx(d.authToken)},[2,g];case 3:return[4,BI("Create Installation",h)];case 4:throw y.sent()}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hx(t){return new Promise(function(e){setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r2(t){var e=btoa(String.fromCharCode.apply(String,Ca(t)));return e.replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var i2=/^[cdef][\w-]{21}$/,eE="";function o2(){try{var t=new Uint8Array(17),e=self.crypto||self.msCrypto;e.getRandomValues(t),t[0]=112+t[0]%16;var n=s2(t);return i2.test(n)?n:eE}catch{return eE}}function s2(t){var e=r2(t);return e.substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jp(t){return t.appName+"!"+t.appId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fp=new Map;function px(t,e){var n=Jp(t);dx(n,e),l2(n,e)}function a2(t,e){vx();var n=Jp(t),r=Fp.get(n);r||(r=new Set,Fp.set(n,r)),r.add(e)}function u2(t,e){var n=Jp(t),r=Fp.get(n);r&&(r.delete(e),r.size===0&&Fp.delete(n),gx())}function dx(t,e){var n,r,s=Fp.get(t);if(s)try{for(var a=un(s),c=a.next();!c.done;c=a.next()){var h=c.value;h(e)}}catch(d){n={error:d}}finally{try{c&&!c.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}}function l2(t,e){var n=vx();n&&n.postMessage({key:t,fid:e}),gx()}var Bc=null;function vx(){return!Bc&&"BroadcastChannel"in self&&(Bc=new BroadcastChannel("[Firebase] FID Change"),Bc.onmessage=function(t){dx(t.data.key,t.data.fid)}),Bc}function gx(){Fp.size===0&&Bc&&(Bc.close(),Bc=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var c2="firebase-installations-database",f2=1,nf="firebase-installations-store",Jw=null;function GI(){return Jw||(Jw=jI(c2,f2,function(t){switch(t.oldVersion){case 0:t.createObjectStore(nf)}})),Jw}function f0(t,e){return B(this,void 0,void 0,function(){var n,r,s,a,c;return j(this,function(h){switch(h.label){case 0:return n=Jp(t),[4,GI()];case 1:return r=h.sent(),s=r.transaction(nf,"readwrite"),a=s.objectStore(nf),[4,a.get(n)];case 2:return c=h.sent(),[4,a.put(e,n)];case 3:return h.sent(),[4,s.complete];case 4:return h.sent(),(!c||c.fid!==e.fid)&&px(t,e.fid),[2,e]}})})}function WI(t){return B(this,void 0,void 0,function(){var e,n,r;return j(this,function(s){switch(s.label){case 0:return e=Jp(t),[4,GI()];case 1:return n=s.sent(),r=n.transaction(nf,"readwrite"),[4,r.objectStore(nf).delete(e)];case 2:return s.sent(),[4,r.complete];case 3:return s.sent(),[2]}})})}function em(t,e){return B(this,void 0,void 0,function(){var n,r,s,a,c,h;return j(this,function(d){switch(d.label){case 0:return n=Jp(t),[4,GI()];case 1:return r=d.sent(),s=r.transaction(nf,"readwrite"),a=s.objectStore(nf),[4,a.get(n)];case 2:return c=d.sent(),h=e(c),h!==void 0?[3,4]:[4,a.delete(n)];case 3:return d.sent(),[3,6];case 4:return[4,a.put(h,n)];case 5:d.sent(),d.label=6;case 6:return[4,s.complete];case 7:return d.sent(),h&&(!c||c.fid!==h.fid)&&px(t,h.fid),[2,h]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HI(t){return B(this,void 0,void 0,function(){var e,n,r;return j(this,function(s){switch(s.label){case 0:return[4,em(t,function(a){var c=h2(a),h=p2(t,c);return e=h.registrationPromise,h.installationEntry})];case 1:return n=s.sent(),n.fid!==eE?[3,3]:(r={},[4,e]);case 2:return[2,(r.installationEntry=s.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:e}]}})})}function h2(t){var e=t||{fid:o2(),registrationStatus:0};return mx(e)}function p2(t,e){if(e.registrationStatus===0){if(!navigator.onLine){var n=Promise.reject(Ta.create("app-offline"));return{installationEntry:e,registrationPromise:n}}var r={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=d2(t,r);return{installationEntry:r,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:v2(t)}:{installationEntry:e}}function d2(t,e){return B(this,void 0,void 0,function(){var n,r;return j(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,7]),[4,n2(t,e)];case 1:return n=s.sent(),[2,f0(t,n)];case 2:return r=s.sent(),ux(r)&&r.serverCode===409?[4,WI(t)]:[3,4];case 3:return s.sent(),[3,6];case 4:return[4,f0(t,{fid:e.fid,registrationStatus:0})];case 5:s.sent(),s.label=6;case 6:throw r;case 7:return[2]}})})}function v2(t){return B(this,void 0,void 0,function(){var e,n,r,s;return j(this,function(a){switch(a.label){case 0:return[4,$S(t)];case 1:e=a.sent(),a.label=2;case 2:return e.registrationStatus!==1?[3,5]:[4,hx(100)];case 3:return a.sent(),[4,$S(t)];case 4:return e=a.sent(),[3,2];case 5:return e.registrationStatus!==0?[3,7]:[4,HI(t)];case 6:return n=a.sent(),r=n.installationEntry,s=n.registrationPromise,s?[2,s]:[2,r];case 7:return[2,e]}})})}function $S(t){return em(t,function(e){if(!e)throw Ta.create("installation-not-found");return mx(e)})}function mx(t){return g2(t)?{fid:t.fid,registrationStatus:0}:t}function g2(t){return t.registrationStatus===1&&t.registrationTime+ox<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m2(t,e){var n=t.appConfig,r=t.platformLoggerProvider;return B(this,void 0,void 0,function(){var s,a,c,h,d,g,y,E;return j(this,function(I){switch(I.label){case 0:return s=y2(n,e),a=fx(n,e),c=r.getImmediate({optional:!0}),c&&a.append("x-firebase-client",c.getPlatformInfoString()),h={installation:{sdkVersion:sx}},d={method:"POST",headers:a,body:JSON.stringify(h)},[4,qI(function(){return fetch(s,d)})];case 1:return g=I.sent(),g.ok?[4,g.json()]:[3,3];case 2:return y=I.sent(),E=lx(y),[2,E];case 3:return[4,BI("Generate Auth Token",g)];case 4:throw I.sent()}})})}function y2(t,e){var n=e.fid;return VI(t)+"/"+n+"/authTokens:generate"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zI(t,e){return e===void 0&&(e=!1),B(this,void 0,void 0,function(){var n,r,s,a;return j(this,function(c){switch(c.label){case 0:return[4,em(t.appConfig,function(h){if(!yx(h))throw Ta.create("not-registered");var d=h.authToken;if(!e&&_2(d))return h;if(d.requestStatus===1)return n=b2(t,e),h;if(!navigator.onLine)throw Ta.create("app-offline");var g=I2(h);return n=w2(t,g),g})];case 1:return r=c.sent(),n?[4,n]:[3,3];case 2:return a=c.sent(),[3,4];case 3:a=r.authToken,c.label=4;case 4:return s=a,[2,s]}})})}function b2(t,e){return B(this,void 0,void 0,function(){var n,r;return j(this,function(s){switch(s.label){case 0:return[4,QS(t.appConfig)];case 1:n=s.sent(),s.label=2;case 2:return n.authToken.requestStatus!==1?[3,5]:[4,hx(100)];case 3:return s.sent(),[4,QS(t.appConfig)];case 4:return n=s.sent(),[3,2];case 5:return r=n.authToken,r.requestStatus===0?[2,zI(t,e)]:[2,r]}})})}function QS(t){return em(t,function(e){if(!yx(e))throw Ta.create("not-registered");var n=e.authToken;return S2(n)?$t($t({},e),{authToken:{requestStatus:0}}):e})}function w2(t,e){return B(this,void 0,void 0,function(){var n,s,r,s;return j(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,8]),[4,m2(t,e)];case 1:return n=a.sent(),s=$t($t({},e),{authToken:n}),[4,f0(t.appConfig,s)];case 2:return a.sent(),[2,n];case 3:return r=a.sent(),ux(r)&&(r.serverCode===401||r.serverCode===404)?[4,WI(t.appConfig)]:[3,5];case 4:return a.sent(),[3,7];case 5:return s=$t($t({},e),{authToken:{requestStatus:0}}),[4,f0(t.appConfig,s)];case 6:a.sent(),a.label=7;case 7:throw r;case 8:return[2]}})})}function yx(t){return t!==void 0&&t.registrationStatus===2}function _2(t){return t.requestStatus===2&&!E2(t)}function E2(t){var e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+$M}function I2(t){var e={requestStatus:1,requestTime:Date.now()};return $t($t({},t),{authToken:e})}function S2(t){return t.requestStatus===1&&t.requestTime+ox<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T2(t){return B(this,void 0,void 0,function(){var e,n,r;return j(this,function(s){switch(s.label){case 0:return[4,HI(t.appConfig)];case 1:return e=s.sent(),n=e.installationEntry,r=e.registrationPromise,r?r.catch(console.error):zI(t).catch(console.error),[2,n.fid]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A2(t,e){return e===void 0&&(e=!1),B(this,void 0,void 0,function(){var n;return j(this,function(r){switch(r.label){case 0:return[4,C2(t.appConfig)];case 1:return r.sent(),[4,zI(t,e)];case 2:return n=r.sent(),[2,n.token]}})})}function C2(t){return B(this,void 0,void 0,function(){var e;return j(this,function(n){switch(n.label){case 0:return[4,HI(t)];case 1:return e=n.sent().registrationPromise,e?[4,e]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k2(t,e){return B(this,void 0,void 0,function(){var n,r,s,a;return j(this,function(c){switch(c.label){case 0:return n=x2(t,e),r=fx(t,e),s={method:"DELETE",headers:r},[4,qI(function(){return fetch(n,s)})];case 1:return a=c.sent(),a.ok?[3,3]:[4,BI("Delete Installation",a)];case 2:throw c.sent();case 3:return[2]}})})}function x2(t,e){var n=e.fid;return VI(t)+"/"+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N2(t){return B(this,void 0,void 0,function(){var e,n;return j(this,function(r){switch(r.label){case 0:return e=t.appConfig,[4,em(e,function(s){if(!(s&&s.registrationStatus===0))return s})];case 1:if(n=r.sent(),!n)return[3,6];if(n.registrationStatus!==1)return[3,2];throw Ta.create("delete-pending-registration");case 2:if(n.registrationStatus!==2)return[3,6];if(navigator.onLine)return[3,3];throw Ta.create("app-offline");case 3:return[4,k2(e,n)];case 4:return r.sent(),[4,WI(e)];case 5:r.sent(),r.label=6;case 6:return[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R2(t,e){var n=t.appConfig;return a2(n,e),function(){u2(n,e)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O2(t){var e,n;if(!t||!t.options)throw Zw("App Configuration");if(!t.name)throw Zw("App Name");var r=["projectId","apiKey","appId"];try{for(var s=un(r),a=s.next();!a.done;a=s.next()){var c=a.value;if(!t.options[c])throw Zw(c)}}catch(h){e={error:h}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Zw(t){return Ta.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P2(t){var e="installations";t.INTERNAL.registerComponent(new ms(e,function(n){var r=n.getProvider("app").getImmediate(),s=O2(r),a=n.getProvider("platform-logger"),c={appConfig:s,platformLoggerProvider:a},h={app:r,getId:function(){return T2(c)},getToken:function(d){return A2(c,d)},delete:function(){return N2(c)},onIdChange:function(d){return R2(c,d)}};return h},"PUBLIC")),t.registerVersion(YM,ix)}P2(Z);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xn,D2=(xn={},xn["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',xn["only-available-in-window"]="This method is available in a Window context.",xn["only-available-in-sw"]="This method is available in a service worker context.",xn["permission-default"]="The notification permission was not granted and dismissed instead.",xn["permission-blocked"]="The notification permission was not granted and blocked instead.",xn["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",xn["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",xn["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",xn["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",xn["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",xn["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",xn["token-update-no-token"]="FCM returned no token when updating the user to push.",xn["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",xn["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",xn["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",xn["invalid-vapid-key"]="The public VAPID key must be a string.",xn["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",xn),yt=new Vp("messaging","Messaging",D2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var L2="/firebase-messaging-sw.js",M2="/firebase-cloud-messaging-push-scope",h0="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",F2="https://fcmregistrations.googleapis.com/v1",bx="FCM_MSG",wx="google.c.a.c_id",U2="google.c.a.c_l",j2="google.c.a.ts",V2="google.c.a.e",B2="FirebaseMessaging: ";/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var rf;(function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"})(rf||(rf={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function da(t){var e=new Uint8Array(t),n=btoa(String.fromCharCode.apply(String,Ca(e)));return n.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function q2(t){for(var e="=".repeat((4-t.length%4)%4),n=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),s=new Uint8Array(r.length),a=0;a<r.length;++a)s[a]=r.charCodeAt(a);return s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var e_="fcm_token_details_db",G2=5,JS="fcm_token_object_Store";function W2(t){return B(this,void 0,void 0,function(){var e,n,r,s,a=this;return j(this,function(c){switch(c.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(e=c.sent(),n=e.map(function(h){return h.name}),!n.includes(e_))return[2,null];c.label=2;case 2:return r=null,[4,jI(e_,G2,function(h){return B(a,void 0,void 0,function(){var d,g,y,y,y,E;return j(this,function(I){switch(I.label){case 0:return h.oldVersion<2?[2]:h.objectStoreNames.contains(JS)?(d=h.transaction.objectStore(JS),[4,d.index("fcmSenderId").get(t)]):[2];case 1:return g=I.sent(),[4,d.clear()];case 2:if(I.sent(),!g)return[2];if(h.oldVersion===2){if(y=g,!y.auth||!y.p256dh||!y.endpoint)return[2];r={token:y.fcmToken,createTime:(E=y.createTime)!==null&&E!==void 0?E:Date.now(),subscriptionOptions:{auth:y.auth,p256dh:y.p256dh,endpoint:y.endpoint,swScope:y.swScope,vapidKey:typeof y.vapidKey=="string"?y.vapidKey:da(y.vapidKey)}}}else h.oldVersion===3?(y=g,r={token:y.fcmToken,createTime:y.createTime,subscriptionOptions:{auth:da(y.auth),p256dh:da(y.p256dh),endpoint:y.endpoint,swScope:y.swScope,vapidKey:da(y.vapidKey)}}):h.oldVersion===4&&(y=g,r={token:y.fcmToken,createTime:y.createTime,subscriptionOptions:{auth:da(y.auth),p256dh:da(y.p256dh),endpoint:y.endpoint,swScope:y.swScope,vapidKey:da(y.vapidKey)}});return[2]}})})})];case 3:return s=c.sent(),s.close(),[4,Qw(e_)];case 4:return c.sent(),[4,Qw("fcm_vapid_details_db")];case 5:return c.sent(),[4,Qw("undefined")];case 6:return c.sent(),[2,H2(r)?r:null]}})})}function H2(t){if(!t||!t.subscriptionOptions)return!1;var e=t.subscriptionOptions;return typeof t.createTime=="number"&&t.createTime>0&&typeof t.token=="string"&&t.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var z2="firebase-messaging-database",K2=1,of="firebase-messaging-store",t_=null;function KI(){return t_||(t_=jI(z2,K2,function(t){switch(t.oldVersion){case 0:t.createObjectStore(of)}})),t_}function p0(t){return B(this,void 0,void 0,function(){var e,n,r,s;return j(this,function(a){switch(a.label){case 0:return e=XI(t),[4,KI()];case 1:return n=a.sent(),[4,n.transaction(of).objectStore(of).get(e)];case 2:return r=a.sent(),r?[2,r]:[3,3];case 3:return[4,W2(t.appConfig.senderId)];case 4:return s=a.sent(),s?[4,YI(t,s)]:[3,6];case 5:return a.sent(),[2,s];case 6:return[2]}})})}function YI(t,e){return B(this,void 0,void 0,function(){var n,r,s;return j(this,function(a){switch(a.label){case 0:return n=XI(t),[4,KI()];case 1:return r=a.sent(),s=r.transaction(of,"readwrite"),[4,s.objectStore(of).put(e,n)];case 2:return a.sent(),[4,s.complete];case 3:return a.sent(),[2,e]}})})}function Y2(t){return B(this,void 0,void 0,function(){var e,n,r;return j(this,function(s){switch(s.label){case 0:return e=XI(t),[4,KI()];case 1:return n=s.sent(),r=n.transaction(of,"readwrite"),[4,r.objectStore(of).delete(e)];case 2:return s.sent(),[4,r.complete];case 3:return s.sent(),[2]}})})}function XI(t){var e=t.appConfig;return e.appId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X2(t,e){return B(this,void 0,void 0,function(){var n,r,s,a,c,h,d;return j(this,function(g){switch(g.label){case 0:return[4,QI(t)];case 1:n=g.sent(),r=Ex(e),s={method:"POST",headers:n,body:JSON.stringify(r)},g.label=2;case 2:return g.trys.push([2,5,,6]),[4,fetch($I(t.appConfig),s)];case 3:return c=g.sent(),[4,c.json()];case 4:return a=g.sent(),[3,6];case 5:throw h=g.sent(),yt.create("token-subscribe-failed",{errorInfo:h});case 6:if(a.error)throw d=a.error.message,yt.create("token-subscribe-failed",{errorInfo:d});if(!a.token)throw yt.create("token-subscribe-no-token");return[2,a.token]}})})}function $2(t,e){return B(this,void 0,void 0,function(){var n,r,s,a,c,h,d;return j(this,function(g){switch(g.label){case 0:return[4,QI(t)];case 1:n=g.sent(),r=Ex(e.subscriptionOptions),s={method:"PATCH",headers:n,body:JSON.stringify(r)},g.label=2;case 2:return g.trys.push([2,5,,6]),[4,fetch($I(t.appConfig)+"/"+e.token,s)];case 3:return c=g.sent(),[4,c.json()];case 4:return a=g.sent(),[3,6];case 5:throw h=g.sent(),yt.create("token-update-failed",{errorInfo:h});case 6:if(a.error)throw d=a.error.message,yt.create("token-update-failed",{errorInfo:d});if(!a.token)throw yt.create("token-update-no-token");return[2,a.token]}})})}function _x(t,e){return B(this,void 0,void 0,function(){var n,r,s,a,c,h;return j(this,function(d){switch(d.label){case 0:return[4,QI(t)];case 1:n=d.sent(),r={method:"DELETE",headers:n},d.label=2;case 2:return d.trys.push([2,5,,6]),[4,fetch($I(t.appConfig)+"/"+e,r)];case 3:return s=d.sent(),[4,s.json()];case 4:if(a=d.sent(),a.error)throw c=a.error.message,yt.create("token-unsubscribe-failed",{errorInfo:c});return[3,6];case 5:throw h=d.sent(),yt.create("token-unsubscribe-failed",{errorInfo:h});case 6:return[2]}})})}function $I(t){var e=t.projectId;return F2+"/projects/"+e+"/registrations"}function QI(t){var e=t.appConfig,n=t.installations;return B(this,void 0,void 0,function(){var r;return j(this,function(s){switch(s.label){case 0:return[4,n.getToken()];case 1:return r=s.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":"FIS "+r})]}})})}function Ex(t){var e=t.p256dh,n=t.auth,r=t.endpoint,s=t.vapidKey,a={web:{endpoint:r,auth:n,p256dh:e}};return s!==h0&&(a.web.applicationPubKey=s),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Q2=7*24*60*60*1e3;function tE(t,e,n){return B(this,void 0,void 0,function(){var r,s,a,c;return j(this,function(h){switch(h.label){case 0:if(Notification.permission!=="granted")throw yt.create("permission-blocked");return[4,Z2(e,n)];case 1:return r=h.sent(),[4,p0(t)];case 2:return s=h.sent(),a={vapidKey:n,swScope:e.scope,endpoint:r.endpoint,auth:da(r.getKey("auth")),p256dh:da(r.getKey("p256dh"))},s?[3,3]:[2,ZS(t,a)];case 3:if(eF(s.subscriptionOptions,a))return[3,8];h.label=4;case 4:return h.trys.push([4,6,,7]),[4,_x(t,s.token)];case 5:return h.sent(),[3,7];case 6:return c=h.sent(),console.warn(c),[3,7];case 7:return[2,ZS(t,a)];case 8:return Date.now()>=s.createTime+Q2?[2,J2({token:s.token,createTime:Date.now(),subscriptionOptions:a},t,e)]:[2,s.token];case 9:return[2]}})})}function ag(t,e){return B(this,void 0,void 0,function(){var n,r;return j(this,function(s){switch(s.label){case 0:return[4,p0(t)];case 1:return n=s.sent(),n?[4,_x(t,n.token)]:[3,4];case 2:return s.sent(),[4,Y2(t)];case 3:s.sent(),s.label=4;case 4:return[4,e.pushManager.getSubscription()];case 5:return r=s.sent(),r?[2,r.unsubscribe()]:[2,!0]}})})}function J2(t,e,n){return B(this,void 0,void 0,function(){var r,s,a;return j(this,function(c){switch(c.label){case 0:return c.trys.push([0,3,,5]),[4,$2(e,t)];case 1:return r=c.sent(),s=$t($t({},t),{token:r,createTime:Date.now()}),[4,YI(e,s)];case 2:return c.sent(),[2,r];case 3:return a=c.sent(),[4,ag(e,n)];case 4:throw c.sent(),a;case 5:return[2]}})})}function ZS(t,e){return B(this,void 0,void 0,function(){var n,r;return j(this,function(s){switch(s.label){case 0:return[4,X2(t,e)];case 1:return n=s.sent(),r={token:n,createTime:Date.now(),subscriptionOptions:e},[4,YI(t,r)];case 2:return s.sent(),[2,r.token]}})})}function Z2(t,e){return B(this,void 0,void 0,function(){var n;return j(this,function(r){switch(r.label){case 0:return[4,t.pushManager.getSubscription()];case 1:return n=r.sent(),n?[2,n]:[2,t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:q2(e)})]}})})}function eF(t,e){var n=e.vapidKey===t.vapidKey,r=e.endpoint===t.endpoint,s=e.auth===t.auth,a=e.p256dh===t.p256dh;return n&&r&&s&&a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tF(t){var e={from:t.from,collapseKey:t.collapse_key};return nF(e,t),rF(e,t),iF(e,t),e}function nF(t,e){if(e.notification){t.notification={};var n=e.notification.title;n&&(t.notification.title=n);var r=e.notification.body;r&&(t.notification.body=r);var s=e.notification.image;s&&(t.notification.image=s)}}function rF(t,e){e.data&&(t.data=e.data)}function iF(t,e){if(e.fcmOptions){t.fcmOptions={};var n=e.fcmOptions.link;n&&(t.fcmOptions.link=n);var r=e.fcmOptions.analytics_label;r&&(t.fcmOptions.analyticsLabel=r)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ix(t){return typeof t=="object"&&!!t&&wx in t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oF(t){return new Promise(function(e){setTimeout(e,t)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sF=function(){function t(e){var n=this;this.firebaseDependencies=e,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",function(r){r.waitUntil(n.onPush(r))}),self.addEventListener("pushsubscriptionchange",function(r){r.waitUntil(n.onSubChange(r))}),self.addEventListener("notificationclick",function(r){r.waitUntil(n.onNotificationClick(r))})}return Object.defineProperty(t.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),t.prototype.setBackgroundMessageHandler=function(e){if(this.isOnBackgroundMessageUsed=!1,!e||typeof e!="function")throw yt.create("invalid-bg-handler");this.bgMessageHandler=e},t.prototype.onBackgroundMessage=function(e){var n=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=e,function(){n.bgMessageHandler=null}},t.prototype.getToken=function(){var e,n;return B(this,void 0,void 0,function(){var r;return j(this,function(s){switch(s.label){case 0:return this.vapidKey?[3,2]:[4,p0(this.firebaseDependencies)];case 1:r=s.sent(),this.vapidKey=(n=(e=r==null?void 0:r.subscriptionOptions)===null||e===void 0?void 0:e.vapidKey)!==null&&n!==void 0?n:h0,s.label=2;case 2:return[2,tE(this.firebaseDependencies,self.registration,this.vapidKey)]}})})},t.prototype.deleteToken=function(){return ag(this.firebaseDependencies,self.registration)},t.prototype.requestPermission=function(){throw yt.create("only-available-in-window")},t.prototype.usePublicVapidKey=function(e){if(this.vapidKey!==null)throw yt.create("use-vapid-key-after-get-token");if(typeof e!="string"||e.length===0)throw yt.create("invalid-vapid-key");this.vapidKey=e},t.prototype.useServiceWorker=function(){throw yt.create("only-available-in-window")},t.prototype.onMessage=function(){throw yt.create("only-available-in-window")},t.prototype.onTokenRefresh=function(){throw yt.create("only-available-in-window")},t.prototype.onPush=function(e){return B(this,void 0,void 0,function(){var n,r,s,a;return j(this,function(c){switch(c.label){case 0:return n=uF(e),n?[4,Sx()]:(console.debug(B2+"failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return r=c.sent(),cF(r)?[2,fF(r,n)]:(s=!1,n.notification?[4,hF(aF(n))]:[3,3]);case 2:c.sent(),s=!0,c.label=3;case 3:return s===!0&&this.isOnBackgroundMessageUsed===!1?[2]:(this.bgMessageHandler&&(a=tF(n),typeof this.bgMessageHandler=="function"?this.bgMessageHandler(a):this.bgMessageHandler.next(a)),[2])}})})},t.prototype.onSubChange=function(e){var n,r;return B(this,void 0,void 0,function(){var s,a;return j(this,function(c){switch(c.label){case 0:return s=e.newSubscription,s?[3,2]:[4,ag(this.firebaseDependencies,self.registration)];case 1:return c.sent(),[2];case 2:return[4,p0(this.firebaseDependencies)];case 3:return a=c.sent(),[4,ag(this.firebaseDependencies,self.registration)];case 4:return c.sent(),[4,tE(this.firebaseDependencies,self.registration,(r=(n=a==null?void 0:a.subscriptionOptions)===null||n===void 0?void 0:n.vapidKey)!==null&&r!==void 0?r:h0)];case 5:return c.sent(),[2]}})})},t.prototype.onNotificationClick=function(e){var n,r;return B(this,void 0,void 0,function(){var s,a,c,h,d;return j(this,function(g){switch(g.label){case 0:if(s=(r=(n=e.notification)===null||n===void 0?void 0:n.data)===null||r===void 0?void 0:r[bx],s){if(e.action)return[2]}else return[2];return e.stopImmediatePropagation(),e.notification.close(),a=pF(s),a?(c=new URL(a,self.location.href),h=new URL(self.location.origin),c.host!==h.host?[2]:[4,lF(c)]):[2];case 1:return d=g.sent(),d?[3,4]:[4,self.clients.openWindow(a)];case 2:return d=g.sent(),[4,oF(3e3)];case 3:return g.sent(),[3,6];case 4:return[4,d.focus()];case 5:d=g.sent(),g.label=6;case 6:return d?(s.messageType=rf.NOTIFICATION_CLICKED,s.isFirebaseMessaging=!0,[2,d.postMessage(s)]):[2]}})})},t}();function aF(t){var e,n=$t({},t.notification);return n.data=(e={},e[bx]=t,e),n}function uF(t){var e=t.data;if(!e)return null;try{return e.json()}catch{return null}}function lF(t){return B(this,void 0,void 0,function(){var e,n,r,s,a,c,h;return j(this,function(d){switch(d.label){case 0:return[4,Sx()];case 1:e=d.sent();try{for(n=un(e),r=n.next();!r.done;r=n.next())if(s=r.value,a=new URL(s.url,self.location.href),t.host===a.host)return[2,s]}catch(g){c={error:g}}finally{try{r&&!r.done&&(h=n.return)&&h.call(n)}finally{if(c)throw c.error}}return[2,null]}})})}function cF(t){return t.some(function(e){return e.visibilityState==="visible"&&!e.url.startsWith("chrome-extension://")})}function fF(t,e){var n,r;e.isFirebaseMessaging=!0,e.messageType=rf.PUSH_RECEIVED;try{for(var s=un(t),a=s.next();!a.done;a=s.next()){var c=a.value;c.postMessage(e)}}catch(h){n={error:h}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}}function Sx(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function hF(t){var e,n=t.actions,r=Notification.maxActions;return n&&r&&n.length>r&&console.warn("This browser only supports "+r+" actions. The remaining actions will not be displayed."),self.registration.showNotification((e=t.title)!==null&&e!==void 0?e:"",t)}function pF(t){var e,n,r,s=(n=(e=t.fcmOptions)===null||e===void 0?void 0:e.link)!==null&&n!==void 0?n:(r=t.notification)===null||r===void 0?void 0:r.click_action;return s||(Ix(t.data)?self.location.origin:null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dF=function(){function t(e){var n=this;this.firebaseDependencies=e,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",function(r){return n.messageEventListener(r)})}return Object.defineProperty(t.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),t.prototype.messageEventListener=function(e){return B(this,void 0,void 0,function(){var n,r;return j(this,function(s){switch(s.label){case 0:return n=e.data,n.isFirebaseMessaging?(this.onMessageCallback&&n.messageType===rf.PUSH_RECEIVED&&(typeof this.onMessageCallback=="function"?this.onMessageCallback(gF(Object.assign({},n))):this.onMessageCallback.next(Object.assign({},n))),r=n.data,Ix(r)&&r[V2]==="1"?[4,this.logEvent(n.messageType,r)]:[3,2]):[2];case 1:s.sent(),s.label=2;case 2:return[2]}})})},t.prototype.getVapidKey=function(){return this.vapidKey},t.prototype.getSwReg=function(){return this.swRegistration},t.prototype.getToken=function(e){return B(this,void 0,void 0,function(){return j(this,function(n){switch(n.label){case 0:return Notification.permission!=="default"?[3,2]:[4,Notification.requestPermission()];case 1:n.sent(),n.label=2;case 2:if(Notification.permission!=="granted")throw yt.create("permission-blocked");return[4,this.updateVapidKey(e==null?void 0:e.vapidKey)];case 3:return n.sent(),[4,this.updateSwReg(e==null?void 0:e.serviceWorkerRegistration)];case 4:return n.sent(),[2,tE(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}})})},t.prototype.updateVapidKey=function(e){return B(this,void 0,void 0,function(){return j(this,function(n){return e?this.vapidKey=e:this.vapidKey||(this.vapidKey=h0),[2]})})},t.prototype.updateSwReg=function(e){return B(this,void 0,void 0,function(){return j(this,function(n){switch(n.label){case 0:return!e&&!this.swRegistration?[4,this.registerDefaultSw()]:[3,2];case 1:n.sent(),n.label=2;case 2:if(!e&&this.swRegistration)return[2];if(!(e instanceof ServiceWorkerRegistration))throw yt.create("invalid-sw-registration");return this.swRegistration=e,[2]}})})},t.prototype.registerDefaultSw=function(){return B(this,void 0,void 0,function(){var e,n;return j(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),e=this,[4,navigator.serviceWorker.register(L2,{scope:M2})];case 1:return e.swRegistration=r.sent(),this.swRegistration.update().catch(function(){}),[3,3];case 2:throw n=r.sent(),yt.create("failed-service-worker-registration",{browserErrorMessage:n.message});case 3:return[2]}})})},t.prototype.deleteToken=function(){return B(this,void 0,void 0,function(){return j(this,function(e){switch(e.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:e.sent(),e.label=2;case 2:return[2,ag(this.firebaseDependencies,this.swRegistration)]}})})},t.prototype.requestPermission=function(){return B(this,void 0,void 0,function(){var e;return j(this,function(n){switch(n.label){case 0:return Notification.permission==="granted"?[2]:[4,Notification.requestPermission()];case 1:if(e=n.sent(),e==="granted")return[2];throw e==="denied"?yt.create("permission-blocked"):yt.create("permission-default")}})})},t.prototype.usePublicVapidKey=function(e){if(this.vapidKey!==null)throw yt.create("use-vapid-key-after-get-token");if(typeof e!="string"||e.length===0)throw yt.create("invalid-vapid-key");this.vapidKey=e},t.prototype.useServiceWorker=function(e){if(!(e instanceof ServiceWorkerRegistration))throw yt.create("invalid-sw-registration");if(this.swRegistration)throw yt.create("use-sw-after-get-token");this.swRegistration=e},t.prototype.onMessage=function(e){var n=this;return this.onMessageCallback=e,function(){n.onMessageCallback=null}},t.prototype.setBackgroundMessageHandler=function(){throw yt.create("only-available-in-sw")},t.prototype.onBackgroundMessage=function(){throw yt.create("only-available-in-sw")},t.prototype.onTokenRefresh=function(){return function(){}},t.prototype.logEvent=function(e,n){return B(this,void 0,void 0,function(){var r,s;return j(this,function(a){switch(a.label){case 0:return r=vF(e),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return s=a.sent(),s.logEvent(r,{message_id:n[wx],message_name:n[U2],message_time:n[j2],message_device_time:Math.floor(Date.now()/1e3)}),[2]}})})},t}();function vF(t){switch(t){case rf.NOTIFICATION_CLICKED:return"notification_open";case rf.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function gF(t){return delete t.messageType,delete t.isFirebaseMessaging,t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mF(t){var e,n;if(!t||!t.options)throw n_("App Configuration Object");if(!t.name)throw n_("App Name");var r=["projectId","apiKey","appId","messagingSenderId"],s=t.options;try{for(var a=un(r),c=a.next();!c.done;c=a.next()){var h=c.value;if(!s[h])throw n_(h)}}catch(d){e={error:d}}finally{try{c&&!c.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}return{appName:t.name,projectId:s.projectId,apiKey:s.apiKey,appId:s.appId,senderId:s.messagingSenderId}}function n_(t){return yt.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yF="messaging";function bF(t){var e=t.getProvider("app").getImmediate(),n=mF(e),r=t.getProvider("installations").getImmediate(),s=t.getProvider("analytics-internal"),a={app:e,appConfig:n,installations:r,analyticsProvider:s};if(!Tx())throw yt.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new sF(a):new dF(a)}var wF={isSupported:Tx};Z.INTERNAL.registerComponent(new ms(yF,bF,"PUBLIC").setServiceProps(wF));function Tx(){return self&&"ServiceWorkerGlobalScope"in self?EF():_F()}function _F(){return"indexedDB"in window&&indexedDB!==null&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}function EF(){return"indexedDB"in self&&indexedDB!==null&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ax="firebasestorage.googleapis.com",IF="storageBucket",SF=2*60*1e3,TF=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kn=function(){function t(e,n){this.code_=eT(e),this.message_="Firebase Storage: "+n,this.serverResponse_=null,this.name_="FirebaseError"}return t.prototype.codeProp=function(){return this.code},t.prototype.codeEquals=function(e){return eT(e)===this.codeProp()},t.prototype.serverResponseProp=function(){return this.serverResponse_},t.prototype.setServerResponseProp=function(e){this.serverResponse_=e},Object.defineProperty(t.prototype,"name",{get:function(){return this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"code",{get:function(){return this.code_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"message",{get:function(){return this.serverResponse_?this.message_+`
`+this.serverResponse_:this.message_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.serverResponse_},enumerable:!1,configurable:!0}),t}(),En={UNKNOWN:"unknown",OBJECT_NOT_FOUND:"object-not-found",QUOTA_EXCEEDED:"quota-exceeded",UNAUTHENTICATED:"unauthenticated",UNAUTHORIZED:"unauthorized",RETRY_LIMIT_EXCEEDED:"retry-limit-exceeded",CANCELED:"canceled",INVALID_URL:"invalid-url",INVALID_DEFAULT_BUCKET:"invalid-default-bucket",CANNOT_SLICE_BLOB:"cannot-slice-blob",SERVER_FILE_WRONG_SIZE:"server-file-wrong-size",NO_DOWNLOAD_URL:"no-download-url",INVALID_ARGUMENT:"invalid-argument",INVALID_ARGUMENT_COUNT:"invalid-argument-count",APP_DELETED:"app-deleted",INVALID_ROOT_OPERATION:"invalid-root-operation",INVALID_FORMAT:"invalid-format",INTERNAL_ERROR:"internal-error"};function eT(t){return"storage/"+t}function JI(){var t="An unknown error occurred, please check the error payload for server response.";return new Kn(En.UNKNOWN,t)}function AF(t){return new Kn(En.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function CF(t){return new Kn(En.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function kF(){var t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Kn(En.UNAUTHENTICATED,t)}function xF(t){return new Kn(En.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function NF(){return new Kn(En.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Cx(){return new Kn(En.CANCELED,"User canceled the upload/download.")}function RF(t){return new Kn(En.INVALID_URL,"Invalid URL '"+t+"'.")}function OF(t){return new Kn(En.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function kx(){return new Kn(En.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function PF(){return new Kn(En.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function DF(){return new Kn(En.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function tT(t,e,n){return new Kn(En.INVALID_ARGUMENT,"Invalid argument in `"+e+"` at index "+t+": "+n)}function LF(t,e,n,r){var s,a;return t===e?(s=t,a=t===1?"argument":"arguments"):(s="between "+t+" and "+e,a="arguments"),new Kn(En.INVALID_ARGUMENT_COUNT,"Invalid argument count in `"+n+"`: Expected "+s+" "+a+", received "+r+".")}function xx(){return new Kn(En.APP_DELETED,"The Firebase app was deleted.")}function MF(t){return new Kn(En.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function ug(t,e){return new Kn(En.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function mb(t){throw new Kn(En.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};function FF(t){switch(t){case bn.RAW:case bn.BASE64:case bn.BASE64URL:case bn.DATA_URL:return;default:throw"Expected one of the event types: ["+bn.RAW+", "+bn.BASE64+", "+bn.BASE64URL+", "+bn.DATA_URL+"]."}}var r_=function(){function t(e,n){this.data=e,this.contentType=n||null}return t}();function Nx(t,e){switch(t){case bn.RAW:return new r_(Rx(e));case bn.BASE64:case bn.BASE64URL:return new r_(Ox(t,e));case bn.DATA_URL:return new r_(jF(e),VF(e))}throw JI()}function Rx(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296){var s=n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320;if(!s)e.push(239,191,189);else{var a=r,c=t.charCodeAt(++n);r=65536|(a&1023)<<10|c&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function UF(t){var e;try{e=decodeURIComponent(t)}catch{throw ug(bn.DATA_URL,"Malformed data URL.")}return Rx(e)}function Ox(t,e){switch(t){case bn.BASE64:{var n=e.indexOf("-")!==-1,r=e.indexOf("_")!==-1;if(n||r){var s=n?"-":"_";throw ug(t,"Invalid character '"+s+"' found: is it base64url encoded?")}break}case bn.BASE64URL:{var a=e.indexOf("+")!==-1,c=e.indexOf("/")!==-1;if(a||c){var s=a?"+":"/";throw ug(t,"Invalid character '"+s+"' found: is it base64 encoded?")}e=e.replace(/-/g,"+").replace(/_/g,"/");break}}var h;try{h=atob(e)}catch{throw ug(t,"Invalid character found")}for(var d=new Uint8Array(h.length),g=0;g<h.length;g++)d[g]=h.charCodeAt(g);return d}var Px=function(){function t(e){this.base64=!1,this.contentType=null;var n=e.match(/^data:([^,]+)?,/);if(n===null)throw ug(bn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;r!=null&&(this.base64=BF(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}return t}();function jF(t){var e=new Px(t);return e.base64?Ox(bn.BASE64,e.rest):UF(e.rest)}function VF(t){var e=new Px(t);return e.contentType}function BF(t,e){var n=t.length>=e.length;return n?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nE={STATE_CHANGED:"state_changed"},qe={RUNNING:"running",PAUSING:"pausing",PAUSED:"paused",SUCCESS:"success",CANCELING:"canceling",CANCELED:"canceled",ERROR:"error"},Rr={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function i_(t){switch(t){case qe.RUNNING:case qe.PAUSING:case qe.CANCELING:return Rr.RUNNING;case qe.PAUSED:return Rr.PAUSED;case qe.SUCCESS:return Rr.SUCCESS;case qe.CANCELED:return Rr.CANCELED;case qe.ERROR:return Rr.ERROR;default:return Rr.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vs(t){return t!=null}function Qu(t){return t!==void 0}function Dx(t){return typeof t=="function"}function Ng(t){return typeof t=="object"}function qF(t){return Ng(t)&&t!==null}function GF(t){return Ng(t)&&!Array.isArray(t)}function Zp(t){return typeof t=="string"||t instanceof String}function WF(t){return Lx(t)&&Number.isInteger(t)}function Lx(t){return typeof t=="number"||t instanceof Number}function nT(t){return B0()&&t instanceof Blob}function B0(){return typeof Blob<"u"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Hc;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Hc||(Hc={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var HF=function(){function t(){var e=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=Hc.NO_ERROR,this.sendPromise_=new Promise(function(n){e.xhr_.addEventListener("abort",function(){e.errorCode_=Hc.ABORT,n(e)}),e.xhr_.addEventListener("error",function(){e.errorCode_=Hc.NETWORK_ERROR,n(e)}),e.xhr_.addEventListener("load",function(){n(e)})})}return t.prototype.send=function(e,n,r,s){if(this.sent_)throw mb("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),vs(s))for(var a in s)s.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,s[a].toString());return vs(r)?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw mb("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw mb("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw mb("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(e){return this.xhr_.getResponseHeader(e)},t.prototype.addUploadProgressListener=function(e){vs(this.xhr_.upload)&&this.xhr_.upload.addEventListener("progress",e)},t.prototype.removeUploadProgressListener=function(e){vs(this.xhr_.upload)&&this.xhr_.upload.removeEventListener("progress",e)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zF=function(){function t(){}return t.prototype.createXhrIo=function(){return new HF},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KF(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function YF(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=KF();if(n!==void 0){for(var r=new n,s=0;s<t.length;s++)r.append(t[s]);return r.getBlob()}else{if(B0())return new Blob(t);throw Error("This browser doesn't seem to support creating Blobs")}}function XF(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rE=function(){function t(e,n){var r=0,s="";nT(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(nT(this.data_)){var r=this.data_,s=XF(r,e,n);return s===null?null:new t(s)}else{var a=new Uint8Array(this.data_.buffer,e,n-e);return new t(a,!0)}},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(B0()){var r=e.map(function(d){return d instanceof t?d.data_:d});return new t(YF.apply(null,r))}else{var s=e.map(function(d){return Zp(d)?Nx(bn.RAW,d).data:d.data_}),a=0;s.forEach(function(d){a+=d.byteLength});var c=new Uint8Array(a),h=0;return s.forEach(function(d){for(var g=0;g<d.length;g++)c[h++]=d[g]}),new t(c,!0)}},t.prototype.uploadData=function(){return this.data_},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xo=function(){function t(e,n){this.bucket=e,this.path_=n}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return this.path.length===0},enumerable:!1,configurable:!0}),t.prototype.fullServerUrl=function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)},t.prototype.bucketOnlyServerUrl=function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o"},t.makeFromBucketSpec=function(e){var n;try{n=t.makeFromUrl(e)}catch{return new t(e,"")}if(n.path==="")return n;throw OF(e)},t.makeFromUrl=function(e){var n=null,r="([A-Za-z0-9.\\-_]+)";function s(Ae){Ae.path.charAt(Ae.path.length-1)==="/"&&(Ae.path_=Ae.path_.slice(0,-1))}var a="(/(.*))?$",c=new RegExp("^gs://"+r+a,"i"),h={bucket:1,path:3};function d(Ae){Ae.path_=decodeURIComponent(Ae.path)}for(var g="v[A-Za-z0-9_]+",y=Ax.replace(/[.]/g,"\\."),E="(/([^?#]*).*)?$",I=new RegExp("^https?://"+y+"/"+g+"/b/"+r+"/o"+E,"i"),T={bucket:1,path:3},x="(?:storage.googleapis.com|storage.cloud.google.com)",A="([^?#]*)",N=new RegExp("^https?://"+x+"/"+r+"/"+A,"i"),D={bucket:1,path:2},L=[{regex:c,indices:h,postModify:s},{regex:I,indices:T,postModify:d},{regex:N,indices:D,postModify:d}],H=0;H<L.length;H++){var X=L[H],z=X.regex.exec(e);if(z){var P=z[X.indices.bucket],Be=z[X.indices.path];Be||(Be=""),n=new t(P,Be),X.postModify(n);break}}if(n==null)throw RF(e);return n},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZI(t){var e;try{e=JSON.parse(t)}catch{return null}return GF(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $F(t){if(t.length===0)return null;var e=t.lastIndexOf("/");if(e===-1)return"";var n=t.slice(0,e);return n}function QF(t,e){var n=e.split("/").filter(function(r){return r.length>0}).join("/");return t.length===0?n:t+"/"+n}function Mx(t){var e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vl(t){return"https://"+Ax+"/v0"+t}function Fx(t){var e=encodeURIComponent,n="?";for(var r in t)if(t.hasOwnProperty(r)){var s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JF(t,e){return e}var xr=function(){function t(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||JF}return t}(),yb=null;function ZF(t){return!Zp(t)||t.length<2?t:Mx(t)}function e4(){if(yb)return yb;var t=[];t.push(new xr("bucket")),t.push(new xr("generation")),t.push(new xr("metageneration")),t.push(new xr("name","fullPath",!0));function e(a,c){return ZF(c)}var n=new xr("name");n.xform=e,t.push(n);function r(a,c){return vs(c)?Number(c):c}var s=new xr("size");return s.xform=r,t.push(s),t.push(new xr("timeCreated")),t.push(new xr("updated")),t.push(new xr("md5Hash",null,!0)),t.push(new xr("cacheControl",null,!0)),t.push(new xr("contentDisposition",null,!0)),t.push(new xr("contentEncoding",null,!0)),t.push(new xr("contentLanguage",null,!0)),t.push(new xr("contentType",null,!0)),t.push(new xr("metadata","customMetadata",!0)),yb=t,yb}function t4(t,e){function n(){var r=t.bucket,s=t.fullPath,a=new xo(r,s);return e.makeStorageReference(a)}Object.defineProperty(t,"ref",{get:n})}function n4(t,e,n){var r={};r.type="file";for(var s=n.length,a=0;a<s;a++){var c=n[a];r[c.local]=c.xform(r,e[c.server])}return t4(r,t),r}function Ux(t,e,n){var r=ZI(e);if(r===null)return null;var s=r;return n4(t,s,n)}function r4(t,e){var n=ZI(e);if(n===null||!Zp(n.downloadTokens))return null;var r=n.downloadTokens;if(r.length===0)return null;var s=encodeURIComponent,a=r.split(","),c=a.map(function(h){var d=t.bucket,g=t.fullPath,y="/b/"+s(d)+"/o/"+s(g),E=vl(y),I=Fx({alt:"media",token:h});return E+I});return c[0]}function e1(t,e){for(var n={},r=e.length,s=0;s<r;s++){var a=e[s];a.writable&&(n[a.server]=t[a.local])}return JSON.stringify(n)}function i4(t){if(!Ng(t)||!t)throw"Expected Metadata object.";for(var e in t)if(t.hasOwnProperty(e)){var n=t[e];if(e==="customMetadata"){if(!Ng(n))throw"Expected object for 'customMetadata' mapping."}else if(qF(n))throw"Mapping for '"+e+"' cannot be an object."}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bb="maxResults",o4=1e3,o_="pageToken",rT="prefixes",iT="items";function s4(t,e,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[rT])for(var s=0,a=n[rT];s<a.length;s++){var c=a[s],h=c.replace(/\/$/,""),d=t.makeStorageReference(new xo(e,h));r.prefixes.push(d)}if(n[iT])for(var g=0,y=n[iT];g<y.length;g++){var E=y[g],d=t.makeStorageReference(new xo(e,E.name));r.items.push(d)}return r}function a4(t,e,n){var r=ZI(n);if(r===null)return null;var s=r;return s4(t,e,s)}function u4(t){if(!Ng(t)||!t)throw"Expected ListOptions object.";for(var e in t)if(e===bb){if(!WF(t[bb])||t[bb]<=0)throw"Expected maxResults to be a positive number.";if(t[bb]>1e3)throw"Expected maxResults to be less than or equal to "+o4+"."}else if(e===o_){if(t[o_]&&!Zp(t[o_]))throw"Expected pageToken to be string."}else throw"Unknown option: "+e}var ka=function(){function t(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}return t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gs(t){if(!t)throw JI()}function q0(t,e){function n(r,s){var a=Ux(t,s,e);return gs(a!==null),a}return n}function l4(t,e){function n(r,s){var a=a4(t,e,s);return gs(a!==null),a}return n}function c4(t,e){function n(r,s){var a=Ux(t,s,e);return gs(a!==null),r4(a,s)}return n}function ed(t){function e(n,r){var s;return n.getStatus()===401?s=kF():n.getStatus()===402?s=CF(t.bucket):n.getStatus()===403?s=xF(t.path):s=r,s.setServerResponseProp(r.serverResponseProp()),s}return e}function G0(t){var e=ed(t);function n(r,s){var a=e(r,s);return r.getStatus()===404&&(a=AF(t.path)),a.setServerResponseProp(s.serverResponseProp()),a}return n}function jx(t,e,n){var r=e.fullServerUrl(),s=vl(r),a="GET",c=t.maxOperationRetryTime,h=new ka(s,a,q0(t,n),c);return h.errorHandler=G0(e),h}function f4(t,e,n,r,s){var a={};e.isRoot?a.prefix="":a.prefix=e.path+"/",n.length>0&&(a.delimiter=n),r&&(a.pageToken=r),s&&(a.maxResults=s);var c=e.bucketOnlyServerUrl(),h=vl(c),d="GET",g=t.maxOperationRetryTime,y=new ka(h,d,l4(t,e.bucket),g);return y.urlParams=a,y.errorHandler=ed(e),y}function h4(t,e,n){var r=e.fullServerUrl(),s=vl(r),a="GET",c=t.maxOperationRetryTime,h=new ka(s,a,c4(t,n),c);return h.errorHandler=G0(e),h}function p4(t,e,n,r){var s=e.fullServerUrl(),a=vl(s),c="PATCH",h=e1(n,r),d={"Content-Type":"application/json; charset=utf-8"},g=t.maxOperationRetryTime,y=new ka(a,c,q0(t,r),g);return y.headers=d,y.body=h,y.errorHandler=G0(e),y}function d4(t,e){var n=e.fullServerUrl(),r=vl(n),s="DELETE",a=t.maxOperationRetryTime;function c(d,g){}var h=new ka(r,s,c,a);return h.successCodes=[200,204],h.errorHandler=G0(e),h}function v4(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function Vx(t,e,n){var r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=v4(null,e)),r}function g4(t,e,n,r,s){var a=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"};function h(){for(var H="",X=0;X<2;X++)H=H+Math.random().toString().slice(2);return H}var d=h();c["Content-Type"]="multipart/related; boundary="+d;var g=Vx(e,r,s),y=e1(g,n),E="--"+d+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+y+`\r
--`+d+`\r
Content-Type: `+g.contentType+`\r
\r
`,I=`\r
--`+d+"--",T=rE.getBlob(E,r,I);if(T===null)throw kx();var x={name:g.fullPath},A=vl(a),N="POST",D=t.maxUploadRetryTime,L=new ka(A,N,q0(t,n),D);return L.urlParams=x,L.headers=c,L.body=T.uploadData(),L.errorHandler=ed(e),L}var d0=function(){function t(e,n,r,s){this.current=e,this.total=n,this.finalized=!!r,this.metadata=s||null}return t}();function t1(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{gs(!1)}var r=e||["active"];return gs(!!n&&r.indexOf(n)!==-1),n}function m4(t,e,n,r,s){var a=e.bucketOnlyServerUrl(),c=Vx(e,r,s),h={name:c.fullPath},d=vl(a),g="POST",y={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":c.contentType,"Content-Type":"application/json; charset=utf-8"},E=e1(c,n),I=t.maxUploadRetryTime;function T(A){t1(A);var N;try{N=A.getResponseHeader("X-Goog-Upload-URL")}catch{gs(!1)}return gs(Zp(N)),N}var x=new ka(d,g,T,I);return x.urlParams=h,x.headers=y,x.body=E,x.errorHandler=ed(e),x}function y4(t,e,n,r){var s={"X-Goog-Upload-Command":"query"};function a(g){var y=t1(g,["active","final"]),E=null;try{E=g.getResponseHeader("X-Goog-Upload-Size-Received")}catch{gs(!1)}E||gs(!1);var I=Number(E);return gs(!isNaN(I)),new d0(I,r.size(),y==="final")}var c="POST",h=t.maxUploadRetryTime,d=new ka(n,c,a,h);return d.headers=s,d.errorHandler=ed(e),d}var oT=256*1024;function b4(t,e,n,r,s,a,c,h){var d=new d0(0,0);if(c?(d.current=c.current,d.total=c.total):(d.current=0,d.total=r.size()),r.size()!==d.total)throw PF();var g=d.total-d.current,y=g;s>0&&(y=Math.min(y,s));var E=d.current,I=E+y,T=y===g?"upload, finalize":"upload",x={"X-Goog-Upload-Command":T,"X-Goog-Upload-Offset":d.current},A=r.slice(E,I);if(A===null)throw kx();function N(X,z){var P=t1(X,["active","final"]),Be=d.current+y,Ae=r.size(),J;return P==="final"?J=q0(e,a)(X,z):J=null,new d0(Be,Ae,P==="final",J)}var D="POST",L=e.maxUploadRetryTime,H=new ka(n,D,N,L);return H.headers=x,H.body=A.uploadData(),H.progressCallback=h||null,H.errorHandler=ed(t),H}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var w4=function(){function t(e,n,r){var s=Dx(e)||vs(n)||vs(r);if(s)this.next=e,this.error=n||null,this.complete=r||null;else{var a=e;this.next=a.next||null,this.error=a.error||null,this.complete=a.complete||null}}return t}(),_4=function(){function t(e,n,r,s,a,c){this.bytesTransferred=e,this.totalBytes=n,this.state=r,this.metadata=s,this.task=a,this.ref=c}return t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nn(t,e,n){for(var r=e.length,s=e.length,a=0;a<e.length;a++)if(e[a].optional){r=a;break}var c=r<=n.length&&n.length<=s;if(!c)throw LF(r,s,t,n.length);for(var a=0;a<n.length;a++)try{e[a].validator(n[a])}catch(d){throw d instanceof Error?tT(a,t,d.message):tT(a,t,d)}}var mf=function(){function t(e,n){var r=this;this.validator=function(s){r.optional&&!Qu(s)||e(s)},this.optional=!!n}return t}();function E4(t,e){return function(n){t(n),e(n)}}function Sp(t,e){function n(s){if(!Zp(s))throw"Expected string."}var r;return t?r=E4(n,t):r=n,new mf(r,e)}function I4(){function t(e){var n=e instanceof Uint8Array||e instanceof ArrayBuffer||B0()&&e instanceof Blob;if(!n)throw"Expected Blob or File."}return new mf(t)}function s_(t){return new mf(i4,t)}function S4(t){return new mf(u4,t)}function sT(){function t(e){var n=Lx(e)&&e>=0;if(!n)throw"Expected a number 0 or greater."}return new mf(t)}function a_(t,e){function n(r){var s=r===null||vs(r)&&r instanceof Object;if(!s)throw"Expected an Object.";t!=null&&t(r)}return new mf(n,e)}function eg(t){function e(n){var r=n===null||Dx(n);if(!r)throw"Expected a Function."}return new mf(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cp(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then(function(){return t.apply(void 0,e)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var aT=function(){function t(e,n,r,s,a,c){var h=this;c===void 0&&(c=null),this.transferred_=0,this.needToFetchStatus_=!1,this.needToFetchMetadata_=!1,this.observers_=[],this.error_=null,this.uploadUrl_=null,this.request_=null,this.chunkMultiplier_=1,this.resolve_=null,this.reject_=null,this.ref_=e,this.service_=n,this.location_=r,this.blob_=a,this.metadata_=c,this.mappings_=s,this.resumable_=this.shouldDoResumable_(this.blob_),this.state_=qe.RUNNING,this.errorHandler_=function(d){h.request_=null,h.chunkMultiplier_=1,d.codeEquals(En.CANCELED)?(h.needToFetchStatus_=!0,h.completeTransitions_()):(h.error_=d,h.transition_(qe.ERROR))},this.metadataErrorHandler_=function(d){h.request_=null,d.codeEquals(En.CANCELED)?h.completeTransitions_():(h.error_=d,h.transition_(qe.ERROR))},this.promise_=new Promise(function(d,g){h.resolve_=d,h.reject_=g,h.start_()}),this.promise_.then(null,function(){})}return t.prototype.makeProgressCallback_=function(){var e=this,n=this.transferred_;return function(r){return e.updateProgress_(n+r)}},t.prototype.shouldDoResumable_=function(e){return e.size()>256*1024},t.prototype.start_=function(){this.state_===qe.RUNNING&&this.request_===null&&(this.resumable_?this.uploadUrl_===null?this.createResumable_():this.needToFetchStatus_?this.fetchStatus_():this.needToFetchMetadata_?this.fetchMetadata_():this.continueUpload_():this.oneShotUpload_())},t.prototype.resolveToken_=function(e){var n=this;this.service_.getAuthToken().then(function(r){switch(n.state_){case qe.RUNNING:e(r);break;case qe.CANCELING:n.transition_(qe.CANCELED);break;case qe.PAUSING:n.transition_(qe.PAUSED);break}})},t.prototype.createResumable_=function(){var e=this;this.resolveToken_(function(n){var r=m4(e.service_,e.location_,e.mappings_,e.blob_,e.metadata_),s=e.service_.makeRequest(r,n);e.request_=s,s.getPromise().then(function(a){e.request_=null,e.uploadUrl_=a,e.needToFetchStatus_=!1,e.completeTransitions_()},e.errorHandler_)})},t.prototype.fetchStatus_=function(){var e=this,n=this.uploadUrl_;this.resolveToken_(function(r){var s=y4(e.service_,e.location_,n,e.blob_),a=e.service_.makeRequest(s,r);e.request_=a,a.getPromise().then(function(c){c=c,e.request_=null,e.updateProgress_(c.current),e.needToFetchStatus_=!1,c.finalized&&(e.needToFetchMetadata_=!0),e.completeTransitions_()},e.errorHandler_)})},t.prototype.continueUpload_=function(){var e=this,n=oT*this.chunkMultiplier_,r=new d0(this.transferred_,this.blob_.size()),s=this.uploadUrl_;this.resolveToken_(function(a){var c;try{c=b4(e.location_,e.service_,s,e.blob_,n,e.mappings_,r,e.makeProgressCallback_())}catch(d){e.error_=d,e.transition_(qe.ERROR);return}var h=e.service_.makeRequest(c,a);e.request_=h,h.getPromise().then(function(d){e.increaseMultiplier_(),e.request_=null,e.updateProgress_(d.current),d.finalized?(e.metadata_=d.metadata,e.transition_(qe.SUCCESS)):e.completeTransitions_()},e.errorHandler_)})},t.prototype.increaseMultiplier_=function(){var e=oT*this.chunkMultiplier_;e<32*1024*1024&&(this.chunkMultiplier_*=2)},t.prototype.fetchMetadata_=function(){var e=this;this.resolveToken_(function(n){var r=jx(e.service_,e.location_,e.mappings_),s=e.service_.makeRequest(r,n);e.request_=s,s.getPromise().then(function(a){e.request_=null,e.metadata_=a,e.transition_(qe.SUCCESS)},e.metadataErrorHandler_)})},t.prototype.oneShotUpload_=function(){var e=this;this.resolveToken_(function(n){var r=g4(e.service_,e.location_,e.mappings_,e.blob_,e.metadata_),s=e.service_.makeRequest(r,n);e.request_=s,s.getPromise().then(function(a){e.request_=null,e.metadata_=a,e.updateProgress_(e.blob_.size()),e.transition_(qe.SUCCESS)},e.errorHandler_)})},t.prototype.updateProgress_=function(e){var n=this.transferred_;this.transferred_=e,this.transferred_!==n&&this.notifyObservers_()},t.prototype.transition_=function(e){if(this.state_!==e)switch(e){case qe.CANCELING:this.state_=e,this.request_!==null&&this.request_.cancel();break;case qe.PAUSING:this.state_=e,this.request_!==null&&this.request_.cancel();break;case qe.RUNNING:var n=this.state_===qe.PAUSED;this.state_=e,n&&(this.notifyObservers_(),this.start_());break;case qe.PAUSED:this.state_=e,this.notifyObservers_();break;case qe.CANCELED:this.error_=Cx(),this.state_=e,this.notifyObservers_();break;case qe.ERROR:this.state_=e,this.notifyObservers_();break;case qe.SUCCESS:this.state_=e,this.notifyObservers_();break}},t.prototype.completeTransitions_=function(){switch(this.state_){case qe.PAUSING:this.transition_(qe.PAUSED);break;case qe.CANCELING:this.transition_(qe.CANCELED);break;case qe.RUNNING:this.start_();break}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var e=i_(this.state_);return new _4(this.transferred_,this.blob_.size(),e,this.metadata_,this,this.ref_)},enumerable:!1,configurable:!0}),t.prototype.on=function(e,n,r,s){function a(){if(e!==nE.STATE_CHANGED)throw"Expected one of the event types: ["+nE.STATE_CHANGED+"]."}var c="Expected a function or an Object with one of `next`, `error`, `complete` properties.",h=eg(!0).validator,d=a_(null,!0).validator;function g(N){try{h(N);return}catch{}try{d(N);var D=Qu(N.next)||Qu(N.error)||Qu(N.complete);if(!D)throw"";return}catch{throw c}}var y=[Sp(a),a_(g,!0),eg(!0),eg(!0)];Nn("on",y,arguments);var E=this;function I(N){function D(L,H,X){N!==null&&Nn("on",N,arguments);var z=new w4(L,H,s);return E.addObserver_(z),function(){E.removeObserver_(z)}}return D}function T(N){if(N===null)throw c;g(N)}var x=[a_(T),eg(!0),eg(!0)],A=!(Qu(n)||Qu(r)||Qu(s));return A?I(x):I(null)(n,r,s)},t.prototype.then=function(e,n){return this.promise_.then(e,n)},t.prototype.catch=function(e){return this.then(null,e)},t.prototype.addObserver_=function(e){this.observers_.push(e),this.notifyObserver_(e)},t.prototype.removeObserver_=function(e){var n=this.observers_.indexOf(e);n!==-1&&this.observers_.splice(n,1)},t.prototype.notifyObservers_=function(){var e=this;this.finishPromise_();var n=this.observers_.slice();n.forEach(function(r){e.notifyObserver_(r)})},t.prototype.finishPromise_=function(){if(this.resolve_!==null){var e=!0;switch(i_(this.state_)){case Rr.SUCCESS:cp(this.resolve_.bind(null,this.snapshot))();break;case Rr.CANCELED:case Rr.ERROR:var n=this.reject_;cp(n.bind(null,this.error_))();break;default:e=!1;break}e&&(this.resolve_=null,this.reject_=null)}},t.prototype.notifyObserver_=function(e){var n=i_(this.state_);switch(n){case Rr.RUNNING:case Rr.PAUSED:e.next&&cp(e.next.bind(e,this.snapshot))();break;case Rr.SUCCESS:e.complete&&cp(e.complete.bind(e))();break;case Rr.CANCELED:case Rr.ERROR:e.error&&cp(e.error.bind(e,this.error_))();break;default:e.error&&cp(e.error.bind(e,this.error_))()}},t.prototype.resume=function(){Nn("resume",[],arguments);var e=this.state_===qe.PAUSED||this.state_===qe.PAUSING;return e&&this.transition_(qe.RUNNING),e},t.prototype.pause=function(){Nn("pause",[],arguments);var e=this.state_===qe.RUNNING;return e&&this.transition_(qe.PAUSING),e},t.prototype.cancel=function(){Nn("cancel",[],arguments);var e=this.state_===qe.RUNNING||this.state_===qe.PAUSING;return e&&this.transition_(qe.CANCELING),e},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cb=function(){function t(e,n){this.service=e,n instanceof xo?this.location=n:this.location=xo.makeFromUrl(n)}return t.prototype.toString=function(){return Nn("toString",[],arguments),"gs://"+this.location.bucket+"/"+this.location.path},t.prototype.newRef=function(e,n){return new t(e,n)},t.prototype.mappings=function(){return e4()},t.prototype.child=function(e){Nn("child",[Sp()],arguments);var n=QF(this.location.path,e),r=new xo(this.location.bucket,n);return this.newRef(this.service,r)},Object.defineProperty(t.prototype,"parent",{get:function(){var e=$F(this.location.path);if(e===null)return null;var n=new xo(this.location.bucket,e);return this.newRef(this.service,n)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){var e=new xo(this.location.bucket,"");return this.newRef(this.service,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this.location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this.location.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return Mx(this.location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this.service},enumerable:!1,configurable:!0}),t.prototype.put=function(e,n){return n===void 0&&(n=null),Nn("put",[I4(),s_(!0)],arguments),this.throwIfRoot_("put"),new aT(this,this.service,this.location,this.mappings(),new rE(e),n)},t.prototype.putString=function(e,n,r){n===void 0&&(n=bn.RAW),Nn("putString",[Sp(),Sp(FF,!0),s_(!0)],arguments),this.throwIfRoot_("putString");var s=Nx(n,e),a=Object.assign({},r);return!vs(a.contentType)&&vs(s.contentType)&&(a.contentType=s.contentType),new aT(this,this.service,this.location,this.mappings(),new rE(s.data,!0),a)},t.prototype.delete=function(){var e=this;return Nn("delete",[],arguments),this.throwIfRoot_("delete"),this.service.getAuthToken().then(function(n){var r=d4(e.service,e.location);return e.service.makeRequest(r,n).getPromise()})},t.prototype.listAll=function(){Nn("listAll",[],arguments);var e={prefixes:[],items:[]};return this.listAllHelper(e).then(function(){return e})},t.prototype.listAllHelper=function(e,n){return B(this,void 0,void 0,function(){var r,s,a,c;return j(this,function(h){switch(h.label){case 0:return r={pageToken:n},[4,this.list(r)];case 1:return s=h.sent(),(a=e.prefixes).push.apply(a,s.prefixes),(c=e.items).push.apply(c,s.items),s.nextPageToken==null?[3,3]:[4,this.listAllHelper(e,s.nextPageToken)];case 2:h.sent(),h.label=3;case 3:return[2]}})})},t.prototype.list=function(e){Nn("list",[S4(!0)],arguments);var n=this;return this.service.getAuthToken().then(function(r){var s=e||{},a=f4(n.service,n.location,"/",s.pageToken,s.maxResults);return n.service.makeRequest(a,r).getPromise()})},t.prototype.getMetadata=function(){var e=this;return Nn("getMetadata",[],arguments),this.throwIfRoot_("getMetadata"),this.service.getAuthToken().then(function(n){var r=jx(e.service,e.location,e.mappings());return e.service.makeRequest(r,n).getPromise()})},t.prototype.updateMetadata=function(e){var n=this;return Nn("updateMetadata",[s_()],arguments),this.throwIfRoot_("updateMetadata"),this.service.getAuthToken().then(function(r){var s=p4(n.service,n.location,e,n.mappings());return n.service.makeRequest(s,r).getPromise()})},t.prototype.getDownloadURL=function(){var e=this;return Nn("getDownloadURL",[],arguments),this.throwIfRoot_("getDownloadURL"),this.service.getAuthToken().then(function(n){var r=h4(e.service,e.location,e.mappings());return e.service.makeRequest(r,n).getPromise().then(function(s){if(s===null)throw DF();return s})})},t.prototype.throwIfRoot_=function(e){if(this.location.path==="")throw MF(e)},t}(),T4=function(){function t(e){this.promise_=Promise.reject(e)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(e){},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A4(t,e,n){var r=1,s=null,a=!1,c=0;function h(){return c===2}var d=!1;function g(){for(var x=[],A=0;A<arguments.length;A++)x[A]=arguments[A];d||(d=!0,e.apply(null,x))}function y(x){s=setTimeout(function(){s=null,t(E,h())},x)}function E(x){for(var A=[],N=1;N<arguments.length;N++)A[N-1]=arguments[N];if(!d){if(x){g.call.apply(g,Dr([null,x],A));return}var D=h()||a;if(D){g.call.apply(g,Dr([null,x],A));return}r<64&&(r*=2);var L;c===1?(c=2,L=0):L=(r+Math.random())*1e3,y(L)}}var I=!1;function T(x){I||(I=!0,!d&&(s!==null?(x||(c=2),clearTimeout(s),y(0)):x||(c=1)))}return y(0),setTimeout(function(){a=!0,T(!0)},n),T}function C4(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var k4=function(){function t(e,n,r,s,a,c,h,d,g,y,E){var I=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=a.slice(),this.additionalRetryCodes_=c.slice(),this.callback_=h,this.errorCallback_=d,this.progressCallback_=y,this.timeout_=g,this.pool_=E,this.promise_=new Promise(function(T,x){I.resolve_=T,I.reject_=x,I.start_()})}return t.prototype.start_=function(){var e=this;function n(s,a){if(a){s(!1,new wb(!1,null,!0));return}var c=e.pool_.createXhrIo();e.pendingXhr_=c;function h(d){var g=d.loaded,y=d.lengthComputable?d.total:-1;e.progressCallback_!==null&&e.progressCallback_(g,y)}e.progressCallback_!==null&&c.addUploadProgressListener(h),c.send(e.url_,e.method_,e.body_,e.headers_).then(function(d){e.progressCallback_!==null&&d.removeUploadProgressListener(h),e.pendingXhr_=null,d=d;var g=d.getErrorCode()===Hc.NO_ERROR,y=d.getStatus();if(!g||e.isRetryStatusCode_(y)){var E=d.getErrorCode()===Hc.ABORT;s(!1,new wb(!1,null,E));return}var I=e.successCodes_.indexOf(y)!==-1;s(!0,new wb(I,d))})}function r(s,a){var c=e.resolve_,h=e.reject_,d=a.xhr;if(a.wasSuccessCode)try{var g=e.callback_(d,d.getResponseText());Qu(g)?c(g):c()}catch(E){h(E)}else if(d!==null){var y=JI();y.setServerResponseProp(d.getResponseText()),e.errorCallback_?h(e.errorCallback_(d,y)):h(y)}else if(a.canceled){var y=e.appDelete_?xx():Cx();h(y)}else{var y=NF();h(y)}}this.canceled_?r(!1,new wb(!1,null,!0)):this.backoffId_=A4(n,r,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&C4(this.backoffId_),this.pendingXhr_!==null&&this.pendingXhr_.abort()},t.prototype.isRetryStatusCode_=function(e){var n=e>=500&&e<600,r=[408,429],s=r.indexOf(e)!==-1,a=this.additionalRetryCodes_.indexOf(e)!==-1;return n||s||a},t}(),wb=function(){function t(e,n,r){this.wasSuccessCode=e,this.xhr=n,this.canceled=!!r}return t}();function x4(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function N4(t){var e=typeof Z<"u"?Z.SDK_VERSION:"AppManager";t["X-Firebase-Storage-Version"]="webjs/"+e}function R4(t,e){e&&(t["X-Firebase-GMPID"]=e)}function O4(t,e,n,r){var s=Fx(t.urlParams),a=t.url+s,c=Object.assign({},t.headers);return R4(c,e),x4(c,n),N4(c),new k4(a,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bx=function(){function t(e,n,r,s){var a;this.bucket_=null,this.appId_=null,this.deleted_=!1,this.app_=e,this.authProvider_=n,this.maxOperationRetryTime_=SF,this.maxUploadRetryTime_=TF,this.requests_=new Set,this.pool_=r,s!=null?this.bucket_=xo.makeFromBucketSpec(s):this.bucket_=t.extractBucket_((a=this.app_)===null||a===void 0?void 0:a.options),this.internals_=new P4(this)}return t.extractBucket_=function(e){var n=e==null?void 0:e[IF];return n==null?null:xo.makeFromBucketSpec(n)},t.prototype.getAuthToken=function(){return B(this,void 0,void 0,function(){var e,n;return j(this,function(r){switch(r.label){case 0:return e=this.authProvider_.getImmediate({optional:!0}),e?[4,e.getToken()]:[3,2];case 1:if(n=r.sent(),n!==null)return[2,n.accessToken];r.label=2;case 2:return[2,null]}})})},t.prototype.deleteApp=function(){this.deleted_=!0,this.app_=null,this.requests_.forEach(function(e){return e.cancel()}),this.requests_.clear()},t.prototype.makeStorageReference=function(e){return new Cb(this,e)},t.prototype.makeRequest=function(e,n){var r=this;if(this.deleted_)return new T4(xx());var s=O4(e,this.appId_,n,this.pool_);return this.requests_.add(s),s.getPromise().then(function(){return r.requests_.delete(s)},function(){return r.requests_.delete(s)}),s},t.prototype.ref=function(e){function n(s){if(typeof s!="string")throw"Path is not a string.";if(/^[A-Za-z]+:\/\//.test(s))throw"Expected child path but got a URL, use refFromURL instead."}if(Nn("ref",[Sp(n,!0)],arguments),this.bucket_==null)throw new Error("No Storage Bucket defined in Firebase Options.");var r=new Cb(this,this.bucket_);return e!=null?r.child(e):r},t.prototype.refFromURL=function(e){function n(r){if(typeof r!="string")throw"Path is not a string.";if(!/^[A-Za-z]+:\/\//.test(r))throw"Expected full URL but got a child path, use ref instead.";try{xo.makeFromUrl(r)}catch{throw"Expected valid full URL but got an invalid one."}}return Nn("refFromURL",[Sp(n,!1)],arguments),new Cb(this,e)},Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this.maxUploadRetryTime_},enumerable:!1,configurable:!0}),t.prototype.setMaxUploadRetryTime=function(e){Nn("setMaxUploadRetryTime",[sT()],arguments),this.maxUploadRetryTime_=e},Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this.maxOperationRetryTime_},enumerable:!1,configurable:!0}),t.prototype.setMaxOperationRetryTime=function(e){Nn("setMaxOperationRetryTime",[sT()],arguments),this.maxOperationRetryTime_=e},Object.defineProperty(t.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"INTERNAL",{get:function(){return this.internals_},enumerable:!1,configurable:!0}),t}(),P4=function(){function t(e){this.service_=e}return t.prototype.delete=function(){return this.service_.deleteApp(),Promise.resolve()},t}(),D4="@firebase/storage",L4="0.3.43";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var M4="storage";function F4(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal");return new Bx(n,r,new zF,e)}function U4(t){var e={TaskState:Rr,TaskEvent:nE,StringFormat:bn,Storage:Bx,Reference:Cb};t.INTERNAL.registerComponent(new ms(M4,F4,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),t.registerVersion(D4,L4)}U4(Z);var j4="@firebase/performance",qx="0.4.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gx=qx,V4="FB-PERF-TRACE-START",B4="FB-PERF-TRACE-STOP",iE="FB-PERF-TRACE-MEASURE",Wx="_wt_",Hx="_fp",zx="_fcp",Kx="_fid",Yx="@firebase/performance/config",Xx="@firebase/performance/configexpire",q4="performance",$x="Performance";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nr,G4=(nr={},nr["trace started"]="Trace {$traceName} was started before.",nr["trace stopped"]="Trace {$traceName} is not running.",nr["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",nr["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",nr["no window"]="Window is not available.",nr["no app id"]="App id is not available.",nr["no project id"]="Project id is not available.",nr["no api key"]="Api key is not available.",nr["invalid cc log"]="Attempted to queue invalid cc event",nr["FB not default"]="Performance can only start when Firebase app instance is the default one.",nr["RC response not ok"]="RC response is not ok",nr["invalid attribute name"]="Attribute name {$attributeName} is invalid.",nr["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",nr["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",nr["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",nr),hr=new Vp(q4,$x,G4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Aa=new Up($x);Aa.logLevel=Le.INFO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var u_,Qx,yr=function(){function t(e){if(this.window=e,!e)throw hr.create("no window");this.performance=e.performance,this.PerformanceObserver=e.PerformanceObserver,this.windowLocation=e.location,this.navigator=e.navigator,this.document=e.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=e.localStorage),e.perfMetrics&&e.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=e.perfMetrics.onFirstInputDelay)}return t.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},t.prototype.mark=function(e){!this.performance||!this.performance.mark||this.performance.mark(e)},t.prototype.measure=function(e,n,r){!this.performance||!this.performance.measure||this.performance.measure(e,n,r)},t.prototype.getEntriesByType=function(e){return!this.performance||!this.performance.getEntriesByType?[]:this.performance.getEntriesByType(e)},t.prototype.getEntriesByName=function(e){return!this.performance||!this.performance.getEntriesByName?[]:this.performance.getEntriesByName(e)},t.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},t.prototype.requiredApisAvailable=function(){return!fetch||!Promise||!this.navigator||!this.navigator.cookieEnabled?(Aa.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1):pE()?!0:(Aa.info("IndexedDB is not supported by current browswer"),!1)},t.prototype.setupObserver=function(e,n){if(this.PerformanceObserver){var r=new this.PerformanceObserver(function(s){for(var a=0,c=s.getEntries();a<c.length;a++){var h=c[a];n(h)}});r.observe({entryTypes:[e]})}},t.getInstance=function(){return u_===void 0&&(u_=new t(Qx)),u_},t}();function W4(t){Qx=t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uT(t,e){var n=t.length-e.length;if(n<0||n>1)throw hr.create("invalid String merger input");for(var r=[],s=0;s<t.length;s++)r.push(t.charAt(s)),e.length>s&&r.push(e.charAt(s));return r.join("")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var l_,On=function(){function t(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=uT("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=uT("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return t.prototype.getAppId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!e)throw hr.create("no app id");return e},t.prototype.getProjectId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!e)throw hr.create("no project id");return e},t.prototype.getApiKey=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!e)throw hr.create("no api key");return e},t.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},t.getInstance=function(){return l_===void 0&&(l_=new t),l_},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jx;function H4(){var t=On.getInstance().installationsService.getId();return t.then(function(e){Jx=e}),t}function n1(){return Jx}function z4(){var t=On.getInstance().installationsService.getToken();return t.then(function(e){}),t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tp;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.VISIBLE=1]="VISIBLE",t[t.HIDDEN=2]="HIDDEN"})(Tp||(Tp={}));var K4=["firebase_","google_","ga_"],Y4=new RegExp("^[a-zA-Z]\\w*$"),X4=40,$4=100;function Q4(){var t=yr.getInstance().navigator;return"serviceWorker"in t?t.serviceWorker.controller?2:3:1}function Zx(){var t=yr.getInstance().document,e=t.visibilityState;switch(e){case"visible":return Tp.VISIBLE;case"hidden":return Tp.HIDDEN;default:return Tp.UNKNOWN}}function J4(){var t=yr.getInstance().navigator,e=t.connection,n=e&&e.effectiveType;switch(n){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}function Z4(t){if(t.length===0||t.length>X4)return!1;var e=K4.some(function(n){return t.startsWith(n)});return!e&&!!t.match(Y4)}function eU(t){return t.length!==0&&t.length<=$4}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tU="0.0.1",nU={loggingEnabled:!0},rU="FIREBASE_INSTALLATIONS_AUTH";function iU(t){var e=oU();return e?(lT(e),Promise.resolve()):uU(t).then(lT).then(function(n){return sU(n)},function(){})}function oU(){var t=yr.getInstance().localStorage;if(t){var e=t.getItem(Xx);if(!(!e||!lU(e))){var n=t.getItem(Yx);if(n)try{var r=JSON.parse(n);return r}catch{return}}}}function sU(t){var e=yr.getInstance().localStorage;!t||!e||(e.setItem(Yx,JSON.stringify(t)),e.setItem(Xx,String(Date.now()+On.getInstance().configTimeToLive*60*60*1e3)))}var aU="Could not fetch config, will use default configs";function uU(t){return z4().then(function(e){var n=On.getInstance().getProjectId(),r="https://firebaseremoteconfig.googleapis.com/v1/projects/"+n+"/namespaces/fireperf:fetch?key="+On.getInstance().getApiKey(),s=new Request(r,{method:"POST",headers:{Authorization:rU+" "+e},body:JSON.stringify({app_instance_id:t,app_instance_id_token:e,app_id:On.getInstance().getAppId(),app_version:Gx,sdk_version:tU})});return fetch(s).then(function(a){if(a.ok)return a.json();throw hr.create("RC response not ok")})}).catch(function(){Aa.info(aU)})}function lT(t){if(!t)return t;var e=On.getInstance(),n=t.entries||{};return n.fpr_enabled!==void 0?e.loggingEnabled=String(n.fpr_enabled)==="true":e.loggingEnabled=nU.loggingEnabled,n.fpr_log_source&&(e.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(e.logEndPointUrl=n.fpr_log_endpoint_url),n.fpr_log_transport_key&&(e.transportKey=n.fpr_log_transport_key),n.fpr_vc_network_request_sampling_rate!==void 0&&(e.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),n.fpr_vc_trace_sampling_rate!==void 0&&(e.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),e.logTraceAfterSampling=cT(e.tracesSamplingRate),e.logNetworkAfterSampling=cT(e.networkRequestsSamplingRate),t}function lU(t){return Number(t)>Date.now()}function cT(t){return Math.random()<=t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var r1=1,c_;function eN(){return r1=2,c_=c_||fU(),c_}function cU(){return r1===3}function fU(){return hU().then(function(){return H4()}).then(function(t){return iU(t)}).then(function(){return fT()},function(){return fT()})}function hU(){var t=yr.getInstance().document;return new Promise(function(e){if(t&&t.readyState!=="complete"){var n=function(){t.readyState==="complete"&&(t.removeEventListener("readystatechange",n),e())};t.addEventListener("readystatechange",n)}else e()})}function fT(){r1=3}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var i1=10*1e3,pU=5.5*1e3,tN=3,v0=tN,wa=[],hT=!1;function dU(){hT||(W0(pU),hT=!0)}function W0(t){setTimeout(function(){if(v0!==0){if(!wa.length)return W0(i1);vU()}},t)}function vU(){var t=Dr(wa);wa=[];var e=t.map(function(r){return{source_extension_json_proto3:r.message,event_time_ms:String(r.eventTime)}}),n={request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:On.getInstance().logSource,log_event:e};gU(n,t).catch(function(){wa=Dr(t,wa),v0--,Aa.info("Tries left: "+v0+"."),W0(i1)})}function gU(t,e){return mU(t).then(function(n){return n.ok||Aa.info("Call to Firebase backend failed."),n.json()}).then(function(n){var r=Number(n.nextRequestWaitMillis),s=i1;isNaN(r)||(s=Math.max(r,s));var a=n.logResponseDetails;Array.isArray(a)&&a.length>0&&a[0].responseAction==="RETRY_REQUEST_LATER"&&(wa=Dr(e,wa),Aa.info("Retry transport request later.")),v0=tN,W0(s)})}function mU(t){var e=On.getInstance().getFlTransportFullUrl();return fetch(e,{method:"POST",body:JSON.stringify(t)})}function yU(t){if(!t.eventTime||!t.message)throw hr.create("invalid cc log");wa=Dr(wa,[t])}function bU(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=t.apply(void 0,e);yU({message:r,eventTime:Date.now()})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var f_;function nN(t,e){f_||(f_=bU(_U)),f_(t,e)}function _b(t){var e=On.getInstance();!e.instrumentationEnabled&&t.isAuto||!e.dataCollectionEnabled&&!t.isAuto||yr.getInstance().requiredApisAvailable()&&(t.isAuto&&Zx()!==Tp.VISIBLE||(cU()?h_(t):eN().then(function(){return h_(t)},function(){return h_(t)})))}function h_(t){if(n1()){var e=On.getInstance();!e.loggingEnabled||!e.logTraceAfterSampling||setTimeout(function(){return nN(t,1)},0)}}function wU(t){var e=On.getInstance();if(e.instrumentationEnabled){var n=t.url,r=e.logEndPointUrl.split("?")[0],s=e.flTransportEndpointUrl.split("?")[0];n===r||n===s||!e.loggingEnabled||!e.logNetworkAfterSampling||setTimeout(function(){return nN(t,0)},0)}}function _U(t,e){return e===0?EU(t):IU(t)}function EU(t){var e={url:t.url,http_method:t.httpMethod||0,http_response_code:200,response_payload_bytes:t.responsePayloadBytes,client_start_time_us:t.startTimeUs,time_to_response_initiated_us:t.timeToResponseInitiatedUs,time_to_response_completed_us:t.timeToResponseCompletedUs},n={application_info:rN(),network_request_metric:e};return JSON.stringify(n)}function IU(t){var e={name:t.name,is_auto:t.isAuto,client_start_time_us:t.startTimeUs,duration_us:t.durationUs};Object.keys(t.counters).length!==0&&(e.counters=t.counters);var n=t.getAttributes();Object.keys(n).length!==0&&(e.custom_attributes=n);var r={application_info:rN(),trace_metric:e};return JSON.stringify(r)}function rN(){return{google_app_id:On.getInstance().getAppId(),app_instance_id:n1(),web_app_info:{sdk_version:Gx,page_url:yr.getInstance().getUrl(),service_worker_status:Q4(),visibility_state:Zx(),effective_connection_type:J4()},application_process_state:0}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var SU=100,TU="_",AU=[Hx,zx,Kx];function CU(t,e){return t.length===0||t.length>SU?!1:e&&e.startsWith(Wx)&&AU.indexOf(t)>-1||!t.startsWith(TU)}function kU(t){var e=Math.floor(t);return e<t&&Aa.info("Metric value should be an Integer, setting the value as : "+e+"."),e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lg=function(){function t(e,n,r){n===void 0&&(n=!1),this.name=e,this.isAuto=n,this.state=1,this.customAttributes={},this.counters={},this.api=yr.getInstance(),this.randomId=Math.floor(Math.random()*1e6),this.isAuto||(this.traceStartMark=V4+"-"+this.randomId+"-"+this.name,this.traceStopMark=B4+"-"+this.randomId+"-"+this.name,this.traceMeasure=r||iE+"-"+this.randomId+"-"+this.name,r&&this.calculateTraceMetrics())}return t.prototype.start=function(){if(this.state!==1)throw hr.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},t.prototype.stop=function(){if(this.state!==2)throw hr.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),_b(this)},t.prototype.record=function(e,n,r){if(e<=0)throw hr.create("nonpositive trace startTime",{traceName:this.name});if(n<=0)throw hr.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(n*1e3),this.startTimeUs=Math.floor(e*1e3),r&&r.attributes&&(this.customAttributes=$t({},r.attributes)),r&&r.metrics)for(var s=0,a=Object.keys(r.metrics);s<a.length;s++){var c=a[s];isNaN(Number(r.metrics[c]))||(this.counters[c]=Number(Math.floor(r.metrics[c])))}_b(this)},t.prototype.incrementMetric=function(e,n){n===void 0&&(n=1),this.counters[e]===void 0?this.putMetric(e,n):this.putMetric(e,this.counters[e]+n)},t.prototype.putMetric=function(e,n){if(CU(e,this.name))this.counters[e]=kU(n);else throw hr.create("invalid custom metric name",{customMetricName:e})},t.prototype.getMetric=function(e){return this.counters[e]||0},t.prototype.putAttribute=function(e,n){var r=Z4(e),s=eU(n);if(r&&s){this.customAttributes[e]=n;return}if(!r)throw hr.create("invalid attribute name",{attributeName:e});if(!s)throw hr.create("invalid attribute value",{attributeValue:n})},t.prototype.getAttribute=function(e){return this.customAttributes[e]},t.prototype.removeAttribute=function(e){this.customAttributes[e]!==void 0&&delete this.customAttributes[e]},t.prototype.getAttributes=function(){return $t({},this.customAttributes)},t.prototype.setStartTime=function(e){this.startTimeUs=e},t.prototype.setDuration=function(e){this.durationUs=e},t.prototype.calculateTraceMetrics=function(){var e=this.api.getEntriesByName(this.traceMeasure),n=e&&e[0];n&&(this.durationUs=Math.floor(n.duration*1e3),this.startTimeUs=Math.floor((n.startTime+this.api.getTimeOrigin())*1e3))},t.createOobTrace=function(e,n,r){var s=yr.getInstance().getUrl();if(s){var a=new t(Wx+s,!0),c=Math.floor(yr.getInstance().getTimeOrigin()*1e3);a.setStartTime(c),e&&e[0]&&(a.setDuration(Math.floor(e[0].duration*1e3)),a.putMetric("domInteractive",Math.floor(e[0].domInteractive*1e3)),a.putMetric("domContentLoadedEventEnd",Math.floor(e[0].domContentLoadedEventEnd*1e3)),a.putMetric("loadEventEnd",Math.floor(e[0].loadEventEnd*1e3)));var h="first-paint",d="first-contentful-paint";if(n){var g=n.find(function(E){return E.name===h});g&&g.startTime&&a.putMetric(Hx,Math.floor(g.startTime*1e3));var y=n.find(function(E){return E.name===d});y&&y.startTime&&a.putMetric(zx,Math.floor(y.startTime*1e3)),r&&a.putMetric(Kx,Math.floor(r*1e3))}_b(a)}},t.createUserTimingTrace=function(e){var n=new t(e,!1,e);_b(n)},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pT(t){var e=t;if(!(!e||e.responseStart===void 0)){var n=yr.getInstance().getTimeOrigin(),r=Math.floor((e.startTime+n)*1e3),s=e.responseStart?Math.floor((e.responseStart-e.startTime)*1e3):void 0,a=Math.floor((e.responseEnd-e.startTime)*1e3),c=e.name&&e.name.split("?")[0],h={url:c,responsePayloadBytes:e.transferSize,startTimeUs:r,timeToResponseInitiatedUs:s,timeToResponseCompletedUs:a};wU(h)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xU=5e3;function dT(){n1()&&(setTimeout(function(){return RU()},0),setTimeout(function(){return NU()},0),setTimeout(function(){return OU()},0))}function NU(){for(var t=yr.getInstance(),e=t.getEntriesByType("resource"),n=0,r=e;n<r.length;n++){var s=r[n];pT(s)}t.setupObserver("resource",pT)}function RU(){var t=yr.getInstance(),e=t.getEntriesByType("navigation"),n=t.getEntriesByType("paint");if(t.onFirstInputDelay){var r=setTimeout(function(){lg.createOobTrace(e,n),r=void 0},xU);t.onFirstInputDelay(function(s){r&&(clearTimeout(r),lg.createOobTrace(e,n,s))})}else lg.createOobTrace(e,n)}function OU(){for(var t=yr.getInstance(),e=t.getEntriesByType("measure"),n=0,r=e;n<r.length;n++){var s=r[n];vT(s)}t.setupObserver("measure",vT)}function vT(t){var e=t.name;e.substring(0,iE.length)!==iE&&lg.createUserTimingTrace(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var PU=function(){function t(e){this.app=e,yr.getInstance().requiredApisAvailable()&&dE().then(function(n){n&&(dU(),eN().then(dT,dT))}).catch(function(n){Aa.info("Environment doesn't support IndexedDB: "+n)})}return t.prototype.trace=function(e){return new lg(e)},Object.defineProperty(t.prototype,"instrumentationEnabled",{get:function(){return On.getInstance().instrumentationEnabled},set:function(e){On.getInstance().instrumentationEnabled=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataCollectionEnabled",{get:function(){return On.getInstance().dataCollectionEnabled},set:function(e){On.getInstance().dataCollectionEnabled=e},enumerable:!1,configurable:!0}),t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var DU="[DEFAULT]";function LU(t){var e=function(n,r){if(n.name!==DU)throw hr.create("FB not default");if(typeof window>"u")throw hr.create("no window");return W4(window),On.getInstance().firebaseAppInstance=n,On.getInstance().installationsService=r,new PU(n)};t.INTERNAL.registerComponent(new ms("performance",function(n){var r=n.getProvider("app").getImmediate(),s=n.getProvider("installations").getImmediate();return e(r,s)},"PUBLIC")),t.registerVersion(j4,qx)}LU(Z);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var MU="firebase_id",FU="origin",UU=60*1e3,jU="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",iN="https://www.googletagmanager.com/gtag/js",br;(function(t){t.EVENT="event",t.SET="set",t.CONFIG="config"})(br||(br={}));var oE;(function(t){t.ADD_SHIPPING_INFO="add_shipping_info",t.ADD_PAYMENT_INFO="add_payment_info",t.ADD_TO_CART="add_to_cart",t.ADD_TO_WISHLIST="add_to_wishlist",t.BEGIN_CHECKOUT="begin_checkout",t.CHECKOUT_PROGRESS="checkout_progress",t.EXCEPTION="exception",t.GENERATE_LEAD="generate_lead",t.LOGIN="login",t.PAGE_VIEW="page_view",t.PURCHASE="purchase",t.REFUND="refund",t.REMOVE_FROM_CART="remove_from_cart",t.SCREEN_VIEW="screen_view",t.SEARCH="search",t.SELECT_CONTENT="select_content",t.SELECT_ITEM="select_item",t.SELECT_PROMOTION="select_promotion",t.SET_CHECKOUT_OPTION="set_checkout_option",t.SHARE="share",t.SIGN_UP="sign_up",t.TIMING_COMPLETE="timing_complete",t.VIEW_CART="view_cart",t.VIEW_ITEM="view_item",t.VIEW_ITEM_LIST="view_item_list",t.VIEW_PROMOTION="view_promotion",t.VIEW_SEARCH_RESULTS="view_search_results"})(oE||(oE={}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VU(t,e,n,r,s){return B(this,void 0,void 0,function(){var a,c;return j(this,function(h){switch(h.label){case 0:return s&&s.global?(t(br.EVENT,n,r),[2]):[3,1];case 1:return[4,e];case 2:a=h.sent(),c=$t($t({},r),{send_to:a}),t(br.EVENT,n,c),h.label=3;case 3:return[2]}})})}function BU(t,e,n,r){return B(this,void 0,void 0,function(){var s;return j(this,function(a){switch(a.label){case 0:return r&&r.global?(t(br.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:s=a.sent(),t(br.CONFIG,s,{update:!0,screen_name:n}),a.label=3;case 3:return[2]}})})}function qU(t,e,n,r){return B(this,void 0,void 0,function(){var s;return j(this,function(a){switch(a.label){case 0:return r&&r.global?(t(br.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:s=a.sent(),t(br.CONFIG,s,{update:!0,user_id:n}),a.label=3;case 3:return[2]}})})}function GU(t,e,n,r){return B(this,void 0,void 0,function(){var s,a,c,h,d;return j(this,function(g){switch(g.label){case 0:if(!(r&&r.global))return[3,1];for(s={},a=0,c=Object.keys(n);a<c.length;a++)h=c[a],s["user_properties."+h]=n[h];return t(br.SET,s),[2,Promise.resolve()];case 1:return[4,e];case 2:d=g.sent(),t(br.CONFIG,d,{update:!0,user_properties:n}),g.label=3;case 3:return[2]}})})}function WU(t,e){return B(this,void 0,void 0,function(){var n;return j(this,function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),window["ga-disable-"+n]=!e,[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rr=new Up("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HU(t){var e=document.createElement("script");e.src=iN+"?l="+t,e.async=!0,document.head.appendChild(e)}function zU(t){var e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}function KU(t,e,n,r,s,a){return B(this,void 0,void 0,function(){var c,h,d,g;return j(this,function(y){switch(y.label){case 0:c=r[s],y.label=1;case 1:return y.trys.push([1,7,,8]),c?[4,e[c]]:[3,3];case 2:return y.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return h=y.sent(),d=h.find(function(E){return E.measurementId===s}),d?[4,e[d.appId]]:[3,6];case 5:y.sent(),y.label=6;case 6:return[3,8];case 7:return g=y.sent(),rr.error(g),[3,8];case 8:return t(br.CONFIG,s,a),[2]}})})}function YU(t,e,n,r,s){return B(this,void 0,void 0,function(){var a,c,h,d,g,y,E,I,T;return j(this,function(x){switch(x.label){case 0:return x.trys.push([0,4,,5]),a=[],s&&s.send_to?(c=s.send_to,Array.isArray(c)||(c=[c]),[4,Promise.all(n)]):[3,2];case 1:for(h=x.sent(),d=function(A){var N=h.find(function(L){return L.measurementId===A}),D=N&&e[N.appId];if(D)a.push(D);else return a=[],"break"},g=0,y=c;g<y.length&&(E=y[g],I=d(E),I!=="break");g++);x.label=2;case 2:return a.length===0&&(a=Object.values(e)),[4,Promise.all(a)];case 3:return x.sent(),t(br.EVENT,r,s||{}),[3,5];case 4:return T=x.sent(),rr.error(T),[3,5];case 5:return[2]}})})}function XU(t,e,n,r){function s(a,c,h){return B(this,void 0,void 0,function(){var d;return j(this,function(g){switch(g.label){case 0:return g.trys.push([0,6,,7]),a!==br.EVENT?[3,2]:[4,YU(t,e,n,c,h)];case 1:return g.sent(),[3,5];case 2:return a!==br.CONFIG?[3,4]:[4,KU(t,e,n,r,c,h)];case 3:return g.sent(),[3,5];case 4:t(br.SET,c),g.label=5;case 5:return[3,7];case 6:return d=g.sent(),rr.error(d),[3,7];case 7:return[2]}})})}return s}function $U(t,e,n,r,s){var a=function(){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(a=window[s]),window[s]=XU(a,t,e,n),{gtagCore:a,wrappedGtag:window[s]}}function QU(){for(var t=window.document.getElementsByTagName("script"),e=0,n=Object.values(t);e<n.length;e++){var r=n[e];if(r.src&&r.src.includes(iN))return r}return null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var So,JU=(So={},So["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",So["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",So["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",So["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",So["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",So["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",So["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",So["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',So["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',So),qi=new Vp("analytics","Analytics",JU);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ZU=30,ej=1e3,tj=function(){function t(e,n){e===void 0&&(e={}),n===void 0&&(n=ej),this.throttleMetadata=e,this.intervalMillis=n}return t.prototype.getThrottleMetadata=function(e){return this.throttleMetadata[e]},t.prototype.setThrottleMetadata=function(e,n){this.throttleMetadata[e]=n},t.prototype.deleteThrottleMetadata=function(e){delete this.throttleMetadata[e]},t}(),oN=new tj;function nj(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function rj(t){var e;return B(this,void 0,void 0,function(){var n,r,s,a,c,h,d;return j(this,function(g){switch(g.label){case 0:return n=t.appId,r=t.apiKey,s={method:"GET",headers:nj(r)},a=jU.replace("{app-id}",n),[4,fetch(a,s)];case 1:if(c=g.sent(),!(c.status!==200&&c.status!==304))return[3,6];h="",g.label=2;case 2:return g.trys.push([2,4,,5]),[4,c.json()];case 3:return d=g.sent(),!((e=d.error)===null||e===void 0)&&e.message&&(h=d.error.message),[3,5];case 4:return g.sent(),[3,5];case 5:throw qi.create("config-fetch-failed",{httpStatus:c.status,responseMessage:h});case 6:return[2,c.json()]}})})}function ij(t,e,n){return e===void 0&&(e=oN),B(this,void 0,void 0,function(){var r,s,a,c,h,d,g=this;return j(this,function(y){if(r=t.options,s=r.appId,a=r.apiKey,c=r.measurementId,!s)throw qi.create("no-app-id");if(!a){if(c)return[2,{measurementId:c,appId:s}];throw qi.create("no-api-key")}return h=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},d=new aj,setTimeout(function(){return B(g,void 0,void 0,function(){return j(this,function(E){return d.abort(),[2]})})},UU),[2,sN({appId:s,apiKey:a,measurementId:c},h,d,e)]})})}function sN(t,e,n,r){var s=e.throttleEndTimeMillis,a=e.backoffCount;return r===void 0&&(r=oN),B(this,void 0,void 0,function(){var c,h,d,g,y,E,I;return j(this,function(T){switch(T.label){case 0:c=t.appId,h=t.measurementId,T.label=1;case 1:return T.trys.push([1,3,,4]),[4,oj(n,s)];case 2:return T.sent(),[3,4];case 3:if(d=T.sent(),h)return rr.warn("Timed out fetching this Firebase app's measurement ID from the server."+(" Falling back to the measurement ID "+h)+(' provided in the "measurementId" field in the local Firebase config. ['+d.message+"]")),[2,{appId:c,measurementId:h}];throw d;case 4:return T.trys.push([4,6,,7]),[4,rj(t)];case 5:return g=T.sent(),r.deleteThrottleMetadata(c),[2,g];case 6:if(y=T.sent(),!sj(y)){if(r.deleteThrottleMetadata(c),h)return rr.warn("Failed to fetch this Firebase app's measurement ID from the server."+(" Falling back to the measurement ID "+h)+(' provided in the "measurementId" field in the local Firebase config. ['+y.message+"]")),[2,{appId:c,measurementId:h}];throw y}return E=Number(y.httpStatus)===503?y_(a,r.intervalMillis,ZU):y_(a,r.intervalMillis),I={throttleEndTimeMillis:Date.now()+E,backoffCount:a+1},r.setThrottleMetadata(c,I),rr.debug("Calling attemptFetch again in "+E+" millis"),[2,sN(t,I,n,r)];case 7:return[2]}})})}function oj(t,e){return new Promise(function(n,r){var s=Math.max(e-Date.now(),0),a=setTimeout(n,s);t.addEventListener(function(){clearTimeout(a),r(qi.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function sj(t){if(!(t instanceof Rg))return!1;var e=Number(t.httpStatus);return e===429||e===500||e===503||e===504}var aj=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(e){this.listeners.push(e)},t.prototype.abort=function(){this.listeners.forEach(function(e){return e()})},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uj(){return B(this,void 0,void 0,function(){var t;return j(this,function(e){switch(e.label){case 0:return pE()?[3,1]:(rr.warn(qi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return e.trys.push([1,3,,4]),[4,dE()];case 2:return e.sent(),[3,4];case 3:return t=e.sent(),rr.warn(qi.create("indexeddb-unavailable",{errorInfo:t}).message),[2,!1];case 4:return[2,!0]}})})}function lj(t,e,n,r,s){return B(this,void 0,void 0,function(){var a,c,h,d,g,y,E;return j(this,function(I){switch(I.label){case 0:return a=ij(t),a.then(function(T){n[T.measurementId]=T.appId,t.options.measurementId&&T.measurementId!==t.options.measurementId&&rr.warn("The measurement ID in the local Firebase config ("+t.options.measurementId+")"+(" does not match the measurement ID fetched from the server ("+T.measurementId+").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")}).catch(function(T){return rr.error(T)}),e.push(a),c=uj().then(function(T){if(T)return r.getId()}),[4,Promise.all([a,c])];case 1:return h=I.sent(),d=h[0],g=h[1],s("js",new Date),y=(E={},E[FU]="firebase",E.update=!0,E),g!=null&&(y[MU]=g),s(br.CONFIG,d.measurementId,y),[2,d.measurementId]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ha={},gT=[],mT={},kb="dataLayer",aN="gtag",yT,tg,sE=!1;function cj(t){if(sE)throw qi.create("already-initialized");t.dataLayerName&&(kb=t.dataLayerName),t.gtagName&&(aN=t.gtagName)}function fj(){var t=[];if(hE()&&t.push("This is a browser extension environment."),BT()||t.push("Cookies are not available."),t.length>0){var e=t.map(function(r,s){return"("+(s+1)+") "+r}).join(" "),n=qi.create("invalid-analytics-context",{errorInfo:e});rr.warn(n.message)}}function hj(t,e){fj();var n=t.options.appId;if(!n)throw qi.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)rr.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+(" measurement ID for this Firebase app. Falling back to the measurement ID "+t.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.');else throw qi.create("no-api-key");if(ha[n]!=null)throw qi.create("already-exists",{id:n});if(!sE){QU()||HU(kb),zU(kb);var r=$U(ha,gT,mT,kb,aN),s=r.wrappedGtag,a=r.gtagCore;tg=s,yT=a,sE=!0}ha[n]=lj(t,gT,mT,e,yT);var c={app:t,logEvent:function(h,d,g){VU(tg,ha[n],h,d,g).catch(function(y){return rr.error(y)})},setCurrentScreen:function(h,d){BU(tg,ha[n],h,d).catch(function(g){return rr.error(g)})},setUserId:function(h,d){qU(tg,ha[n],h,d).catch(function(g){return rr.error(g)})},setUserProperties:function(h,d){GU(tg,ha[n],h,d).catch(function(g){return rr.error(g)})},setAnalyticsCollectionEnabled:function(h){WU(ha[n],h).catch(function(d){return rr.error(d)})},INTERNAL:{delete:function(){return delete ha[n],Promise.resolve()}}};return c}var pj="@firebase/analytics",dj="0.6.0",bT="analytics";function vj(t){t.INTERNAL.registerComponent(new ms(bT,function(n){var r=n.getProvider("app").getImmediate(),s=n.getProvider("installations").getImmediate();return hj(r,s)},"PUBLIC").setServiceProps({settings:cj,EventName:oE,isSupported:gj})),t.INTERNAL.registerComponent(new ms("analytics-internal",e,"PRIVATE")),t.registerVersion(pj,dj);function e(n){try{var r=n.getProvider(bT).getImmediate();return{logEvent:r.logEvent}}catch(s){throw qi.create("interop-component-reg-failed",{reason:s})}}}vj(Z);function gj(){return B(this,void 0,void 0,function(){var t;return j(this,function(e){switch(e.label){case 0:if(hE())return[2,!1];if(!BT())return[2,!1];if(!pE())return[2,!1];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,dE()];case 2:return t=e.sent(),[2,t];case 3:return e.sent(),[2,!1];case 4:return[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mj=function(){function t(e,n,r,s){this.client=e,this.storage=n,this.storageCache=r,this.logger=s}return t.prototype.isCachedDataFresh=function(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var r=Date.now()-n,s=r<=e;return this.logger.debug("Config fetch cache check."+(" Cache age millis: "+r+".")+(" Cache max age millis (minimumFetchIntervalMillis setting): "+e+".")+(" Is cache hit: "+s+".")),s},t.prototype.fetch=function(e){return B(this,void 0,void 0,function(){var n,r,s,a,c;return j(this,function(h){switch(h.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return n=h.sent(),r=n[0],s=n[1],s&&this.isCachedDataFresh(e.cacheMaxAgeMillis,r)?[2,s]:(e.eTag=s&&s.eTag,[4,this.client.fetch(e)]);case 2:return a=h.sent(),c=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],a.status===200&&c.push(this.storage.setLastSuccessfulFetchResponse(a)),[4,Promise.all(c)];case 3:return h.sent(),[2,a]}})})},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nr,yj=(Nr={},Nr["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",Nr["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",Nr["registration-api-key"]="Undefined API key. Check Firebase app initialization.",Nr["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",Nr["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",Nr["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",Nr["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",Nr["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",Nr["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",Nr["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',Nr["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',Nr["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",Nr["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",Nr),Vi=new Vp("remoteconfig","Remote Config",yj);function bj(t,e){return t instanceof Rg&&t.code.indexOf(e)!==-1}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wj(t){return t===void 0&&(t=navigator),t.languages&&t.languages[0]||t.language}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _j=function(){function t(e,n,r,s,a,c){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=s,this.apiKey=a,this.appId=c}return t.prototype.fetch=function(e){return B(this,void 0,void 0,function(){var n,r,s,a,c,h,d,g,y,E,I,T,x,A,N,D,L,H,X;return j(this,function(z){switch(z.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:n=z.sent(),r=n[0],s=n[1],a=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",c=a+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,h={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},d={sdk_version:this.sdkVersion,app_instance_id:r,app_instance_id_token:s,app_id:this.appId,language_code:wj()},g={method:"POST",headers:h,body:JSON.stringify(d)},y=fetch(c,g),E=new Promise(function(P,Be){e.signal.addEventListener(function(){var Ae=new Error("The operation was aborted.");Ae.name="AbortError",Be(Ae)})}),z.label=2;case 2:return z.trys.push([2,5,,6]),[4,Promise.race([y,E])];case 3:return z.sent(),[4,y];case 4:return I=z.sent(),[3,6];case 5:throw T=z.sent(),x="fetch-client-network",T.name==="AbortError"&&(x="fetch-timeout"),Vi.create(x,{originalErrorMessage:T.message});case 6:if(A=I.status,N=I.headers.get("ETag")||void 0,I.status!==200)return[3,11];H=void 0,z.label=7;case 7:return z.trys.push([7,9,,10]),[4,I.json()];case 8:return H=z.sent(),[3,10];case 9:throw X=z.sent(),Vi.create("fetch-client-parse",{originalErrorMessage:X.message});case 10:D=H.entries,L=H.state,z.label=11;case 11:if(L==="INSTANCE_STATE_UNSPECIFIED"?A=500:L==="NO_CHANGE"?A=304:(L==="NO_TEMPLATE"||L==="EMPTY_CONFIG")&&(D={}),A!==304&&A!==200)throw Vi.create("fetch-status",{httpStatus:A});return[2,{status:A,eTag:N,config:D}]}})})},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ej=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(e){this.listeners.push(e)},t.prototype.abort=function(){this.listeners.forEach(function(e){return e()})},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ij=!1,Sj="",wT=0,Tj=["1","true","t","yes","y","on"],p_=function(){function t(e,n){n===void 0&&(n=Sj),this._source=e,this._value=n}return t.prototype.asString=function(){return this._value},t.prototype.asBoolean=function(){return this._source==="static"?Ij:Tj.indexOf(this._value.toLowerCase())>=0},t.prototype.asNumber=function(){if(this._source==="static")return wT;var e=Number(this._value);return isNaN(e)&&(e=wT),e},t.prototype.getSource=function(){return this._source},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Aj=60*1e3,Cj=12*60*60*1e3,kj=function(){function t(e,n,r,s,a){this.app=e,this._client=n,this._storageCache=r,this._storage=s,this._logger=a,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:Aj,minimumFetchIntervalMillis:Cj},this.defaultConfig={}}return t.prototype.setLogLevel=function(e){switch(e){case"debug":this._logger.logLevel=Le.DEBUG;break;case"silent":this._logger.logLevel=Le.SILENT;break;default:this._logger.logLevel=Le.ERROR}},Object.defineProperty(t.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),t.prototype.activate=function(){return B(this,void 0,void 0,function(){var e,n,r;return j(this,function(s){switch(s.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return e=s.sent(),n=e[0],r=e[1],!n||!n.config||!n.eTag||n.eTag===r?[2,!1]:[4,Promise.all([this._storageCache.setActiveConfig(n.config),this._storage.setActiveConfigEtag(n.eTag)])];case 2:return s.sent(),[2,!0]}})})},t.prototype.ensureInitialized=function(){var e=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then(function(){e._isInitializationComplete=!0})),this._initializePromise},t.prototype.fetch=function(){return B(this,void 0,void 0,function(){var e,n,r,s=this;return j(this,function(a){switch(a.label){case 0:e=new Ej,setTimeout(function(){return B(s,void 0,void 0,function(){return j(this,function(c){return e.abort(),[2]})})},this.settings.fetchTimeoutMillis),a.label=1;case 1:return a.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:e})];case 2:return a.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return a.sent(),[3,6];case 4:return n=a.sent(),r=bj(n,"fetch-throttle")?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(r)];case 5:throw a.sent(),n;case 6:return[2]}})})},t.prototype.fetchAndActivate=function(){return B(this,void 0,void 0,function(){return j(this,function(e){switch(e.label){case 0:return[4,this.fetch()];case 1:return e.sent(),[2,this.activate()]}})})},t.prototype.getAll=function(){var e=this;return xj(this._storageCache.getActiveConfig(),this.defaultConfig).reduce(function(n,r){return n[r]=e.getValue(r),n},{})},t.prototype.getBoolean=function(e){return this.getValue(e).asBoolean()},t.prototype.getNumber=function(e){return this.getValue(e).asNumber()},t.prototype.getString=function(e){return this.getValue(e).asString()},t.prototype.getValue=function(e){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+e+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var n=this._storageCache.getActiveConfig();return n&&n[e]!==void 0?new p_("remote",n[e]):this.defaultConfig&&this.defaultConfig[e]!==void 0?new p_("default",String(this.defaultConfig[e])):(this._logger.debug('Returning static value for key "'+e+'". Define a default or remote value if this is unintentional.'),new p_("static"))},t}();function xj(t,e){return t===void 0&&(t={}),e===void 0&&(e={}),Object.keys($t($t({},t),e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xb(t,e){var n=t.target.error||void 0;return Vi.create(e,{originalErrorMessage:n&&n.message})}var Mc="app_namespace_store",Nj="firebase_remote_config",Rj=1;function Oj(){return new Promise(function(t,e){var n=indexedDB.open(Nj,Rj);n.onerror=function(r){e(xb(r,"storage-open"))},n.onsuccess=function(r){t(r.target.result)},n.onupgradeneeded=function(r){var s=r.target.result;switch(r.oldVersion){case 0:s.createObjectStore(Mc,{keyPath:"compositeKey"})}}})}var Pj=function(){function t(e,n,r,s){s===void 0&&(s=Oj()),this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=s}return t.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},t.prototype.setLastFetchStatus=function(e){return this.set("last_fetch_status",e)},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},t.prototype.setLastSuccessfulFetchTimestampMillis=function(e){return this.set("last_successful_fetch_timestamp_millis",e)},t.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},t.prototype.setLastSuccessfulFetchResponse=function(e){return this.set("last_successful_fetch_response",e)},t.prototype.getActiveConfig=function(){return this.get("active_config")},t.prototype.setActiveConfig=function(e){return this.set("active_config",e)},t.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},t.prototype.setActiveConfigEtag=function(e){return this.set("active_config_etag",e)},t.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},t.prototype.setThrottleMetadata=function(e){return this.set("throttle_metadata",e)},t.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},t.prototype.get=function(e){return B(this,void 0,void 0,function(){var n,r=this;return j(this,function(s){switch(s.label){case 0:return[4,this.openDbPromise];case 1:return n=s.sent(),[2,new Promise(function(a,c){var h=n.transaction([Mc],"readonly"),d=h.objectStore(Mc),g=r.createCompositeKey(e);try{var y=d.get(g);y.onerror=function(E){c(xb(E,"storage-get"))},y.onsuccess=function(E){var I=E.target.result;a(I?I.value:void 0)}}catch(E){c(Vi.create("storage-get",{originalErrorMessage:E&&E.message}))}})]}})})},t.prototype.set=function(e,n){return B(this,void 0,void 0,function(){var r,s=this;return j(this,function(a){switch(a.label){case 0:return[4,this.openDbPromise];case 1:return r=a.sent(),[2,new Promise(function(c,h){var d=r.transaction([Mc],"readwrite"),g=d.objectStore(Mc),y=s.createCompositeKey(e);try{var E=g.put({compositeKey:y,value:n});E.onerror=function(I){h(xb(I,"storage-set"))},E.onsuccess=function(){c()}}catch(I){h(Vi.create("storage-set",{originalErrorMessage:I&&I.message}))}})]}})})},t.prototype.delete=function(e){return B(this,void 0,void 0,function(){var n,r=this;return j(this,function(s){switch(s.label){case 0:return[4,this.openDbPromise];case 1:return n=s.sent(),[2,new Promise(function(a,c){var h=n.transaction([Mc],"readwrite"),d=h.objectStore(Mc),g=r.createCompositeKey(e);try{var y=d.delete(g);y.onerror=function(E){c(xb(E,"storage-delete"))},y.onsuccess=function(){a()}}catch(E){c(Vi.create("storage-delete",{originalErrorMessage:E&&E.message}))}})]}})})},t.prototype.createCompositeKey=function(e){return[this.appId,this.appName,this.namespace,e].join()},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dj=function(){function t(e){this.storage=e}return t.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},t.prototype.getActiveConfig=function(){return this.activeConfig},t.prototype.loadFromStorage=function(){return B(this,void 0,void 0,function(){var e,n,r,s,a,c;return j(this,function(h){switch(h.label){case 0:return e=this.storage.getLastFetchStatus(),n=this.storage.getLastSuccessfulFetchTimestampMillis(),r=this.storage.getActiveConfig(),[4,e];case 1:return s=h.sent(),s&&(this.lastFetchStatus=s),[4,n];case 2:return a=h.sent(),a&&(this.lastSuccessfulFetchTimestampMillis=a),[4,r];case 3:return c=h.sent(),c&&(this.activeConfig=c),[2]}})})},t.prototype.setLastFetchStatus=function(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)},t.prototype.setLastSuccessfulFetchTimestampMillis=function(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)},t.prototype.setActiveConfig=function(e){return this.activeConfig=e,this.storage.setActiveConfig(e)},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lj(t,e){return new Promise(function(n,r){var s=Math.max(e-Date.now(),0),a=setTimeout(n,s);t.addEventListener(function(){clearTimeout(a),r(Vi.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Mj(t){if(!(t instanceof Rg))return!1;var e=Number(t.httpStatus);return e===429||e===500||e===503||e===504}var Fj=function(){function t(e,n){this.client=e,this.storage=n}return t.prototype.fetch=function(e){return B(this,void 0,void 0,function(){var n;return j(this,function(r){switch(r.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return n=r.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(e,n)]}})})},t.prototype.attemptFetch=function(e,n){var r=n.throttleEndTimeMillis,s=n.backoffCount;return B(this,void 0,void 0,function(){var a,c,h;return j(this,function(d){switch(d.label){case 0:return[4,Lj(e.signal,r)];case 1:d.sent(),d.label=2;case 2:return d.trys.push([2,5,,7]),[4,this.client.fetch(e)];case 3:return a=d.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return d.sent(),[2,a];case 5:if(c=d.sent(),!Mj(c))throw c;return h={throttleEndTimeMillis:Date.now()+y_(s),backoffCount:s+1},[4,this.storage.setThrottleMetadata(h)];case 6:return d.sent(),[2,this.attemptFetch(e,h)];case 7:return[2]}})})},t}(),_T="@firebase/remote-config",Uj="0.1.28";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jj(t){t.INTERNAL.registerComponent(new ms("remoteConfig",e,"PUBLIC").setMultipleInstances(!0)),t.registerVersion(_T,Uj);function e(n,r){var s=n.getProvider("app").getImmediate(),a=n.getProvider("installations").getImmediate();if(typeof window>"u")throw Vi.create("registration-window");var c=s.options,h=c.projectId,d=c.apiKey,g=c.appId;if(!h)throw Vi.create("registration-project-id");if(!d)throw Vi.create("registration-api-key");if(!g)throw Vi.create("registration-app-id");r=r||"firebase";var y=new Pj(g,s.name,r),E=new Dj(y),I=new Up(_T);I.logLevel=Le.ERROR;var T=new _j(a,t.SDK_VERSION,r,h,d,g),x=new Fj(T,y),A=new mj(x,y,E,I),N=new kj(s,A,E,y,I);return N.ensureInitialized(),N}}jj(Z);var Vj="firebase",Bj="7.24.0";/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Z.registerVersion(Vj,Bj,"app");var qj="firebase",Gj="7.24.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */console.warn(`
It looks like you're using the development build of the Firebase JS SDK.
When deploying Firebase apps to production, it is advisable to only import
the individual SDK components you intend to use.

For the module builds, these are available in the following manner
(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):

CommonJS Modules:
const firebase = require('firebase/app');
require('firebase/<PACKAGE>');

ES Modules:
import firebase from 'firebase/app';
import 'firebase/<PACKAGE>';

Typescript:
import * as firebase from 'firebase/app';
import 'firebase/<PACKAGE>';
`);Z.registerVersion(qj,Gj);var Wj="firebase",Hj="7.24.0";/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Z.registerVersion(Wj,Hj,"app");var d_={exports:{}},ET;function zj(){return ET||(ET=1,function(t){(function(){var e=window.CustomEvent;(!e||typeof e=="object")&&(e=function(N,D){D=D||{};var L=document.createEvent("CustomEvent");return L.initCustomEvent(N,!!D.bubbles,!!D.cancelable,D.detail||null),L},e.prototype=window.Event.prototype);function n(A){for(;A&&A!==document.body;){var N=window.getComputedStyle(A),D=function(L,H){return!(N[L]===void 0||N[L]===H)};if(N.opacity<1||D("zIndex","auto")||D("transform","none")||D("mixBlendMode","normal")||D("filter","none")||D("perspective","none")||N.isolation==="isolate"||N.position==="fixed"||N.webkitOverflowScrolling==="touch")return!0;A=A.parentElement}return!1}function r(A){for(;A;){if(A.localName==="dialog")return A;A=A.parentElement}return null}function s(A){A&&A.blur&&A!==document.body&&A.blur()}function a(A,N){for(var D=0;D<A.length;++D)if(A[D]===N)return!0;return!1}function c(A){return!A||!A.hasAttribute("method")?!1:A.getAttribute("method").toLowerCase()==="dialog"}function h(A){if(this.dialog_=A,this.replacedStyleTop_=!1,this.openAsModal_=!1,A.hasAttribute("role")||A.setAttribute("role","dialog"),A.show=this.show.bind(this),A.showModal=this.showModal.bind(this),A.close=this.close.bind(this),"returnValue"in A||(A.returnValue=""),"MutationObserver"in window){var N=new MutationObserver(this.maybeHideModal.bind(this));N.observe(A,{attributes:!0,attributeFilter:["open"]})}else{var D=!1,L=(function(){D?this.downgradeModal():this.maybeHideModal(),D=!1}).bind(this),H,X=function(z){if(z.target===A){var P="DOMNodeRemoved";D|=z.type.substr(0,P.length)===P,window.clearTimeout(H),H=window.setTimeout(L,0)}};["DOMAttrModified","DOMNodeRemoved","DOMNodeRemovedFromDocument"].forEach(function(z){A.addEventListener(z,X)})}Object.defineProperty(A,"open",{set:this.setOpen.bind(this),get:A.hasAttribute.bind(A,"open")}),this.backdrop_=document.createElement("div"),this.backdrop_.className="backdrop",this.backdrop_.addEventListener("click",this.backdropClick_.bind(this))}h.prototype={get dialog(){return this.dialog_},maybeHideModal:function(){this.dialog_.hasAttribute("open")&&document.body.contains(this.dialog_)||this.downgradeModal()},downgradeModal:function(){this.openAsModal_&&(this.openAsModal_=!1,this.dialog_.style.zIndex="",this.replacedStyleTop_&&(this.dialog_.style.top="",this.replacedStyleTop_=!1),this.backdrop_.parentNode&&this.backdrop_.parentNode.removeChild(this.backdrop_),d.dm.removeDialog(this))},setOpen:function(A){A?this.dialog_.hasAttribute("open")||this.dialog_.setAttribute("open",""):(this.dialog_.removeAttribute("open"),this.maybeHideModal())},backdropClick_:function(A){if(this.dialog_.hasAttribute("tabindex"))this.dialog_.focus();else{var N=document.createElement("div");this.dialog_.insertBefore(N,this.dialog_.firstChild),N.tabIndex=-1,N.focus(),this.dialog_.removeChild(N)}var D=document.createEvent("MouseEvents");D.initMouseEvent(A.type,A.bubbles,A.cancelable,window,A.detail,A.screenX,A.screenY,A.clientX,A.clientY,A.ctrlKey,A.altKey,A.shiftKey,A.metaKey,A.button,A.relatedTarget),this.dialog_.dispatchEvent(D),A.stopPropagation()},focus_:function(){var A=this.dialog_.querySelector("[autofocus]:not([disabled])");if(!A&&this.dialog_.tabIndex>=0&&(A=this.dialog_),!A){var N=["button","input","keygen","select","textarea"],D=N.map(function(L){return L+":not([disabled])"});D.push('[tabindex]:not([disabled]):not([tabindex=""])'),A=this.dialog_.querySelector(D.join(", "))}s(document.activeElement),A&&A.focus()},updateZIndex:function(A,N){if(A<N)throw new Error("dialogZ should never be < backdropZ");this.dialog_.style.zIndex=A,this.backdrop_.style.zIndex=N},show:function(){this.dialog_.open||(this.setOpen(!0),this.focus_())},showModal:function(){if(this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'showModal' on dialog: The element is already open, and therefore cannot be opened modally.");if(!document.body.contains(this.dialog_))throw new Error("Failed to execute 'showModal' on dialog: The element is not in a Document.");if(!d.dm.pushDialog(this))throw new Error("Failed to execute 'showModal' on dialog: There are too many open modal dialogs.");n(this.dialog_.parentElement)&&console.warn("A dialog is being shown inside a stacking context. This may cause it to be unusable. For more information, see this link: https://github.com/GoogleChrome/dialog-polyfill/#stacking-context"),this.setOpen(!0),this.openAsModal_=!0,d.needsCentering(this.dialog_)?(d.reposition(this.dialog_),this.replacedStyleTop_=!0):this.replacedStyleTop_=!1,this.dialog_.parentNode.insertBefore(this.backdrop_,this.dialog_.nextSibling),this.focus_()},close:function(A){if(!this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'close' on dialog: The element does not have an 'open' attribute, and therefore cannot be closed.");this.setOpen(!1),A!==void 0&&(this.dialog_.returnValue=A);var N=new e("close",{bubbles:!1,cancelable:!1});this.dialog_.dispatchEvent(N)}};var d={};if(d.reposition=function(A){var N=document.body.scrollTop||document.documentElement.scrollTop,D=N+(window.innerHeight-A.offsetHeight)/2;A.style.top=Math.max(N,D)+"px"},d.isInlinePositionSetByStylesheet=function(A){for(var N=0;N<document.styleSheets.length;++N){var D=document.styleSheets[N],L=null;try{L=D.cssRules}catch{}if(L)for(var H=0;H<L.length;++H){var X=L[H],z=null;try{z=document.querySelectorAll(X.selectorText)}catch{}if(!(!z||!a(z,A))){var P=X.style.getPropertyValue("top"),Be=X.style.getPropertyValue("bottom");if(P&&P!=="auto"||Be&&Be!=="auto")return!0}}}return!1},d.needsCentering=function(A){var N=window.getComputedStyle(A);return N.position!=="absolute"||A.style.top!=="auto"&&A.style.top!==""||A.style.bottom!=="auto"&&A.style.bottom!==""?!1:!d.isInlinePositionSetByStylesheet(A)},d.forceRegisterDialog=function(A){if((window.HTMLDialogElement||A.showModal)&&console.warn("This browser already supports <dialog>, the polyfill may not work correctly",A),A.localName!=="dialog")throw new Error("Failed to register dialog: The element is not a dialog.");new h(A)},d.registerDialog=function(A){A.showModal||d.forceRegisterDialog(A)},d.DialogManager=function(){this.pendingDialogStack=[];var A=this.checkDOM_.bind(this);this.overlay=document.createElement("div"),this.overlay.className="_dialog_overlay",this.overlay.addEventListener("click",(function(N){this.forwardTab_=void 0,N.stopPropagation(),A([])}).bind(this)),this.handleKey_=this.handleKey_.bind(this),this.handleFocus_=this.handleFocus_.bind(this),this.zIndexLow_=1e5,this.zIndexHigh_=100150,this.forwardTab_=void 0,"MutationObserver"in window&&(this.mo_=new MutationObserver(function(N){var D=[];N.forEach(function(L){for(var H=0,X;X=L.removedNodes[H];++H){if(X instanceof Element)X.localName==="dialog"&&D.push(X);else continue;D=D.concat(X.querySelectorAll("dialog"))}}),D.length&&A(D)}))},d.DialogManager.prototype.blockDocument=function(){document.documentElement.addEventListener("focus",this.handleFocus_,!0),document.addEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.observe(document,{childList:!0,subtree:!0})},d.DialogManager.prototype.unblockDocument=function(){document.documentElement.removeEventListener("focus",this.handleFocus_,!0),document.removeEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.disconnect()},d.DialogManager.prototype.updateStacking=function(){for(var A=this.zIndexHigh_,N=0,D;D=this.pendingDialogStack[N];++N)D.updateZIndex(--A,--A),N===0&&(this.overlay.style.zIndex=--A);var L=this.pendingDialogStack[0];if(L){var H=L.dialog.parentNode||document.body;H.appendChild(this.overlay)}else this.overlay.parentNode&&this.overlay.parentNode.removeChild(this.overlay)},d.DialogManager.prototype.containedByTopDialog_=function(A){for(;A=r(A);){for(var N=0,D;D=this.pendingDialogStack[N];++N)if(D.dialog===A)return N===0;A=A.parentElement}return!1},d.DialogManager.prototype.handleFocus_=function(A){if(!this.containedByTopDialog_(A.target)&&(A.preventDefault(),A.stopPropagation(),s(A.target),this.forwardTab_!==void 0)){var N=this.pendingDialogStack[0],D=N.dialog,L=D.compareDocumentPosition(A.target);return L&Node.DOCUMENT_POSITION_PRECEDING&&(this.forwardTab_?N.focus_():document.documentElement.focus()),!1}},d.DialogManager.prototype.handleKey_=function(A){if(this.forwardTab_=void 0,A.keyCode===27){A.preventDefault(),A.stopPropagation();var N=new e("cancel",{bubbles:!1,cancelable:!0}),D=this.pendingDialogStack[0];D&&D.dialog.dispatchEvent(N)&&D.dialog.close()}else A.keyCode===9&&(this.forwardTab_=!A.shiftKey)},d.DialogManager.prototype.checkDOM_=function(A){var N=this.pendingDialogStack.slice();N.forEach(function(D){A.indexOf(D.dialog)!==-1?D.downgradeModal():D.maybeHideModal()})},d.DialogManager.prototype.pushDialog=function(A){var N=(this.zIndexHigh_-this.zIndexLow_)/2-1;return this.pendingDialogStack.length>=N?!1:(this.pendingDialogStack.unshift(A)===1&&this.blockDocument(),this.updateStacking(),!0)},d.DialogManager.prototype.removeDialog=function(A){var N=this.pendingDialogStack.indexOf(A);N!==-1&&(this.pendingDialogStack.splice(N,1),this.pendingDialogStack.length===0&&this.unblockDocument(),this.updateStacking())},d.dm=new d.DialogManager,d.formSubmitter=null,d.useValue=null,window.HTMLDialogElement===void 0){var g=document.createElement("form");if(g.setAttribute("method","dialog"),g.method!=="dialog"){var y=Object.getOwnPropertyDescriptor(HTMLFormElement.prototype,"method");if(y){var E=y.get;y.get=function(){return c(this)?"dialog":E.call(this)};var I=y.set;y.set=function(A){return typeof A=="string"&&A.toLowerCase()==="dialog"?this.setAttribute("method",A):I.call(this,A)},Object.defineProperty(HTMLFormElement.prototype,"method",y)}}document.addEventListener("click",function(A){if(d.formSubmitter=null,d.useValue=null,!A.defaultPrevented){var N=A.target;if(!(!N||!c(N.form))){var D=N.type==="submit"&&["button","input"].indexOf(N.localName)>-1;if(!D){if(!(N.localName==="input"&&N.type==="image"))return;d.useValue=A.offsetX+","+A.offsetY}var L=r(N);L&&(d.formSubmitter=N)}}},!1);var T=HTMLFormElement.prototype.submit,x=function(){if(!c(this))return T.call(this);var A=r(this);A&&A.close()};HTMLFormElement.prototype.submit=x,document.addEventListener("submit",function(A){var N=A.target;if(c(N)){A.preventDefault();var D=r(N);if(D){var L=d.formSubmitter;L&&L.form===N?D.close(d.useValue||L.value):D.close(),d.formSubmitter=null}}},!0)}d.forceRegisterDialog=d.forceRegisterDialog,d.registerDialog=d.registerDialog,typeof t.exports=="object"?t.exports=d:window.dialogPolyfill=d})()}(d_)),d_.exports}var Kj=zj();const Yj=DT(Kj);var IT={};/**
 * @license
 * Copyright 2015 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ST;function Xj(){if(ST)return IT;ST=1;var t={upgradeDom:function(e,n){},upgradeElement:function(e,n){},upgradeElements:function(e){},upgradeAllRegistered:function(){},registerUpgradedCallback:function(e,n){},register:function(e){},downgradeElements:function(e){}};return t=function(){var e=[],n=[],r="mdlComponentConfigInternal_";function s(N,D){for(var L=0;L<e.length;L++)if(e[L].className===N)return typeof D<"u"&&(e[L]=D),e[L];return!1}function a(N){var D=N.getAttribute("data-upgraded");return D===null?[""]:D.split(",")}function c(N,D){var L=a(N);return L.indexOf(D)!==-1}function h(N,D,L){if("CustomEvent"in window&&typeof window.CustomEvent=="function")return new CustomEvent(N,{bubbles:D,cancelable:L});var H=document.createEvent("Events");return H.initEvent(N,D,L),H}function d(N,D){if(typeof N>"u"&&typeof D>"u")for(var L=0;L<e.length;L++)d(e[L].className,e[L].cssClass);else{var H=N;if(typeof D>"u"){var X=s(H);X&&(D=X.cssClass)}for(var z=document.querySelectorAll("."+D),P=0;P<z.length;P++)g(z[P],H)}}function g(N,D){if(!(typeof N=="object"&&N instanceof Element))throw new Error("Invalid argument provided to upgrade MDL element.");var L=h("mdl-componentupgrading",!0,!0);if(N.dispatchEvent(L),!L.defaultPrevented){var H=a(N),X=[];if(D)c(N,D)||X.push(s(D));else{var z=N.classList;e.forEach(function(he){z.contains(he.cssClass)&&X.indexOf(he)===-1&&!c(N,he.className)&&X.push(he)})}for(var P=0,Be=X.length,Ae;P<Be;P++){if(Ae=X[P],Ae){H.push(Ae.className),N.setAttribute("data-upgraded",H.join(","));var J=new Ae.classConstructor(N);J[r]=Ae,n.push(J);for(var se=0,re=Ae.callbacks.length;se<re;se++)Ae.callbacks[se](N);Ae.widget&&(N[Ae.className]=J)}else throw new Error("Unable to find a registered component for the given class.");var le=h("mdl-componentupgraded",!0,!1);N.dispatchEvent(le)}}}function y(N){Array.isArray(N)||(N instanceof Element?N=[N]:N=Array.prototype.slice.call(N));for(var D=0,L=N.length,H;D<L;D++)H=N[D],H instanceof HTMLElement&&(g(H),H.children.length>0&&y(H.children))}function E(N){var D=typeof N.widget>"u"&&typeof N.widget>"u",L=!0;D||(L=N.widget||N.widget);var H={classConstructor:N.constructor||N.constructor,className:N.classAsString||N.classAsString,cssClass:N.cssClass||N.cssClass,widget:L,callbacks:[]};if(e.forEach(function(z){if(z.cssClass===H.cssClass)throw new Error("The provided cssClass has already been registered: "+z.cssClass);if(z.className===H.className)throw new Error("The provided className has already been registered")}),N.constructor.prototype.hasOwnProperty(r))throw new Error("MDL component classes must not have "+r+" defined as a property.");var X=s(N.classAsString,H);X||e.push(H)}function I(N,D){var L=s(N);L&&L.callbacks.push(D)}function T(){for(var N=0;N<e.length;N++)d(e[N].className)}function x(N){if(N){var D=n.indexOf(N);n.splice(D,1);var L=N.element_.getAttribute("data-upgraded").split(","),H=L.indexOf(N[r].classAsString);L.splice(H,1),N.element_.setAttribute("data-upgraded",L.join(","));var X=h("mdl-componentdowngraded",!0,!1);N.element_.dispatchEvent(X)}}function A(N){var D=function(H){n.filter(function(X){return X.element_===H}).forEach(x)};if(N instanceof Array||N instanceof NodeList)for(var L=0;L<N.length;L++)D(N[L]);else if(N instanceof Node)D(N);else throw new Error("Invalid argument provided to downgrade MDL nodes.")}return{upgradeDom:d,upgradeElement:g,upgradeElements:y,upgradeAllRegistered:T,registerUpgradedCallback:I,register:E,downgradeElements:A}}(),t.ComponentConfigPublic,t.ComponentConfig,t.Component,t.upgradeDom=t.upgradeDom,t.upgradeElement=t.upgradeElement,t.upgradeElements=t.upgradeElements,t.upgradeAllRegistered=t.upgradeAllRegistered,t.registerUpgradedCallback=t.registerUpgradedCallback,t.register=t.register,t.downgradeElements=t.downgradeElements,window.componentHandler=t,window.componentHandler=t,window.addEventListener("load",function(){"classList"in document.createElement("div")&&"querySelector"in document&&"addEventListener"in window&&Array.prototype.forEach?(document.documentElement.classList.add("mdl-js"),t.upgradeAllRegistered()):(t.upgradeElement=function(){},t.register=function(){})}),IT}Xj();var TT={};/**
 * @license
 * Copyright 2015 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var AT;function $j(){return AT||(AT=1,function(){var t=function(n){this.element_=n,this.init()};window.MaterialButton=t,t.prototype.Constant_={},t.prototype.CssClasses_={RIPPLE_EFFECT:"mdl-js-ripple-effect",RIPPLE_CONTAINER:"mdl-button__ripple-container",RIPPLE:"mdl-ripple"},t.prototype.blurHandler_=function(e){e&&this.element_.blur()},t.prototype.disable=function(){this.element_.disabled=!0},t.prototype.disable=t.prototype.disable,t.prototype.enable=function(){this.element_.disabled=!1},t.prototype.enable=t.prototype.enable,t.prototype.init=function(){if(this.element_){if(this.element_.classList.contains(this.CssClasses_.RIPPLE_EFFECT)){var e=document.createElement("span");e.classList.add(this.CssClasses_.RIPPLE_CONTAINER),this.rippleElement_=document.createElement("span"),this.rippleElement_.classList.add(this.CssClasses_.RIPPLE),e.appendChild(this.rippleElement_),this.boundRippleBlurHandler=this.blurHandler_.bind(this),this.rippleElement_.addEventListener("mouseup",this.boundRippleBlurHandler),this.element_.appendChild(e)}this.boundButtonBlurHandler=this.blurHandler_.bind(this),this.element_.addEventListener("mouseup",this.boundButtonBlurHandler),this.element_.addEventListener("mouseleave",this.boundButtonBlurHandler)}},componentHandler.register({constructor:t,classAsString:"MaterialButton",cssClass:"mdl-js-button",widget:!0})}()),TT}$j();var CT={};/**
 * @license
 * Copyright 2015 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kT;function Qj(){return kT||(kT=1,function(){var t=function(n){this.element_=n,this.init()};window.MaterialProgress=t,t.prototype.Constant_={},t.prototype.CssClasses_={INDETERMINATE_CLASS:"mdl-progress__indeterminate"},t.prototype.setProgress=function(e){this.element_.classList.contains(this.CssClasses_.INDETERMINATE_CLASS)||(this.progressbar_.style.width=e+"%")},t.prototype.setProgress=t.prototype.setProgress,t.prototype.setBuffer=function(e){this.bufferbar_.style.width=e+"%",this.auxbar_.style.width=100-e+"%"},t.prototype.setBuffer=t.prototype.setBuffer,t.prototype.init=function(){if(this.element_){var e=document.createElement("div");e.className="progressbar bar bar1",this.element_.appendChild(e),this.progressbar_=e,e=document.createElement("div"),e.className="bufferbar bar bar2",this.element_.appendChild(e),this.bufferbar_=e,e=document.createElement("div"),e.className="auxbar bar bar3",this.element_.appendChild(e),this.auxbar_=e,this.progressbar_.style.width="0%",this.bufferbar_.style.width="100%",this.auxbar_.style.width="0%",this.element_.classList.add("is-upgraded")}},componentHandler.register({constructor:t,classAsString:"MaterialProgress",cssClass:"mdl-js-progress",widget:!0})}()),CT}Qj();var xT={};/**
 * @license
 * Copyright 2015 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var NT;function Jj(){return NT||(NT=1,function(){var t=function(n){this.element_=n,this.init()};window.MaterialSpinner=t,t.prototype.Constant_={MDL_SPINNER_LAYER_COUNT:4},t.prototype.CssClasses_={MDL_SPINNER_LAYER:"mdl-spinner__layer",MDL_SPINNER_CIRCLE_CLIPPER:"mdl-spinner__circle-clipper",MDL_SPINNER_CIRCLE:"mdl-spinner__circle",MDL_SPINNER_GAP_PATCH:"mdl-spinner__gap-patch",MDL_SPINNER_LEFT:"mdl-spinner__left",MDL_SPINNER_RIGHT:"mdl-spinner__right"},t.prototype.createLayer=function(e){var n=document.createElement("div");n.classList.add(this.CssClasses_.MDL_SPINNER_LAYER),n.classList.add(this.CssClasses_.MDL_SPINNER_LAYER+"-"+e);var r=document.createElement("div");r.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER),r.classList.add(this.CssClasses_.MDL_SPINNER_LEFT);var s=document.createElement("div");s.classList.add(this.CssClasses_.MDL_SPINNER_GAP_PATCH);var a=document.createElement("div");a.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER),a.classList.add(this.CssClasses_.MDL_SPINNER_RIGHT);for(var c=[r,s,a],h=0;h<c.length;h++){var d=document.createElement("div");d.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE),c[h].appendChild(d)}n.appendChild(r),n.appendChild(s),n.appendChild(a),this.element_.appendChild(n)},t.prototype.createLayer=t.prototype.createLayer,t.prototype.stop=function(){this.element_.classList.remove("is-active")},t.prototype.stop=t.prototype.stop,t.prototype.start=function(){this.element_.classList.add("is-active")},t.prototype.start=t.prototype.start,t.prototype.init=function(){if(this.element_){for(var e=1;e<=this.Constant_.MDL_SPINNER_LAYER_COUNT;e++)this.createLayer(e);this.element_.classList.add("is-upgraded")}},componentHandler.register({constructor:t,classAsString:"MaterialSpinner",cssClass:"mdl-js-spinner",widget:!0})}()),xT}Jj();var RT={};/**
 * @license
 * Copyright 2015 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var OT;function Zj(){return OT||(OT=1,function(){var t=function(n){this.element_=n,this.maxRows=this.Constant_.NO_MAX_ROWS,this.init()};window.MaterialTextfield=t,t.prototype.Constant_={NO_MAX_ROWS:-1,MAX_ROWS_ATTRIBUTE:"maxrows"},t.prototype.CssClasses_={LABEL:"mdl-textfield__label",INPUT:"mdl-textfield__input",IS_DIRTY:"is-dirty",IS_FOCUSED:"is-focused",IS_DISABLED:"is-disabled",IS_INVALID:"is-invalid",IS_UPGRADED:"is-upgraded",HAS_PLACEHOLDER:"has-placeholder"},t.prototype.onKeyDown_=function(e){var n=e.target.value.split(`
`).length;e.keyCode===13&&n>=this.maxRows&&e.preventDefault()},t.prototype.onFocus_=function(e){this.element_.classList.add(this.CssClasses_.IS_FOCUSED)},t.prototype.onBlur_=function(e){this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},t.prototype.onReset_=function(e){this.updateClasses_()},t.prototype.updateClasses_=function(){this.checkDisabled(),this.checkValidity(),this.checkDirty(),this.checkFocus()},t.prototype.checkDisabled=function(){this.input_.disabled?this.element_.classList.add(this.CssClasses_.IS_DISABLED):this.element_.classList.remove(this.CssClasses_.IS_DISABLED)},t.prototype.checkDisabled=t.prototype.checkDisabled,t.prototype.checkFocus=function(){this.element_.querySelector(":focus")?this.element_.classList.add(this.CssClasses_.IS_FOCUSED):this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},t.prototype.checkFocus=t.prototype.checkFocus,t.prototype.checkValidity=function(){this.input_.validity&&(this.input_.validity.valid?this.element_.classList.remove(this.CssClasses_.IS_INVALID):this.element_.classList.add(this.CssClasses_.IS_INVALID))},t.prototype.checkValidity=t.prototype.checkValidity,t.prototype.checkDirty=function(){this.input_.value&&this.input_.value.length>0?this.element_.classList.add(this.CssClasses_.IS_DIRTY):this.element_.classList.remove(this.CssClasses_.IS_DIRTY)},t.prototype.checkDirty=t.prototype.checkDirty,t.prototype.disable=function(){this.input_.disabled=!0,this.updateClasses_()},t.prototype.disable=t.prototype.disable,t.prototype.enable=function(){this.input_.disabled=!1,this.updateClasses_()},t.prototype.enable=t.prototype.enable,t.prototype.change=function(e){this.input_.value=e||"",this.updateClasses_()},t.prototype.change=t.prototype.change,t.prototype.init=function(){if(this.element_&&(this.label_=this.element_.querySelector("."+this.CssClasses_.LABEL),this.input_=this.element_.querySelector("."+this.CssClasses_.INPUT),this.input_)){this.input_.hasAttribute(this.Constant_.MAX_ROWS_ATTRIBUTE)&&(this.maxRows=parseInt(this.input_.getAttribute(this.Constant_.MAX_ROWS_ATTRIBUTE),10),isNaN(this.maxRows)&&(this.maxRows=this.Constant_.NO_MAX_ROWS)),this.input_.hasAttribute("placeholder")&&this.element_.classList.add(this.CssClasses_.HAS_PLACEHOLDER),this.boundUpdateClassesHandler=this.updateClasses_.bind(this),this.boundFocusHandler=this.onFocus_.bind(this),this.boundBlurHandler=this.onBlur_.bind(this),this.boundResetHandler=this.onReset_.bind(this),this.input_.addEventListener("input",this.boundUpdateClassesHandler),this.input_.addEventListener("focus",this.boundFocusHandler),this.input_.addEventListener("blur",this.boundBlurHandler),this.input_.addEventListener("reset",this.boundResetHandler),this.maxRows!==this.Constant_.NO_MAX_ROWS&&(this.boundKeyDownHandler=this.onKeyDown_.bind(this),this.input_.addEventListener("keydown",this.boundKeyDownHandler));var e=this.element_.classList.contains(this.CssClasses_.IS_INVALID);this.updateClasses_(),this.element_.classList.add(this.CssClasses_.IS_UPGRADED),e&&this.element_.classList.add(this.CssClasses_.IS_INVALID),this.input_.hasAttribute("autofocus")&&(this.element_.focus(),this.checkFocus())}},componentHandler.register({constructor:t,classAsString:"MaterialTextfield",cssClass:"mdl-js-textfield",widget:!0})}()),RT}Zj();(function(){(function(){var t,e=typeof Object.create=="function"?Object.create:function(o){function u(){}return u.prototype=o,new u},n;if(typeof Object.setPrototypeOf=="function")n=Object.setPrototypeOf;else{var r;e:{var s={xb:!0},a={};try{a.__proto__=s,r=a.xb;break e}catch{}r=!1}n=r?function(o,u){if(o.__proto__=u,o.__proto__!==u)throw new TypeError(o+" is not extensible");return o}:null}var c=n;function h(o,u){if(o.prototype=e(u.prototype),o.prototype.constructor=o,c)c(o,u);else for(var f in u)if(f!="prototype")if(Object.defineProperties){var v=Object.getOwnPropertyDescriptor(u,f);v&&Object.defineProperty(o,f,v)}else o[f]=u[f];o.K=u.prototype}var d=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,u,f){o!=Array.prototype&&o!=Object.prototype&&(o[u]=f.value)},g=typeof window<"u"&&window===this?this:typeof global<"u"&&global!=null?global:this;function y(o,u){if(u){var f=g;o=o.split(".");for(var v=0;v<o.length-1;v++){var b=o[v];b in f||(f[b]={}),f=f[b]}o=o[o.length-1],v=f[o],u=u(v),u!=v&&u!=null&&d(f,o,{configurable:!0,writable:!0,value:u})}}y("Object.is",function(o){return o||function(u,f){return u===f?u!==0||1/u===1/f:u!==u&&f!==f}}),y("Array.prototype.includes",function(o){return o||function(u,f){var v=this;v instanceof String&&(v=String(v));var b=v.length;for(f=f||0,0>f&&(f=Math.max(f+b,0));f<b;f++){var w=v[f];if(w===u||Object.is(w,u))return!0}return!1}});var E=this;function I(o){return o!==void 0}function T(o){return typeof o=="string"}var x=/^[\w+/_-]+[=]{0,2}$/,A=null;function N(){}function D(o){o.W=void 0,o.Xa=function(){return o.W?o.W:o.W=new o}}function L(o){var u=typeof o;if(u=="object")if(o){if(o instanceof Array)return"array";if(o instanceof Object)return u;var f=Object.prototype.toString.call(o);if(f=="[object Window]")return"object";if(f=="[object Array]"||typeof o.length=="number"&&typeof o.splice<"u"&&typeof o.propertyIsEnumerable<"u"&&!o.propertyIsEnumerable("splice"))return"array";if(f=="[object Function]"||typeof o.call<"u"&&typeof o.propertyIsEnumerable<"u"&&!o.propertyIsEnumerable("call"))return"function"}else return"null";else if(u=="function"&&typeof o.call>"u")return"object";return u}function H(o){return L(o)=="array"}function X(o){var u=L(o);return u=="array"||u=="object"&&typeof o.length=="number"}function z(o){return L(o)=="function"}function P(o){var u=typeof o;return u=="object"&&o!=null||u=="function"}function Be(o,u,f){return o.call.apply(o.bind,arguments)}function Ae(o,u,f){if(!o)throw Error();if(2<arguments.length){var v=Array.prototype.slice.call(arguments,2);return function(){var b=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(b,v),o.apply(u,b)}}return function(){return o.apply(u,arguments)}}function J(o,u,f){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?J=Be:J=Ae,J.apply(null,arguments)}function se(o,u){var f=Array.prototype.slice.call(arguments,1);return function(){var v=f.slice();return v.push.apply(v,arguments),o.apply(this,v)}}function re(o,u){for(var f in u)o[f]=u[f]}var le=Date.now||function(){return+new Date};function he(o,u){o=o.split(".");var f=E;o[0]in f||typeof f.execScript>"u"||f.execScript("var "+o[0]);for(var v;o.length&&(v=o.shift());)!o.length&&I(u)?f[v]=u:f[v]&&f[v]!==Object.prototype[v]?f=f[v]:f=f[v]={}}function te(o,u){function f(){}f.prototype=u.prototype,o.K=u.prototype,o.prototype=new f,o.prototype.constructor=o,o.wc=function(v,b,w){for(var C=Array(arguments.length-2),R=2;R<arguments.length;R++)C[R-2]=arguments[R];return u.prototype[b].apply(v,C)}}function De(o){if(Error.captureStackTrace)Error.captureStackTrace(this,De);else{var u=Error().stack;u&&(this.stack=u)}o&&(this.message=String(o))}te(De,Error),De.prototype.name="CustomError";var Ce;function ct(o,u){o=o.split("%s");for(var f="",v=o.length-1,b=0;b<v;b++)f+=o[b]+(b<u.length?u[b]:"%s");De.call(this,f+o[v])}te(ct,De),ct.prototype.name="AssertionError";function Ln(o,u){throw new ct("Failure"+(o?": "+o:""),Array.prototype.slice.call(arguments,1))}var He=Array.prototype.indexOf?function(o,u){return Array.prototype.indexOf.call(o,u,void 0)}:function(o,u){if(T(o))return T(u)&&u.length==1?o.indexOf(u,0):-1;for(var f=0;f<o.length;f++)if(f in o&&o[f]===u)return f;return-1},Ee=Array.prototype.forEach?function(o,u,f){Array.prototype.forEach.call(o,u,f)}:function(o,u,f){for(var v=o.length,b=T(o)?o.split(""):o,w=0;w<v;w++)w in b&&u.call(f,b[w],w,o)};function Ze(o,u){for(var f=T(o)?o.split(""):o,v=o.length-1;0<=v;--v)v in f&&u.call(void 0,f[v],v,o)}var tn=Array.prototype.filter?function(o,u){return Array.prototype.filter.call(o,u,void 0)}:function(o,u){for(var f=o.length,v=[],b=0,w=T(o)?o.split(""):o,C=0;C<f;C++)if(C in w){var R=w[C];u.call(void 0,R,C,o)&&(v[b++]=R)}return v},bi=Array.prototype.map?function(o,u){return Array.prototype.map.call(o,u,void 0)}:function(o,u){for(var f=o.length,v=Array(f),b=T(o)?o.split(""):o,w=0;w<f;w++)w in b&&(v[w]=u.call(void 0,b[w],w,o));return v},rt=Array.prototype.some?function(o,u){return Array.prototype.some.call(o,u,void 0)}:function(o,u){for(var f=o.length,v=T(o)?o.split(""):o,b=0;b<f;b++)if(b in v&&u.call(void 0,v[b],b,o))return!0;return!1};function ln(o,u){return 0<=He(o,u)}function Zr(o,u){u=He(o,u);var f;return(f=0<=u)&&cn(o,u),f}function cn(o,u){return Array.prototype.splice.call(o,u,1).length==1}function Is(o,u){e:{for(var f=o.length,v=T(o)?o.split(""):o,b=0;b<f;b++)if(b in v&&u.call(void 0,v[b],b,o)){u=b;break e}u=-1}0<=u&&cn(o,u)}function Ss(o,u){var f=0;Ze(o,function(v,b){u.call(void 0,v,b,o)&&cn(o,b)&&f++})}function sr(o){return Array.prototype.concat.apply([],arguments)}function ze(o){var u=o.length;if(0<u){for(var f=Array(u),v=0;v<u;v++)f[v]=o[v];return f}return[]}function $e(o,u,f){return 2>=arguments.length?Array.prototype.slice.call(o,u):Array.prototype.slice.call(o,u,f)}var dt=String.prototype.trim?function(o){return o.trim()}:function(o){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(o)[1]},ft=/&/g,St=/</g,Yn=/>/g,Er=/"/g,wi=/'/g,Ir=/\x00/g,Fo=/[\x00&<>"']/;function Ts(o,u){return o<u?-1:o>u?1:0}function Uo(o){return Fo.test(o)&&(o.indexOf("&")!=-1&&(o=o.replace(ft,"&amp;")),o.indexOf("<")!=-1&&(o=o.replace(St,"&lt;")),o.indexOf(">")!=-1&&(o=o.replace(Yn,"&gt;")),o.indexOf('"')!=-1&&(o=o.replace(Er,"&quot;")),o.indexOf("'")!=-1&&(o=o.replace(wi,"&#39;")),o.indexOf("\0")!=-1&&(o=o.replace(Ir,"&#0;"))),o}function ht(o,u,f){for(var v in o)u.call(f,o[v],v,o)}function jo(o){var u={},f;for(f in o)u[f]=o[f];return u}var Ki="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function U(o,u){for(var f,v,b=1;b<arguments.length;b++){v=arguments[b];for(f in v)o[f]=v[f];for(var w=0;w<Ki.length;w++)f=Ki[w],Object.prototype.hasOwnProperty.call(v,f)&&(o[f]=v[f])}}var M="StopIteration"in E?E.StopIteration:{message:"StopIteration",stack:""};function F(){}F.prototype.next=function(){throw M},F.prototype.ha=function(){return this};function G(o){if(o instanceof F)return o;if(typeof o.ha=="function")return o.ha(!1);if(X(o)){var u=0,f=new F;return f.next=function(){for(;;){if(u>=o.length)throw M;if(u in o)return o[u++];u++}},f}throw Error("Not implemented")}function V(o,u){if(X(o))try{Ee(o,u,void 0)}catch(f){if(f!==M)throw f}else{o=G(o);try{for(;;)u.call(void 0,o.next(),void 0,o)}catch(f){if(f!==M)throw f}}}function ve(o){if(X(o))return ze(o);o=G(o);var u=[];return V(o,function(f){u.push(f)}),u}function Fe(o,u){this.g={},this.a=[],this.j=this.h=0;var f=arguments.length;if(1<f){if(f%2)throw Error("Uneven number of arguments");for(var v=0;v<f;v+=2)this.set(arguments[v],arguments[v+1])}else if(o)if(o instanceof Fe)for(f=o.ja(),v=0;v<f.length;v++)this.set(f[v],o.get(f[v]));else for(v in o)this.set(v,o[v])}t=Fe.prototype,t.la=function(){Ue(this);for(var o=[],u=0;u<this.a.length;u++)o.push(this.g[this.a[u]]);return o},t.ja=function(){return Ue(this),this.a.concat()},t.clear=function(){this.g={},this.j=this.h=this.a.length=0};function Ue(o){if(o.h!=o.a.length){for(var u=0,f=0;u<o.a.length;){var v=o.a[u];at(o.g,v)&&(o.a[f++]=v),u++}o.a.length=f}if(o.h!=o.a.length){var b={};for(f=u=0;u<o.a.length;)v=o.a[u],at(b,v)||(o.a[f++]=v,b[v]=1),u++;o.a.length=f}}t.get=function(o,u){return at(this.g,o)?this.g[o]:u},t.set=function(o,u){at(this.g,o)||(this.h++,this.a.push(o),this.j++),this.g[o]=u},t.forEach=function(o,u){for(var f=this.ja(),v=0;v<f.length;v++){var b=f[v],w=this.get(b);o.call(u,w,b,this)}},t.ha=function(o){Ue(this);var u=0,f=this.j,v=this,b=new F;return b.next=function(){if(f!=v.j)throw Error("The map has changed since the iterator was created");if(u>=v.a.length)throw M;var w=v.a[u++];return o?w:v.g[w]},b};function at(o,u){return Object.prototype.hasOwnProperty.call(o,u)}var Qe=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function In(o,u){if(o){o=o.split("&");for(var f=0;f<o.length;f++){var v=o[f].indexOf("="),b=null;if(0<=v){var w=o[f].substring(0,v);b=o[f].substring(v+1)}else w=o[f];u(w,b?decodeURIComponent(b.replace(/\+/g," ")):"")}}}function fn(o,u,f,v){for(var b=f.length;0<=(u=o.indexOf(f,u))&&u<v;){var w=o.charCodeAt(u-1);if((w==38||w==63)&&(w=o.charCodeAt(u+b),!w||w==61||w==38||w==35))return u;u+=b+1}return-1}var Nt=/#|$/;function Yi(o,u){var f=o.search(Nt),v=fn(o,0,u,f);if(0>v)return null;var b=o.indexOf("&",v);return(0>b||b>f)&&(b=f),v+=u.length+1,decodeURIComponent(o.substr(v,b-v).replace(/\+/g," "))}var Xi=/[?&]($|#)/;function _i(o,u){this.h=this.A=this.j="",this.C=null,this.s=this.g="",this.i=!1;var f;o instanceof _i?(this.i=I(u)?u:o.i,gl(this,o.j),this.A=o.A,this.h=o.h,td(this,o.C),this.g=o.g,nd(this,im(o.a)),this.s=o.s):o&&(f=String(o).match(Qe))?(this.i=!!u,gl(this,f[1]||"",!0),this.A=As(f[2]||""),this.h=As(f[3]||"",!0),td(this,f[4]),this.g=As(f[5]||"",!0),nd(this,f[6]||"",!0),this.s=As(f[7]||"")):(this.i=!!u,this.a=new Na(null,this.i))}_i.prototype.toString=function(){var o=[],u=this.j;u&&o.push(Xn(u,rd,!0),":");var f=this.h;return(f||u=="file")&&(o.push("//"),(u=this.A)&&o.push(Xn(u,rd,!0),"@"),o.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.C,f!=null&&o.push(":",String(f))),(f=this.g)&&(this.h&&f.charAt(0)!="/"&&o.push("/"),o.push(Xn(f,f.charAt(0)=="/"?nm:tm,!0))),(f=this.a.toString())&&o.push("?",f),(f=this.s)&&o.push("#",Xn(f,xa)),o.join("")};function gl(o,u,f){o.j=f?As(u,!0):u,o.j&&(o.j=o.j.replace(/:$/,""))}function td(o,u){if(u){if(u=Number(u),isNaN(u)||0>u)throw Error("Bad port number "+u);o.C=u}else o.C=null}function nd(o,u,f){u instanceof Na?(o.a=u,om(o.a,o.i)):(f||(u=Xn(u,id)),o.a=new Na(u,o.i))}function yf(o){return o instanceof _i?new _i(o):new _i(o,void 0)}function As(o,u){return o?u?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function Xn(o,u,f){return T(o)?(o=encodeURI(o).replace(u,bf),f&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function bf(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var rd=/[#\/\?@]/g,tm=/[#\?:]/g,nm=/[#\?]/g,id=/[#\?@]/g,xa=/#/g;function Na(o,u){this.g=this.a=null,this.h=o||null,this.j=!!u}function $i(o){o.a||(o.a=new Fe,o.g=0,o.h&&In(o.h,function(u,f){o.add(decodeURIComponent(u.replace(/\+/g," ")),f)}))}t=Na.prototype,t.add=function(o,u){$i(this),this.h=null,o=Ra(this,o);var f=this.a.get(o);return f||this.a.set(o,f=[]),f.push(u),this.g+=1,this};function Ei(o,u){$i(o),u=Ra(o,u),at(o.a.g,u)&&(o.h=null,o.g-=o.a.get(u).length,o=o.a,at(o.g,u)&&(delete o.g[u],o.h--,o.j++,o.a.length>2*o.h&&Ue(o)))}t.clear=function(){this.a=this.h=null,this.g=0};function rm(o,u){return $i(o),u=Ra(o,u),at(o.a.g,u)}t.forEach=function(o,u){$i(this),this.a.forEach(function(f,v){Ee(f,function(b){o.call(u,b,v,this)},this)},this)},t.ja=function(){$i(this);for(var o=this.a.la(),u=this.a.ja(),f=[],v=0;v<u.length;v++)for(var b=o[v],w=0;w<b.length;w++)f.push(u[v]);return f},t.la=function(o){$i(this);var u=[];if(T(o))rm(this,o)&&(u=sr(u,this.a.get(Ra(this,o))));else{o=this.a.la();for(var f=0;f<o.length;f++)u=sr(u,o[f])}return u},t.set=function(o,u){return $i(this),this.h=null,o=Ra(this,o),rm(this,o)&&(this.g-=this.a.get(o).length),this.a.set(o,[u]),this.g+=1,this},t.get=function(o,u){return o?(o=this.la(o),0<o.length?String(o[0]):u):u},t.toString=function(){if(this.h)return this.h;if(!this.a)return"";for(var o=[],u=this.a.ja(),f=0;f<u.length;f++){var v=u[f],b=encodeURIComponent(String(v));v=this.la(v);for(var w=0;w<v.length;w++){var C=b;v[w]!==""&&(C+="="+encodeURIComponent(String(v[w]))),o.push(C)}}return this.h=o.join("&")};function im(o){var u=new Na;return u.h=o.h,o.a&&(u.a=new Fe(o.a),u.g=o.g),u}function Ra(o,u){return u=String(u),o.j&&(u=u.toLowerCase()),u}function om(o,u){u&&!o.j&&($i(o),o.h=null,o.a.forEach(function(f,v){var b=v.toLowerCase();v!=b&&(Ei(this,v),Ei(this,b),0<f.length&&(this.h=null,this.a.set(Ra(this,b),ze(f)),this.g+=f.length))},o)),o.j=u}function Qi(o){this.a=yf(o)}function od(o,u){u?o.a.a.set(Bt.Sa,u):Ei(o.a.a,Bt.Sa)}function H0(o,u){u!==null?o.a.a.set(Bt.Qa,u?"1":"0"):Ei(o.a.a,Bt.Qa)}function sm(o){return o.a.a.get(Bt.Pa)||null}function Mr(o,u){u?o.a.a.set(Bt.PROVIDER_ID,u):Ei(o.a.a,Bt.PROVIDER_ID)}Qi.prototype.toString=function(){return this.a.toString()};var Bt={Pa:"ui_auid",mc:"apiKey",Qa:"ui_sd",ub:"mode",$a:"oobCode",PROVIDER_ID:"ui_pid",Sa:"ui_sid",vb:"tenantId"},Oa;e:{var sd=E.navigator;if(sd){var am=sd.userAgent;if(am){Oa=am;break e}}Oa=""}function Ge(o){return Oa.indexOf(o)!=-1}function wf(){return(Ge("Chrome")||Ge("CriOS"))&&!Ge("Edge")}function ml(o){return ml[" "](o),o}ml[" "]=N;function ad(o,u){var f=ld;return Object.prototype.hasOwnProperty.call(f,o)?f[o]:f[o]=u(o)}var _f=Ge("Opera"),Mt=Ge("Trident")||Ge("MSIE"),Ji=Ge("Edge"),Zi=Ji||Mt,ei=Ge("Gecko")&&!(Oa.toLowerCase().indexOf("webkit")!=-1&&!Ge("Edge"))&&!(Ge("Trident")||Ge("MSIE"))&&!Ge("Edge"),nn=Oa.toLowerCase().indexOf("webkit")!=-1&&!Ge("Edge"),um=nn&&Ge("Mobile"),eo=Ge("Macintosh");function lm(){var o=E.document;return o?o.documentMode:void 0}var Ef;e:{var Pa="",ud=function(){var o=Oa;if(ei)return/rv:([^\);]+)(\)|;)/.exec(o);if(Ji)return/Edge\/([\d\.]+)/.exec(o);if(Mt)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(o);if(nn)return/WebKit\/(\S+)/.exec(o);if(_f)return/(?:Version)[ \/]?(\S+)/.exec(o)}();if(ud&&(Pa=ud?ud[1]:""),Mt){var If=lm();if(If!=null&&If>parseFloat(Pa)){Ef=String(If);break e}}Ef=Pa}var ld={};function Cs(o){return ad(o,function(){for(var u=0,f=dt(String(Ef)).split("."),v=dt(String(o)).split("."),b=Math.max(f.length,v.length),w=0;u==0&&w<b;w++){var C=f[w]||"",R=v[w]||"";do{if(C=/(\d*)(\D*)(.*)/.exec(C)||["","","",""],R=/(\d*)(\D*)(.*)/.exec(R)||["","","",""],C[0].length==0&&R[0].length==0)break;u=Ts(C[1].length==0?0:parseInt(C[1],10),R[1].length==0?0:parseInt(R[1],10))||Ts(C[2].length==0,R[2].length==0)||Ts(C[2],R[2]),C=C[3],R=R[3]}while(u==0)}return 0<=u})}var Vo,yl=E.document;Vo=yl&&Mt?lm()||(yl.compatMode=="CSS1Compat"?parseInt(Ef,10):5):void 0;function Da(o,u){this.a=o===cd&&u||"",this.g=Sf}Da.prototype.ma=!0,Da.prototype.ka=function(){return this.a},Da.prototype.toString=function(){return"Const{"+this.a+"}"};var Sf={},cd={};function Bo(){this.a="",this.h=La}Bo.prototype.ma=!0,Bo.prototype.ka=function(){return this.a.toString()},Bo.prototype.g=function(){return 1},Bo.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};function Ke(o){return o instanceof Bo&&o.constructor===Bo&&o.h===La?o.a:(Ln("expected object of type TrustedResourceUrl, got '"+o+"' of type "+L(o)),"type_error:TrustedResourceUrl")}function ks(){var o=Pm;o instanceof Da&&o.constructor===Da&&o.g===Sf?o=o.a:(Ln("expected object of type Const, got '"+o+"'"),o="type_error:Const");var u=new Bo;return u.a=o,u}var La={};function qt(){this.a="",this.h=wt}qt.prototype.ma=!0,qt.prototype.ka=function(){return this.a.toString()},qt.prototype.g=function(){return 1},qt.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};function to(o){return o instanceof qt&&o.constructor===qt&&o.h===wt?o.a:(Ln("expected object of type SafeUrl, got '"+o+"' of type "+L(o)),"type_error:SafeUrl")}var fd=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Ma(o){return o instanceof qt?o:(o=typeof o=="object"&&o.ma?o.ka():String(o),fd.test(o)||(o="about:invalid#zClosurez"),Tf(o))}function _e(o){return o instanceof qt?o:(o=typeof o=="object"&&o.ma?o.ka():String(o),fd.test(o)||(o="about:invalid#zClosurez"),Tf(o))}var wt={};function Tf(o){var u=new qt;return u.a=o,u}Tf("about:blank");function Fa(){this.a="",this.g=hd}Fa.prototype.ma=!0;var hd={};Fa.prototype.ka=function(){return this.a},Fa.prototype.toString=function(){return"SafeStyle{"+this.a+"}"};function no(){this.a="",this.j=pd,this.h=null}no.prototype.g=function(){return this.h},no.prototype.ma=!0,no.prototype.ka=function(){return this.a.toString()},no.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};function Ua(o){return o instanceof no&&o.constructor===no&&o.j===pd?o.a:(Ln("expected object of type SafeHtml, got '"+o+"' of type "+L(o)),"type_error:SafeHtml")}var pd={};function ti(o,u){var f=new no;return f.a=o,f.h=u,f}ti("<!DOCTYPE html>",0);var cm=ti("",0);ti("<br>",0);var z0=function(o){var u=!1,f;return function(){return u||(f=o(),u=!0),f}}(function(){if(typeof document>"u")return!1;var o=document.createElement("div"),u=document.createElement("div");return u.appendChild(document.createElement("div")),o.appendChild(u),o.firstChild?(u=o.firstChild.firstChild,o.innerHTML=Ua(cm),!u.parentElement):!1});function fm(o,u){if(o.src=Ke(u),A===null)e:{if(u=E.document,(u=u.querySelector&&u.querySelector("script[nonce]"))&&(u=u.nonce||u.getAttribute("nonce"))&&x.test(u)){A=u;break e}A=""}u=A,u&&o.setAttribute("nonce",u)}function xs(o,u){u=u instanceof qt?u:_e(u),o.assign(to(u))}function ro(o,u){this.a=I(o)?o:0,this.g=I(u)?u:0}ro.prototype.toString=function(){return"("+this.a+", "+this.g+")"},ro.prototype.ceil=function(){return this.a=Math.ceil(this.a),this.g=Math.ceil(this.g),this},ro.prototype.floor=function(){return this.a=Math.floor(this.a),this.g=Math.floor(this.g),this},ro.prototype.round=function(){return this.a=Math.round(this.a),this.g=Math.round(this.g),this};function Af(o,u){this.width=o,this.height=u}t=Af.prototype,t.toString=function(){return"("+this.width+" x "+this.height+")"},t.aspectRatio=function(){return this.width/this.height},t.ceil=function(){return this.width=Math.ceil(this.width),this.height=Math.ceil(this.height),this},t.floor=function(){return this.width=Math.floor(this.width),this.height=Math.floor(this.height),this},t.round=function(){return this.width=Math.round(this.width),this.height=Math.round(this.height),this};function Cf(o){return o?new gd(wl(o)):Ce||(Ce=new gd)}function kf(o,u){var f=u||document;return f.querySelectorAll&&f.querySelector?f.querySelectorAll("."+o):bl(document,o,u)}function qo(o,u){var f=u||document;if(f.getElementsByClassName)o=f.getElementsByClassName(o)[0];else{f=document;var v=u||f;o=v.querySelectorAll&&v.querySelector&&o?v.querySelector(o?"."+o:""):bl(f,o,u)[0]||null}return o||null}function bl(o,u,f){var v;if(o=f||o,o.querySelectorAll&&o.querySelector&&u)return o.querySelectorAll(u?"."+u:"");if(u&&o.getElementsByClassName){var b=o.getElementsByClassName(u);return b}if(b=o.getElementsByTagName("*"),u){var w={};for(f=v=0;o=b[f];f++){var C=o.className;typeof C.split=="function"&&ln(C.split(/\s+/),u)&&(w[v++]=o)}return w.length=v,w}return b}function K0(o,u){ht(u,function(f,v){f&&typeof f=="object"&&f.ma&&(f=f.ka()),v=="style"?o.style.cssText=f:v=="class"?o.className=f:v=="for"?o.htmlFor=f:dd.hasOwnProperty(v)?o.setAttribute(dd[v],f):v.lastIndexOf("aria-",0)==0||v.lastIndexOf("data-",0)==0?o.setAttribute(v,f):o[v]=f})}var dd={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function xf(o){return o.scrollingElement?o.scrollingElement:(nn||o.compatMode!="CSS1Compat")&&o.body||o.documentElement}function Go(o){o&&o.parentNode&&o.parentNode.removeChild(o)}function wl(o){return o.nodeType==9?o:o.ownerDocument||o.document}function vd(o,u){if("textContent"in o)o.textContent=u;else if(o.nodeType==3)o.data=String(u);else if(o.firstChild&&o.firstChild.nodeType==3){for(;o.lastChild!=o.firstChild;)o.removeChild(o.lastChild);o.firstChild.data=String(u)}else{for(var f;f=o.firstChild;)o.removeChild(f);o.appendChild(wl(o).createTextNode(String(u)))}}function $n(o,u){return u?Ns(o,function(f){return!u||T(f.className)&&ln(f.className.split(/\s+/),u)}):null}function Ns(o,u){for(var f=0;o;){if(u(o))return o;o=o.parentNode,f++}return null}function gd(o){this.a=o||E.document||document}gd.prototype.N=function(){return T(void 0)?this.a.getElementById(void 0):void 0};var Wo={Gc:!0},hm={Ic:!0},Y0={},_l={Hc:!0};function ni(){throw Error("Do not instantiate directly")}ni.prototype.va=null,ni.prototype.toString=function(){return this.content};function Rs(o,u,f,v){if(o=o(u||bd,void 0,f),v=(v||Cf()).a.createElement("DIV"),o=md(o),o.match(yd),o=ti(o,null),z0())for(;v.lastChild;)v.removeChild(v.lastChild);return v.innerHTML=Ua(o),v.childNodes.length==1&&(o=v.firstChild,o.nodeType==1&&(v=o)),v}function md(o){if(!P(o))return Uo(String(o));if(o instanceof ni){if(o.fa===Wo)return o.content;if(o.fa===_l)return Uo(o.content)}return Ln("Soy template output is unsafe for use as HTML: "+o),"zSoyz"}var yd=/^<(body|caption|col|colgroup|head|html|tr|td|th|tbody|thead|tfoot)>/i,bd={};function Fr(o){if(o!=null)switch(o.va){case 1:return 1;case-1:return-1;case 0:return 0}return null}function El(){ni.call(this)}te(El,ni),El.prototype.fa=Wo;function xe(o){return o!=null&&o.fa===Wo?o:o instanceof no?ce(Ua(o).toString(),o.g()):ce(Uo(String(String(o))),Fr(o))}function ja(){ni.call(this)}te(ja,ni),ja.prototype.fa=hm,ja.prototype.va=1;function Mn(o,u){this.content=String(o),this.va=u??null}te(Mn,ni),Mn.prototype.fa=_l;function et(o){return new Mn(o,void 0)}var ce=function(o){function u(f){this.content=f}return u.prototype=o.prototype,function(f,v){return f=new u(String(f)),v!==void 0&&(f.va=v),f}}(El),pm=function(o){function u(f){this.content=f}return u.prototype=o.prototype,function(f){return new u(String(f))}}(ja);function dm(o){function u(){}var f={label:Ft("New password")};u.prototype=o,o=new u;for(var v in f)o[v]=f[v];return o}function Ft(o){return(o=String(o))?new Mn(o,void 0):""}var Il=function(o){function u(f){this.content=f}return u.prototype=o.prototype,function(f,v){return f=String(f),f?(f=new u(f),v!==void 0&&(f.va=v),f):""}}(El);function Sn(o){return o!=null&&o.fa===Wo?String(String(o.content).replace(Ba,"").replace(_d,"&lt;")).replace(Va,wd):Uo(String(o))}function io(o){return o!=null&&o.fa===hm?o=String(o).replace(Rf,Sl):o instanceof qt?o=String(to(o).toString()).replace(Rf,Sl):(o=String(o),X0.test(o)?o=o.replace(Rf,Sl):(Ln("Bad value `%s` for |filterNormalizeUri",[o]),o="#zSoyz")),o}function Fn(o){return o!=null&&o.fa===Y0?o=o.content:o==null?o="":o instanceof Fa?o instanceof Fa&&o.constructor===Fa&&o.g===hd?o=o.a:(Ln("expected object of type SafeStyle, got '"+o+"' of type "+L(o)),o="type_error:SafeStyle"):(o=String(o),gm.test(o)||(Ln("Bad value `%s` for |filterCssValue",[o]),o="zSoyz")),o}var vm={"\0":"&#0;","	":"&#9;","\n":"&#10;","\v":"&#11;","\f":"&#12;","\r":"&#13;"," ":"&#32;",'"':"&quot;","&":"&amp;","'":"&#39;","-":"&#45;","/":"&#47;","<":"&lt;","=":"&#61;",">":"&gt;","`":"&#96;","":"&#133;"," ":"&#160;","\u2028":"&#8232;","\u2029":"&#8233;"};function wd(o){return vm[o]}var Nf={"\0":"%00","":"%01","":"%02","":"%03","":"%04","":"%05","":"%06","\x07":"%07","\b":"%08","	":"%09","\n":"%0A","\v":"%0B","\f":"%0C","\r":"%0D","":"%0E","":"%0F","":"%10","":"%11","":"%12","":"%13","":"%14","":"%15","":"%16","":"%17","":"%18","":"%19","":"%1A","\x1B":"%1B","":"%1C","":"%1D","":"%1E","":"%1F"," ":"%20",'"':"%22","'":"%27","(":"%28",")":"%29","<":"%3C",">":"%3E","\\":"%5C","{":"%7B","}":"%7D","":"%7F","":"%C2%85"," ":"%C2%A0","\u2028":"%E2%80%A8","\u2029":"%E2%80%A9","！":"%EF%BC%81","＃":"%EF%BC%83","＄":"%EF%BC%84","＆":"%EF%BC%86","＇":"%EF%BC%87","（":"%EF%BC%88","）":"%EF%BC%89","＊":"%EF%BC%8A","＋":"%EF%BC%8B","，":"%EF%BC%8C","／":"%EF%BC%8F","：":"%EF%BC%9A","；":"%EF%BC%9B","＝":"%EF%BC%9D","？":"%EF%BC%9F","＠":"%EF%BC%A0","［":"%EF%BC%BB","］":"%EF%BC%BD"};function Sl(o){return Nf[o]}var Va=/[\x00\x22\x27\x3c\x3e]/g,Rf=/[\x00- \x22\x27-\x29\x3c\x3e\\\x7b\x7d\x7f\x85\xa0\u2028\u2029\uff01\uff03\uff04\uff06-\uff0c\uff0f\uff1a\uff1b\uff1d\uff1f\uff20\uff3b\uff3d]/g,gm=/^(?!-*(?:expression|(?:moz-)?binding))(?:[.#]?-?(?:[_a-z0-9-]+)(?:-[_a-z0-9-]+)*-?|-?(?:[0-9]+(?:\.[0-9]*)?|\.[0-9]+)(?:[a-z]{1,2}|%)?|!important|)$/i,X0=/^(?![^#?]*\/(?:\.|%2E){2}(?:[\/?#]|$))(?:(?:https?|mailto):|[^&:\/?#]*(?:[\/?#]|$))/i,Ba=/<(?:!|\/?([a-zA-Z][a-zA-Z0-9:\-]*))(?:[^>'"]|"[^"]*"|'[^']*')*>/g,_d=/</g;function oo(){return et("Enter a valid phone number")}function Ed(){return et("Unable to send password reset code to specified email")}function mm(){return et("Something went wrong. Please try again.")}function so(){return et("This email already exists without any means of sign-in. Please reset the password to recover.")}function qa(o){o=o||{};var u="";switch(o.code){case"invalid-argument":u+="Client specified an invalid argument.";break;case"invalid-configuration":u+="Client specified an invalid project configuration.";break;case"failed-precondition":u+="Request can not be executed in the current system state.";break;case"out-of-range":u+="Client specified an invalid range.";break;case"unauthenticated":u+="Request not authenticated due to missing, invalid, or expired OAuth token.";break;case"permission-denied":u+="Client does not have sufficient permission.";break;case"not-found":u+="Specified resource is not found.";break;case"aborted":u+="Concurrency conflict, such as read-modify-write conflict.";break;case"already-exists":u+="The resource that a client tried to create already exists.";break;case"resource-exhausted":u+="Either out of resource quota or reaching rate limiting.";break;case"cancelled":u+="Request cancelled by the client.";break;case"data-loss":u+="Unrecoverable data loss or data corruption.";break;case"unknown":u+="Unknown server error.";break;case"internal":u+="Internal server error.";break;case"not-implemented":u+="API method not implemented by the server.";break;case"unavailable":u+="Service unavailable.";break;case"deadline-exceeded":u+="Request deadline exceeded.";break;case"auth/user-disabled":u+="The user account has been disabled by an administrator.";break;case"auth/timeout":u+="The operation has timed out.";break;case"auth/too-many-requests":u+="We have blocked all requests from this device due to unusual activity. Try again later.";break;case"auth/quota-exceeded":u+="The quota for this operation has been exceeded. Try again later.";break;case"auth/network-request-failed":u+="A network error has occurred. Try again later.";break;case"restart-process":u+="An issue was encountered when authenticating your request. Please visit the URL that redirected you to this page again to restart the authentication process.";break;case"no-matching-tenant-for-email":u+="No sign-in provider is available for the given email, please try with a different email."}return et(u)}function Ga(){return et("Please login again to perform this operation")}function Os(o,u,f){var v=Error.call(this);if(this.message=v.message,"stack"in v&&(this.stack=v.stack),this.code=Gt+o,!(o=u)){switch(o="",this.code){case"firebaseui/merge-conflict":o+="The current anonymous user failed to upgrade. The non-anonymous credential is already associated with a different user account.";break;default:o+=mm()}o=et(o).toString()}this.message=o||"",this.credential=f||null}h(Os,Error),Os.prototype.toJSON=function(){return{code:this.code,message:this.message}};var Gt="firebaseui/";function hn(){this.T=this.T,this.C=this.C}var Sr=0;hn.prototype.T=!1,hn.prototype.m=function(){!this.T&&(this.T=!0,this.o(),Sr!=0)};function Ho(o,u){o.T?I(void 0)?u.call(void 0):u():(o.C||(o.C=[]),o.C.push(I(void 0)?J(u,void 0):u))}hn.prototype.o=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ao(o){o&&typeof o.m=="function"&&o.m()}var Tl=Object.freeze||function(o){return o},ym=!Mt||9<=Number(Vo),bm=Mt&&!Cs("9"),$0=function(){if(!E.addEventListener||!Object.defineProperty)return!1;var o=!1,u=Object.defineProperty({},"passive",{get:function(){o=!0}});try{E.addEventListener("test",N,u),E.removeEventListener("test",N,u)}catch{}return o}();function uo(o,u){this.type=o,this.g=this.target=u,this.h=!1,this.qb=!0}uo.prototype.stopPropagation=function(){this.h=!0},uo.prototype.preventDefault=function(){this.qb=!1};function Qn(o,u){if(uo.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.j=this.keyCode=0,this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,o){var f=this.type=o.type,v=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=u,u=o.relatedTarget){if(ei){e:{try{ml(u.nodeName);var b=!0;break e}catch{}b=!1}b||(u=null)}}else f=="mouseover"?u=o.fromElement:f=="mouseout"&&(u=o.toElement);this.relatedTarget=u,v?(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.keyCode=o.keyCode||0,this.key=o.key||"",this.j=o.charCode||(f=="keypress"?o.keyCode:0),this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=T(o.pointerType)?o.pointerType:Q0[o.pointerType]||"",this.a=o,o.defaultPrevented&&this.preventDefault()}}te(Qn,uo);var Q0=Tl({2:"touch",3:"pen",4:"mouse"});Qn.prototype.stopPropagation=function(){Qn.K.stopPropagation.call(this),this.a.stopPropagation?this.a.stopPropagation():this.a.cancelBubble=!0},Qn.prototype.preventDefault=function(){Qn.K.preventDefault.call(this);var o=this.a;if(o.preventDefault)o.preventDefault();else if(o.returnValue=!1,bm)try{(o.ctrlKey||112<=o.keyCode&&123>=o.keyCode)&&(o.keyCode=-1)}catch{}};var ri="closure_listenable_"+(1e6*Math.random()|0),zo=0;function wm(o,u,f,v,b){this.listener=o,this.proxy=null,this.src=u,this.type=f,this.capture=!!v,this.La=b,this.key=++zo,this.sa=this.Ia=!1}function Tr(o){o.sa=!0,o.listener=null,o.proxy=null,o.src=null,o.La=null}function Wa(o){this.src=o,this.a={},this.g=0}Wa.prototype.add=function(o,u,f,v,b){var w=o.toString();o=this.a[w],o||(o=this.a[w]=[],this.g++);var C=Pf(o,u,v,b);return-1<C?(u=o[C],f||(u.Ia=!1)):(u=new wm(u,this.src,w,!!v,b),u.Ia=f,o.push(u)),u};function Of(o,u){var f=u.type;f in o.a&&Zr(o.a[f],u)&&(Tr(u),o.a[f].length==0&&(delete o.a[f],o.g--))}function Pf(o,u,f,v){for(var b=0;b<o.length;++b){var w=o[b];if(!w.sa&&w.listener==u&&w.capture==!!f&&w.La==v)return b}return-1}var Ko="closure_lm_"+(1e6*Math.random()|0),Id={};function Ur(o,u,f,v,b){if(v&&v.once)return Ha(o,u,f,v,b);if(H(u)){for(var w=0;w<u.length;w++)Ur(o,u[w],f,v,b);return null}return f=co(f),o&&o[ri]?o.J.add(String(u),f,!1,P(v)?!!v.capture:!!v,b):_m(o,u,f,!1,v,b)}function _m(o,u,f,v,b,w){if(!u)throw Error("Invalid event type");var C=P(b)?!!b.capture:!!b,R=Lf(o);if(R||(o[Ko]=R=new Wa(o)),f=R.add(u,f,v,C,w),f.proxy)return f;if(v=Sd(),f.proxy=v,v.src=o,v.listener=f,o.addEventListener)$0||(b=C),b===void 0&&(b=!1),o.addEventListener(u.toString(),v,b);else if(o.attachEvent)o.attachEvent(Df(u.toString()),v);else if(o.addListener&&o.removeListener)o.addListener(v);else throw Error("addEventListener and attachEvent are unavailable.");return f}function Sd(){var o=Em,u=ym?function(f){return o.call(u.src,u.listener,f)}:function(f){if(f=o.call(u.src,u.listener,f),!f)return f};return u}function Ha(o,u,f,v,b){if(H(u)){for(var w=0;w<u.length;w++)Ha(o,u[w],f,v,b);return null}return f=co(f),o&&o[ri]?o.J.add(String(u),f,!0,P(v)?!!v.capture:!!v,b):_m(o,u,f,!0,v,b)}function Ps(o,u,f,v,b){if(H(u))for(var w=0;w<u.length;w++)Ps(o,u[w],f,v,b);else v=P(v)?!!v.capture:!!v,f=co(f),o&&o[ri]?(o=o.J,u=String(u).toString(),u in o.a&&(w=o.a[u],f=Pf(w,f,v,b),-1<f&&(Tr(w[f]),cn(w,f),w.length==0&&(delete o.a[u],o.g--)))):o&&(o=Lf(o))&&(u=o.a[u.toString()],o=-1,u&&(o=Pf(u,f,v,b)),(f=-1<o?u[o]:null)&&lo(f))}function lo(o){if(typeof o!="number"&&o&&!o.sa){var u=o.src;if(u&&u[ri])Of(u.J,o);else{var f=o.type,v=o.proxy;u.removeEventListener?u.removeEventListener(f,v,o.capture):u.detachEvent?u.detachEvent(Df(f),v):u.addListener&&u.removeListener&&u.removeListener(v),(f=Lf(u))?(Of(f,o),f.g==0&&(f.src=null,u[Ko]=null)):Tr(o)}}}function Df(o){return o in Id?Id[o]:Id[o]="on"+o}function za(o,u,f,v){var b=!0;if((o=Lf(o))&&(u=o.a[u.toString()]))for(u=u.concat(),o=0;o<u.length;o++){var w=u[o];w&&w.capture==f&&!w.sa&&(w=Td(w,v),b=b&&w!==!1)}return b}function Td(o,u){var f=o.listener,v=o.La||o.src;return o.Ia&&lo(o),f.call(v,u)}function Em(o,u){if(o.sa)return!0;if(!ym){if(!u)e:{u=["window","event"];for(var f=E,v=0;v<u.length;v++)if(f=f[u[v]],f==null){u=null;break e}u=f}if(v=u,u=new Qn(v,this),f=!0,!(0>v.keyCode||v.returnValue!=null)){e:{var b=!1;if(v.keyCode==0)try{v.keyCode=-1;break e}catch{b=!0}(b||v.returnValue==null)&&(v.returnValue=!0)}for(v=[],b=u.g;b;b=b.parentNode)v.push(b);for(o=o.type,b=v.length-1;!u.h&&0<=b;b--){u.g=v[b];var w=za(v[b],o,!0,u);f=f&&w}for(b=0;!u.h&&b<v.length;b++)u.g=v[b],w=za(v[b],o,!1,u),f=f&&w}return f}return Td(o,new Qn(u,this))}function Lf(o){return o=o[Ko],o instanceof Wa?o:null}var Mf="__closure_events_fn_"+(1e9*Math.random()>>>0);function co(o){return z(o)?o:(o[Mf]||(o[Mf]=function(u){return o.handleEvent(u)}),o[Mf])}function Wt(){hn.call(this),this.J=new Wa(this),this.wb=this,this.Ha=null}te(Wt,hn),Wt.prototype[ri]=!0,Wt.prototype.Za=function(o){this.Ha=o},Wt.prototype.removeEventListener=function(o,u,f,v){Ps(this,o,u,f,v)};function Yo(o,u){var f,v=o.Ha;if(v)for(f=[];v;v=v.Ha)f.push(v);if(o=o.wb,v=u.type||u,T(u))u=new uo(u,o);else if(u instanceof uo)u.target=u.target||o;else{var b=u;u=new uo(v,o),U(u,b)}if(b=!0,f)for(var w=f.length-1;!u.h&&0<=w;w--){var C=u.g=f[w];b=Ff(C,v,!0,u)&&b}if(u.h||(C=u.g=o,b=Ff(C,v,!0,u)&&b,u.h||(b=Ff(C,v,!1,u)&&b)),f)for(w=0;!u.h&&w<f.length;w++)C=u.g=f[w],b=Ff(C,v,!1,u)&&b;return b}Wt.prototype.o=function(){if(Wt.K.o.call(this),this.J){var o=this.J,u;for(u in o.a){for(var f=o.a[u],v=0;v<f.length;v++)Tr(f[v]);delete o.a[u],o.g--}}this.Ha=null};function Ff(o,u,f,v){if(u=o.J.a[String(u)],!u)return!0;u=u.concat();for(var b=!0,w=0;w<u.length;++w){var C=u[w];if(C&&!C.sa&&C.capture==f){var R=C.listener,W=C.La||C.src;C.Ia&&Of(o.J,C),b=R.call(W,v)!==!1&&b}}return b&&v.qb!=0}var Ar={},Al=0;function Im(o,u){if(!o)throw Error("Event target element must be provided!");if(o=Cl(o),Ar[o]&&Ar[o].length)for(var f=0;f<Ar[o].length;f++)Yo(Ar[o][f],u)}function Ad(o){var u=Cl(o.N());Ar[u]&&Ar[u].length&&(Is(Ar[u],function(f){return f==o}),Ar[u].length||delete Ar[u])}function Cl(o){return typeof o.a>"u"&&(o.a=Al,Al++),o.a}function ar(o){if(!o)throw Error("Event target element must be provided!");Wt.call(this),this.a=o}h(ar,Wt),ar.prototype.N=function(){return this.a},ar.prototype.register=function(){var o=Cl(this.N());Ar[o]?ln(Ar[o],this)||Ar[o].push(this):Ar[o]=[this]};function ii(o){if(!o)return!1;try{return!!o.$goog_Thenable}catch{return!1}}function Uf(o,u){this.h=o,this.j=u,this.g=0,this.a=null}Uf.prototype.get=function(){if(0<this.g){this.g--;var o=this.a;this.a=o.next,o.next=null}else o=this.h();return o};function Sm(o,u){o.j(u),100>o.g&&(o.g++,u.next=o.a,o.a=u)}function jf(){this.g=this.a=null}var Cd=new Uf(function(){return new Vf},function(o){o.reset()});jf.prototype.add=function(o,u){var f=Cd.get();f.set(o,u),this.g?this.g.next=f:this.a=f,this.g=f};function Ka(){var o=Ya,u=null;return o.a&&(u=o.a,o.a=o.a.next,o.a||(o.g=null),u.next=null),u}function Vf(){this.next=this.g=this.a=null}Vf.prototype.set=function(o,u){this.a=o,this.g=u,this.next=null},Vf.prototype.reset=function(){this.next=this.g=this.a=null};function Ds(o){E.setTimeout(function(){throw o},0)}var rn;function Tt(){var o=E.MessageChannel;if(typeof o>"u"&&typeof window<"u"&&window.postMessage&&window.addEventListener&&!Ge("Presto")&&(o=function(){var b=document.createElement("IFRAME");b.style.display="none",b.src="",document.documentElement.appendChild(b);var w=b.contentWindow;b=w.document,b.open(),b.write(""),b.close();var C="callImmediate"+Math.random(),R=w.location.protocol=="file:"?"*":w.location.protocol+"//"+w.location.host;b=J(function(W){(R=="*"||W.origin==R)&&W.data==C&&this.port1.onmessage()},this),w.addEventListener("message",b,!1),this.port1={},this.port2={postMessage:function(){w.postMessage(C,R)}}}),typeof o<"u"&&!Ge("Trident")&&!Ge("MSIE")){var u=new o,f={},v=f;return u.port1.onmessage=function(){if(I(f.next)){f=f.next;var b=f.gb;f.gb=null,b()}},function(b){v.next={gb:b},v=v.next,u.port2.postMessage(0)}}return typeof document<"u"&&"onreadystatechange"in document.createElement("SCRIPT")?function(b){var w=document.createElement("SCRIPT");w.onreadystatechange=function(){w.onreadystatechange=null,w.parentNode.removeChild(w),w=null,b(),b=null},document.documentElement.appendChild(w)}:function(b){E.setTimeout(b,0)}}function kl(o,u){Ii||Bf(),Xo||(Ii(),Xo=!0),Ya.add(o,u)}var Ii;function Bf(){if(E.Promise&&E.Promise.resolve){var o=E.Promise.resolve(void 0);Ii=function(){o.then(Xa)}}else Ii=function(){var u=Xa;!z(E.setImmediate)||E.Window&&E.Window.prototype&&!Ge("Edge")&&E.Window.prototype.setImmediate==E.setImmediate?(rn||(rn=Tt()),rn(u)):E.setImmediate(u)}}var Xo=!1,Ya=new jf;function Xa(){for(var o;o=Ka();){try{o.a.call(o.g)}catch(u){Ds(u)}Sm(Cd,o)}Xo=!1}function Ht(o){if(this.a=jr,this.A=void 0,this.j=this.g=this.h=null,this.s=this.i=!1,o!=N)try{var u=this;o.call(void 0,function(f){Ms(u,oi,f)},function(f){if(!(f instanceof Qa))try{throw f instanceof Error?f:Error("Promise rejected.")}catch{}Ms(u,Si,f)})}catch(f){Ms(this,Si,f)}}var jr=0,oi=2,Si=3;function kd(){this.next=this.j=this.g=this.s=this.a=null,this.h=!1}kd.prototype.reset=function(){this.j=this.g=this.s=this.a=null,this.h=!1};var fo=new Uf(function(){return new kd},function(o){o.reset()});function xl(o,u,f){var v=fo.get();return v.s=o,v.g=u,v.j=f,v}function Ut(o){if(o instanceof Ht)return o;var u=new Ht(N);return Ms(u,oi,o),u}function Ls(o){return new Ht(function(u,f){f(o)})}Ht.prototype.then=function(o,u,f){return Tm(this,z(o)?o:null,z(u)?u:null,f)},Ht.prototype.$goog_Thenable=!0,t=Ht.prototype,t.fc=function(o,u){return o=xl(o,o,u),o.h=!0,qf(this,o),this},t.Ca=function(o,u){return Tm(this,null,o,u)},t.cancel=function(o){this.a==jr&&kl(function(){var u=new Qa(o);$a(this,u)},this)};function $a(o,u){if(o.a==jr)if(o.h){var f=o.h;if(f.g){for(var v=0,b=null,w=null,C=f.g;C&&(C.h||(v++,C.a==o&&(b=C),!(b&&1<v)));C=C.next)b||(w=C);b&&(f.a==jr&&v==1?$a(f,u):(w?(v=w,v.next==f.j&&(f.j=v),v.next=v.next.next):Wf(f),Hf(f,b,Si,u)))}o.h=null}else Ms(o,Si,u)}function qf(o,u){o.g||o.a!=oi&&o.a!=Si||Gf(o),o.j?o.j.next=u:o.g=u,o.j=u}function Tm(o,u,f,v){var b=xl(null,null,null);return b.a=new Ht(function(w,C){b.s=u?function(R){try{var W=u.call(v,R);w(W)}catch(ne){C(ne)}}:w,b.g=f?function(R){try{var W=f.call(v,R);!I(W)&&R instanceof Qa?C(R):w(W)}catch(ne){C(ne)}}:C}),b.a.h=o,qf(o,b),b.a}t.hc=function(o){this.a=jr,Ms(this,oi,o)},t.ic=function(o){this.a=jr,Ms(this,Si,o)};function Ms(o,u,f){if(o.a==jr){o===f&&(u=Si,f=new TypeError("Promise cannot resolve to itself")),o.a=1;e:{var v=f,b=o.hc,w=o.ic;if(v instanceof Ht){qf(v,xl(b||N,w||null,o));var C=!0}else if(ii(v))v.then(b,w,o),C=!0;else{if(P(v))try{var R=v.then;if(z(R)){Am(v,R,b,w,o),C=!0;break e}}catch(W){w.call(o,W),C=!0;break e}C=!1}}C||(o.A=f,o.a=u,o.h=null,Gf(o),u!=Si||f instanceof Qa||Jn(o,f))}}function Am(o,u,f,v,b){function w(W){R||(R=!0,v.call(b,W))}function C(W){R||(R=!0,f.call(b,W))}var R=!1;try{u.call(o,C,w)}catch(W){w(W)}}function Gf(o){o.i||(o.i=!0,kl(o.Hb,o))}function Wf(o){var u=null;return o.g&&(u=o.g,o.g=u.next,u.next=null),o.g||(o.j=null),u}t.Hb=function(){for(var o;o=Wf(this);)Hf(this,o,this.a,this.A);this.i=!1};function Hf(o,u,f,v){if(f==Si&&u.g&&!u.h)for(;o&&o.s;o=o.h)o.s=!1;if(u.a)u.a.h=null,me(u,f,v);else try{u.h?u.s.call(u.j):me(u,f,v)}catch(b){ho.call(null,b)}Sm(fo,u)}function me(o,u,f){u==oi?o.s.call(o.j,f):o.g&&o.g.call(o.j,f)}function Jn(o,u){o.s=!0,kl(function(){o.s&&ho.call(null,u)})}var ho=Ds;function Qa(o){De.call(this,o)}te(Qa,De),Qa.prototype.name="cancel";function Cm(o,u,f){u||(u={}),f=f||window;var v=o instanceof qt?o:Ma(typeof o.href<"u"?o.href:String(o));o=u.target||o.target;var b=[];for(w in u)switch(w){case"width":case"height":case"top":case"left":b.push(w+"="+u[w]);break;case"target":case"noopener":case"noreferrer":break;default:b.push(w+"="+(u[w]?1:0))}var w=b.join(",");return(Ge("iPhone")&&!Ge("iPod")&&!Ge("iPad")||Ge("iPad")||Ge("iPod"))&&f.navigator&&f.navigator.standalone&&o&&o!="_self"?(w=f.document.createElement("A"),v=v instanceof qt?v:_e(v),w.href=to(v),w.setAttribute("target",o),u.noreferrer&&w.setAttribute("rel","noreferrer"),u=document.createEvent("MouseEvent"),u.initMouseEvent("click",!0,!0,f,1),w.dispatchEvent(u),f={}):u.noreferrer?(f=f.open("",o,w),u=to(v).toString(),f&&(Zi&&u.indexOf(";")!=-1&&(u="'"+u.replace(/'/g,"%27")+"'"),f.opener=null,u=ti('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Uo(u)+'">',null),f.document.write(Ua(u)),f.document.close())):(f=f.open(to(v).toString(),o,w))&&u.noopener&&(f.opener=null),f}function zf(){try{return!(!window.opener||!window.opener.location||window.opener.location.hostname!==window.location.hostname||window.opener.location.protocol!==window.location.protocol)}catch{}return!1}function $o(o){Cm(o,{target:window.cordova&&window.cordova.InAppBrowser?"_system":"_blank"},void 0)}function Ja(o,u){if(o=P(o)&&o.nodeType==1?o:document.querySelector(String(o)),o==null)throw Error(u||"Cannot find element.");return o}function Ti(){return window.location.href}function xd(){var o=null;return new Ht(function(u){E.document.readyState=="complete"?u():(o=function(){u()},Ha(window,"load",o))}).Ca(function(u){throw Ps(window,"load",o),u})}function Nd(){for(var o=32,u=[];0<o;)u.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),o--;return u.join("")}function Rd(o,u,f){return f=f===void 0?{}:f,Object.keys(o).filter(function(v){return u.includes(v)}).reduce(function(v,b){return v[b]=o[b],v},f)}function Vr(o){var u=Rm;this.s=[],this.T=u,this.O=o||null,this.j=this.a=!1,this.h=void 0,this.J=this.l=this.A=!1,this.i=0,this.g=null,this.C=0}Vr.prototype.cancel=function(o){if(this.a)this.h instanceof Vr&&this.h.cancel();else{if(this.g){var u=this.g;delete this.g,o?u.cancel(o):(u.C--,0>=u.C&&u.cancel())}this.T?this.T.call(this.O,this):this.J=!0,this.a||(o=new Ol,Za(this),Nl(this,!1,o))}},Vr.prototype.L=function(o,u){this.A=!1,Nl(this,o,u)};function Nl(o,u,f){o.a=!0,o.h=f,o.j=!u,km(o)}function Za(o){if(o.a){if(!o.J)throw new Kf;o.J=!1}}Vr.prototype.callback=function(o){Za(this),Nl(this,!0,o)};function Rl(o,u,f){o.s.push([u,f,void 0]),o.a&&km(o)}Vr.prototype.then=function(o,u,f){var v,b,w=new Ht(function(C,R){v=C,b=R});return Rl(this,v,function(C){C instanceof Ol?w.cancel():b(C)}),w.then(o,u,f)},Vr.prototype.$goog_Thenable=!0;function eu(o){return rt(o.s,function(u){return z(u[1])})}function km(o){if(o.i&&o.a&&eu(o)){var u=o.i,f=Pl[u];f&&(E.clearTimeout(f.a),delete Pl[u]),o.i=0}o.g&&(o.g.C--,delete o.g),u=o.h;for(var v=f=!1;o.s.length&&!o.A;){var b=o.s.shift(),w=b[0],C=b[1];if(b=b[2],w=o.j?C:w)try{var R=w.call(b||o.O,u);I(R)&&(o.j=o.j&&(R==u||R instanceof Error),o.h=u=R),(ii(u)||typeof E.Promise=="function"&&u instanceof E.Promise)&&(v=!0,o.A=!0)}catch(W){u=W,o.j=!0,eu(o)||(f=!0)}}o.h=u,v&&(R=J(o.L,o,!0),v=J(o.L,o,!1),u instanceof Vr?(Rl(u,R,v),u.l=!0):u.then(R,v)),f&&(u=new xm(u),Pl[u.a]=u,o.i=u.a)}function Kf(){De.call(this)}te(Kf,De),Kf.prototype.message="Deferred has already fired",Kf.prototype.name="AlreadyCalledError";function Ol(){De.call(this)}te(Ol,De),Ol.prototype.message="Deferred was canceled",Ol.prototype.name="CanceledError";function xm(o){this.a=E.setTimeout(J(this.h,this),0),this.g=o}xm.prototype.h=function(){throw delete Pl[this.a],this.g};var Pl={};function Nm(o){var u={},f=u.document||document,v=Ke(o).toString(),b=document.createElement("SCRIPT"),w={rb:b,sb:void 0},C=new Vr(w),R=null,W=u.timeout!=null?u.timeout:5e3;return 0<W&&(R=window.setTimeout(function(){Yf(b,!0);var ne=new Xf(Od,"Timeout reached for loading script "+v);Za(C),Nl(C,!1,ne)},W),w.sb=R),b.onload=b.onreadystatechange=function(){b.readyState&&b.readyState!="loaded"&&b.readyState!="complete"||(Yf(b,u.yc||!1,R),C.callback(null))},b.onerror=function(){Yf(b,!0,R);var ne=new Xf(Z0,"Error while loading script "+v);Za(C),Nl(C,!1,ne)},w=u.attributes||{},U(w,{type:"text/javascript",charset:"UTF-8"}),K0(b,w),fm(b,o),J0(f).appendChild(b),C}function J0(o){var u=(o||document).getElementsByTagName("HEAD");return u&&u.length!=0?u[0]:o.documentElement}function Rm(){if(this&&this.rb){var o=this.rb;o&&o.tagName=="SCRIPT"&&Yf(o,!0,this.sb)}}function Yf(o,u,f){f!=null&&E.clearTimeout(f),o.onload=N,o.onerror=N,o.onreadystatechange=N,u&&window.setTimeout(function(){Go(o)},0)}var Z0=0,Od=1;function Xf(o,u){var f="Jsloader error (code #"+o+")";u&&(f+=": "+u),De.call(this,f),this.code=o}te(Xf,De);function tu(){return E.google&&E.google.accounts&&E.google.accounts.id||null}function Pd(o){this.a=o||tu(),this.h=!1,this.g=null}Pd.prototype.cancel=function(){this.a&&this.h&&(this.g&&this.g(null),this.a.cancel())};function Om(o,u,f){if(o.a&&u)return function(){return o.h=!0,new Ht(function(b){o.g=b,o.a.initialize({client_id:u,callback:b,auto_select:!f}),o.a.prompt()})}();if(u){var v=Dd.Xa().load().then(function(){return o.a=tu(),Om(o,u,f)}).Ca(function(){return null});return Ut(v)}return Ut(null)}D(Pd);var Pm=new Da(cd,"https://accounts.google.com/gsi/client");function Dd(){this.a=null}Dd.prototype.load=function(){var o=this;if(this.a)return this.a;var u=ks();return tu()?Ut():this.a=xd().then(function(){if(!tu())return new Ht(function(f,v){var b=setTimeout(function(){o.a=null,v(Error("Network error!"))},1e4);E.onGoogleLibraryLoad=function(){clearTimeout(b),f()},Ut(Nm(u)).then(function(){tu()&&f()}).Ca(function(w){clearTimeout(b),o.a=null,v(w)})})})},D(Dd);function Ld(o,u){this.a=o,this.g=u||function(f){throw f}}Ld.prototype.confirm=function(o){return Ut(this.a.confirm(o)).Ca(this.g)};function $f(o,u,f){this.reset(o,u,f,void 0,void 0)}$f.prototype.a=null,$f.prototype.reset=function(o,u,f,v,b){this.h=v||le(),this.j=o,this.s=u,this.g=f,delete this.a};function nu(o){this.s=o,this.a=this.h=this.j=this.g=null}function Dl(o,u){this.name=o,this.value=u}Dl.prototype.toString=function(){return this.name};var Md=new Dl("SEVERE",1e3),Qf=new Dl("WARNING",900),Fd=new Dl("CONFIG",700);function Dm(o){return o.j?o.j:o.g?Dm(o.g):(Ln("Root logger has no level set."),null)}nu.prototype.log=function(o,u,f){if(o.value>=Dm(this).value)for(z(u)&&(u=u()),o=new $f(o,String(u),this.s),f&&(o.a=f),f=this;f;){var v=f,b=o;if(v.a)for(var w=0;u=v.a[w];w++)u(b);f=f.g}};var Jf={},ru=null;function Ud(){ru||(ru=new nu(""),Jf[""]=ru,ru.j=Fd)}function jd(o){Ud();var u;if(!(u=Jf[o])){u=new nu(o);var f=o.lastIndexOf("."),v=o.substr(f+1);f=jd(o.substr(0,f)),f.h||(f.h={}),f.h[v]=u,u.g=f,Jf[o]=u}return u}function Fs(){this.a=le()}var Vd=null;Fs.prototype.set=function(o){this.a=o},Fs.prototype.reset=function(){this.set(le())},Fs.prototype.get=function(){return this.a};function po(o){this.j=o||"",Vd||(Vd=new Fs),this.s=Vd}po.prototype.a=!0,po.prototype.g=!0,po.prototype.h=!1;function Us(o){return 10>o?"0"+o:String(o)}function ew(o,u){o=(o.h-u)/1e3,u=o.toFixed(3);var f=0;if(1>o)f=2;else for(;100>o;)f++,o*=10;for(;0<f--;)u=" "+u;return u}function Lm(o){po.call(this,o)}te(Lm,po);function Zf(o,u){var f=[];if(f.push(o.j," "),o.g){var v=new Date(u.h);f.push("[",Us(v.getFullYear()-2e3)+Us(v.getMonth()+1)+Us(v.getDate())+" "+Us(v.getHours())+":"+Us(v.getMinutes())+":"+Us(v.getSeconds())+"."+Us(Math.floor(v.getMilliseconds()/10)),"] ")}return f.push("[",ew(u,o.s.get()),"s] "),f.push("[",u.g,"] "),f.push(u.s),o.h&&(u=u.a)&&f.push(`
`,u instanceof Error?u.message:u.toString()),o.a&&f.push(`
`),f.join("")}function Ll(){this.s=J(this.h,this),this.a=new Lm,this.a.g=!1,this.a.h=!1,this.g=this.a.a=!1,this.j={}}Ll.prototype.h=function(o){function u(w){if(w){if(w.value>=Md.value)return"error";if(w.value>=Qf.value)return"warn";if(w.value>=Fd.value)return"log"}return"debug"}if(!this.j[o.g]){var f=Zf(this.a,o),v=Mm;if(v){var b=u(o.j);Fm(v,b,f,o.a)}}};var Mm=E.console;function Fm(o,u,f,v){o[u]?o[u](f,v||""):o.log(f,v||"")}function Un(o,u){var f=Ml;f&&f.log(Md,o,u)}var Ml;Ml=jd("firebaseui");var Fl=new Ll;if(Fl.g!=1){var Ul;Ud(),Ul=ru;var Bd=Fl.s;Ul.a||(Ul.a=[]),Ul.a.push(Bd),Fl.g=!0}function vo(o){var u=Ml;u&&u.log(Qf,o,void 0)}function eh(){this.a=(typeof document>"u"?null:document)||{cookie:""}}t=eh.prototype,t.set=function(o,u,f,v,b,w){if(/[;=\s]/.test(o))throw Error('Invalid cookie name "'+o+'"');if(/[;\r\n]/.test(u))throw Error('Invalid cookie value "'+u+'"');I(f)||(f=-1),b=b?";domain="+b:"",v=v?";path="+v:"",w=w?";secure":"",f=0>f?"":f==0?";expires="+new Date(1970,1,1).toUTCString():";expires="+new Date(le()+1e3*f).toUTCString(),this.a.cookie=o+"="+u+b+v+f+w},t.get=function(o,u){for(var f=o+"=",v=(this.a.cookie||"").split(";"),b=0,w;b<v.length;b++){if(w=dt(v[b]),w.lastIndexOf(f,0)==0)return w.substr(f.length);if(w==o)return""}return u},t.ja=function(){return Br(this).keys},t.la=function(){return Br(this).values},t.clear=function(){for(var o=Br(this).keys,u=o.length-1;0<=u;u--){var f=o[u];this.get(f),this.set(f,"",0,void 0,void 0)}};function Br(o){o=(o.a.cookie||"").split(";");for(var u=[],f=[],v,b,w=0;w<o.length;w++)b=dt(o[w]),v=b.indexOf("="),v==-1?(u.push(""),f.push(b)):(u.push(b.substring(0,v)),f.push(b.substring(v+1)));return{keys:u,values:f}}var jl=new eh;function qd(){}function js(o,u,f,v){this.h=typeof o<"u"&&o!==null?o:-1,this.g=u||null,this.a=f||null,this.j=!!v}h(js,qd),js.prototype.set=function(o,u){jl.set(o,u,this.h,this.g,this.a,this.j)},js.prototype.get=function(o){return jl.get(o)||null},js.prototype.ra=function(o){var u=this.g,f=this.a;jl.get(o),jl.set(o,"",0,u,f)};function th(o,u){this.g=o,this.a=u||null}function Gd(o){return{email:o.g,credential:o.a&&o.a.toJSON()}}function Vl(o){if(o&&o.email){var u=o.credential&&Z.auth.AuthCredential.fromJSON(o.credential);return new th(o.email,u)}return null}function iu(o){this.a=o||null}function Bl(o){for(var u=[],f=0,v=0;v<o.length;v++){var b=o.charCodeAt(v);255<b&&(u[f++]=b&255,b>>=8),u[f++]=b}return u}function ou(o){return bi(o,function(u){return u=u.toString(16),1<u.length?u:"0"+u}).join("")}function go(o){for(this.i=o,this.g=this.i.length/4,this.j=this.g+6,this.h=[[],[],[],[]],this.s=[[],[],[],[]],this.a=Array(qr*(this.j+1)),o=0;o<this.g;o++)this.a[o]=[this.i[4*o],this.i[4*o+1],this.i[4*o+2],this.i[4*o+3]];var u=Array(4);for(o=this.g;o<qr*(this.j+1);o++){if(u[0]=this.a[o-1][0],u[1]=this.a[o-1][1],u[2]=this.a[o-1][2],u[3]=this.a[o-1][3],o%this.g==0){var f=u,v=f[0];f[0]=f[1],f[1]=f[2],f[2]=f[3],f[3]=v,Wd(u),u[0]^=ql[o/this.g][0],u[1]^=ql[o/this.g][1],u[2]^=ql[o/this.g][2],u[3]^=ql[o/this.g][3]}else 6<this.g&&o%this.g==4&&Wd(u);this.a[o]=Array(4),this.a[o][0]=this.a[o-this.g][0]^u[0],this.a[o][1]=this.a[o-this.g][1]^u[1],this.a[o][2]=this.a[o-this.g][2]^u[2],this.a[o][3]=this.a[o-this.g][3]^u[3]}}go.prototype.A=16;var qr=go.prototype.A/4;function nh(o,u){for(var f,v=0;v<qr;v++)for(var b=0;4>b;b++)f=4*b+v,f=u[f],o.h[v][b]=f}function Um(o){for(var u=[],f=0;f<qr;f++)for(var v=0;4>v;v++)u[4*v+f]=o.h[f][v];return u}function ur(o,u){for(var f=0;4>f;f++)for(var v=0;4>v;v++)o.h[f][v]^=o.a[4*u+v][f]}function su(o,u){for(var f=0;4>f;f++)for(var v=0;4>v;v++)o.h[f][v]=u[o.h[f][v]]}function jm(o){for(var u=1;4>u;u++)for(var f=0;4>f;f++)o.s[u][f]=o.h[u][f];for(u=1;4>u;u++)for(f=0;4>f;f++)o.h[u][f]=o.s[u][(f+u)%qr]}function Qo(o){for(var u=1;4>u;u++)for(var f=0;4>f;f++)o.s[u][(f+u)%qr]=o.h[u][f];for(u=1;4>u;u++)for(f=0;4>f;f++)o.h[u][f]=o.s[u][f]}function Wd(o){o[0]=pn[o[0]],o[1]=pn[o[1]],o[2]=pn[o[2]],o[3]=pn[o[3]]}var pn=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],Jo=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],ql=[[0,0,0,0],[1,0,0,0],[2,0,0,0],[4,0,0,0],[8,0,0,0],[16,0,0,0],[32,0,0,0],[64,0,0,0],[128,0,0,0],[27,0,0,0],[54,0,0,0]],Ai=[0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,118,120,122,124,126,128,130,132,134,136,138,140,142,144,146,148,150,152,154,156,158,160,162,164,166,168,170,172,174,176,178,180,182,184,186,188,190,192,194,196,198,200,202,204,206,208,210,212,214,216,218,220,222,224,226,228,230,232,234,236,238,240,242,244,246,248,250,252,254,27,25,31,29,19,17,23,21,11,9,15,13,3,1,7,5,59,57,63,61,51,49,55,53,43,41,47,45,35,33,39,37,91,89,95,93,83,81,87,85,75,73,79,77,67,65,71,69,123,121,127,125,115,113,119,117,107,105,111,109,99,97,103,101,155,153,159,157,147,145,151,149,139,137,143,141,131,129,135,133,187,185,191,189,179,177,183,181,171,169,175,173,163,161,167,165,219,217,223,221,211,209,215,213,203,201,207,205,195,193,199,197,251,249,255,253,243,241,247,245,235,233,239,237,227,225,231,229],Gl=[0,3,6,5,12,15,10,9,24,27,30,29,20,23,18,17,48,51,54,53,60,63,58,57,40,43,46,45,36,39,34,33,96,99,102,101,108,111,106,105,120,123,126,125,116,119,114,113,80,83,86,85,92,95,90,89,72,75,78,77,68,71,66,65,192,195,198,197,204,207,202,201,216,219,222,221,212,215,210,209,240,243,246,245,252,255,250,249,232,235,238,237,228,231,226,225,160,163,166,165,172,175,170,169,184,187,190,189,180,183,178,177,144,147,150,149,156,159,154,153,136,139,142,141,132,135,130,129,155,152,157,158,151,148,145,146,131,128,133,134,143,140,137,138,171,168,173,174,167,164,161,162,179,176,181,182,191,188,185,186,251,248,253,254,247,244,241,242,227,224,229,230,239,236,233,234,203,200,205,206,199,196,193,194,211,208,213,214,223,220,217,218,91,88,93,94,87,84,81,82,67,64,69,70,79,76,73,74,107,104,109,110,103,100,97,98,115,112,117,118,127,124,121,122,59,56,61,62,55,52,49,50,35,32,37,38,47,44,41,42,11,8,13,14,7,4,1,2,19,16,21,22,31,28,25,26],Ci=[0,9,18,27,36,45,54,63,72,65,90,83,108,101,126,119,144,153,130,139,180,189,166,175,216,209,202,195,252,245,238,231,59,50,41,32,31,22,13,4,115,122,97,104,87,94,69,76,171,162,185,176,143,134,157,148,227,234,241,248,199,206,213,220,118,127,100,109,82,91,64,73,62,55,44,37,26,19,8,1,230,239,244,253,194,203,208,217,174,167,188,181,138,131,152,145,77,68,95,86,105,96,123,114,5,12,23,30,33,40,51,58,221,212,207,198,249,240,235,226,149,156,135,142,177,184,163,170,236,229,254,247,200,193,218,211,164,173,182,191,128,137,146,155,124,117,110,103,88,81,74,67,52,61,38,47,16,25,2,11,215,222,197,204,243,250,225,232,159,150,141,132,187,178,169,160,71,78,85,92,99,106,113,120,15,6,29,20,43,34,57,48,154,147,136,129,190,183,172,165,210,219,192,201,246,255,228,237,10,3,24,17,46,39,60,53,66,75,80,89,102,111,116,125,161,168,179,186,133,140,151,158,233,224,251,242,205,196,223,214,49,56,35,42,21,28,7,14,121,112,107,98,93,84,79,70],Wl=[0,11,22,29,44,39,58,49,88,83,78,69,116,127,98,105,176,187,166,173,156,151,138,129,232,227,254,245,196,207,210,217,123,112,109,102,87,92,65,74,35,40,53,62,15,4,25,18,203,192,221,214,231,236,241,250,147,152,133,142,191,180,169,162,246,253,224,235,218,209,204,199,174,165,184,179,130,137,148,159,70,77,80,91,106,97,124,119,30,21,8,3,50,57,36,47,141,134,155,144,161,170,183,188,213,222,195,200,249,242,239,228,61,54,43,32,17,26,7,12,101,110,115,120,73,66,95,84,247,252,225,234,219,208,205,198,175,164,185,178,131,136,149,158,71,76,81,90,107,96,125,118,31,20,9,2,51,56,37,46,140,135,154,145,160,171,182,189,212,223,194,201,248,243,238,229,60,55,42,33,16,27,6,13,100,111,114,121,72,67,94,85,1,10,23,28,45,38,59,48,89,82,79,68,117,126,99,104,177,186,167,172,157,150,139,128,233,226,255,244,197,206,211,216,122,113,108,103,86,93,64,75,34,41,52,63,14,5,24,19,202,193,220,215,230,237,240,251,146,153,132,143,190,181,168,163],mo=[0,13,26,23,52,57,46,35,104,101,114,127,92,81,70,75,208,221,202,199,228,233,254,243,184,181,162,175,140,129,150,155,187,182,161,172,143,130,149,152,211,222,201,196,231,234,253,240,107,102,113,124,95,82,69,72,3,14,25,20,55,58,45,32,109,96,119,122,89,84,67,78,5,8,31,18,49,60,43,38,189,176,167,170,137,132,147,158,213,216,207,194,225,236,251,246,214,219,204,193,226,239,248,245,190,179,164,169,138,135,144,157,6,11,28,17,50,63,40,37,110,99,116,121,90,87,64,77,218,215,192,205,238,227,244,249,178,191,168,165,134,139,156,145,10,7,16,29,62,51,36,41,98,111,120,117,86,91,76,65,97,108,123,118,85,88,79,66,9,4,19,30,61,48,39,42,177,188,171,166,133,136,159,146,217,212,195,206,237,224,247,250,183,186,173,160,131,142,153,148,223,210,197,200,235,230,241,252,103,106,125,112,83,94,73,68,15,2,21,24,59,54,33,44,12,1,22,27,56,53,34,47,100,105,126,115,80,93,74,71,220,209,198,203,232,229,242,255,180,185,174,163,128,141,154,151],Hl=[0,14,28,18,56,54,36,42,112,126,108,98,72,70,84,90,224,238,252,242,216,214,196,202,144,158,140,130,168,166,180,186,219,213,199,201,227,237,255,241,171,165,183,185,147,157,143,129,59,53,39,41,3,13,31,17,75,69,87,89,115,125,111,97,173,163,177,191,149,155,137,135,221,211,193,207,229,235,249,247,77,67,81,95,117,123,105,103,61,51,33,47,5,11,25,23,118,120,106,100,78,64,82,92,6,8,26,20,62,48,34,44,150,152,138,132,174,160,178,188,230,232,250,244,222,208,194,204,65,79,93,83,121,119,101,107,49,63,45,35,9,7,21,27,161,175,189,179,153,151,133,139,209,223,205,195,233,231,245,251,154,148,134,136,162,172,190,176,234,228,246,248,210,220,206,192,122,116,102,104,66,76,94,80,10,4,22,24,50,60,46,32,236,226,240,254,212,218,200,198,156,146,128,142,164,170,184,182,12,2,16,30,52,58,40,38,124,114,96,110,68,74,88,86,55,57,43,37,15,1,19,29,71,73,91,85,127,113,99,109,215,217,203,197,239,225,243,253,167,169,187,181,159,145,131,141];function yo(o,u){o=new go(Cr(o)),u=Bl(u);for(var f=u.splice(0,16),v="",b;f.length;){b=16-f.length;for(var w=0;w<b;w++)f.push(0);for(b=o,nh(b,f),ur(b,0),f=1;f<b.j;++f){su(b,pn),jm(b),w=b.h;for(var C=b.s[0],R=0;4>R;R++)C[0]=w[0][R],C[1]=w[1][R],C[2]=w[2][R],C[3]=w[3][R],w[0][R]=Ai[C[0]]^Gl[C[1]]^C[2]^C[3],w[1][R]=C[0]^Ai[C[1]]^Gl[C[2]]^C[3],w[2][R]=C[0]^C[1]^Ai[C[2]]^Gl[C[3]],w[3][R]=Gl[C[0]]^C[1]^C[2]^Ai[C[3]];ur(b,f)}su(b,pn),jm(b),ur(b,b.j),v+=ou(Um(b)),f=u.splice(0,16)}return v}function Vm(o,u){o=new go(Cr(o));for(var f=[],v=0;v<u.length;v+=2)f.push(parseInt(u.substring(v,v+2),16));var b=f.splice(0,16);for(u="";b.length;){for(v=o,nh(v,b),ur(v,v.j),b=1;b<v.j;++b){Qo(v),su(v,Jo),ur(v,v.j-b);for(var w=v.h,C=v.s[0],R=0;4>R;R++)C[0]=w[0][R],C[1]=w[1][R],C[2]=w[2][R],C[3]=w[3][R],w[0][R]=Hl[C[0]]^Wl[C[1]]^mo[C[2]]^Ci[C[3]],w[1][R]=Ci[C[0]]^Hl[C[1]]^Wl[C[2]]^mo[C[3]],w[2][R]=mo[C[0]]^Ci[C[1]]^Hl[C[2]]^Wl[C[3]],w[3][R]=Wl[C[0]]^mo[C[1]]^Ci[C[2]]^Hl[C[3]]}if(Qo(v),su(v,Jo),ur(v,0),v=Um(v),8192>=v.length)v=String.fromCharCode.apply(null,v);else{for(b="",w=0;w<v.length;w+=8192)b+=String.fromCharCode.apply(null,$e(v,w,w+8192));v=b}u+=v,b=f.splice(0,16)}return u.replace(/(\x00)+$/,"")}function Cr(o){o=Bl(o.substring(0,32));for(var u=32-o.length,f=0;f<u;f++)o.push(0);return o}function Hd(o){var u=[];return ki(new zd,o,u),u.join("")}function zd(){}function ki(o,u,f){if(u==null)f.push("null");else{if(typeof u=="object"){if(H(u)){var v=u;u=v.length,f.push("[");for(var b="",w=0;w<u;w++)f.push(b),ki(o,v[w],f),b=",";f.push("]");return}if(u instanceof String||u instanceof Number||u instanceof Boolean)u=u.valueOf();else{f.push("{"),b="";for(v in u)Object.prototype.hasOwnProperty.call(u,v)&&(w=u[v],typeof w!="function"&&(f.push(b),xi(v,f),f.push(":"),ki(o,w,f),b=","));f.push("}");return}}switch(typeof u){case"string":xi(u,f);break;case"number":f.push(isFinite(u)&&!isNaN(u)?String(u):"null");break;case"boolean":f.push(String(u));break;case"function":f.push("null");break;default:throw Error("Unknown type: "+typeof u)}}}var Bm={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\u000b"},zl=/\uffff/.test("￿")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function xi(o,u){u.push('"',o.replace(zl,function(f){var v=Bm[f];return v||(v="\\u"+(f.charCodeAt(0)|65536).toString(16).substr(1),Bm[f]=v),v}),'"')}function au(o){this.a=o}au.prototype.set=function(o,u){I(u)?this.a.set(o,Hd(u)):this.a.ra(o)},au.prototype.get=function(o){try{var u=this.a.get(o)}catch{return}if(u!==null)try{return JSON.parse(u)}catch{throw"Storage: Invalid value was encountered"}};function uu(){}te(uu,qd),uu.prototype.clear=function(){var o=ve(this.ha(!0)),u=this;Ee(o,function(f){u.ra(f)})};function lu(o){this.a=o}te(lu,uu);function lr(o){if(!o.a)return!1;try{return o.a.setItem("__sak","1"),o.a.removeItem("__sak"),!0}catch{return!1}}t=lu.prototype,t.set=function(o,u){try{this.a.setItem(o,u)}catch{throw this.a.length==0?"Storage mechanism: Storage disabled":"Storage mechanism: Quota exceeded"}},t.get=function(o){if(o=this.a.getItem(o),!T(o)&&o!==null)throw"Storage mechanism: Invalid value was encountered";return o},t.ra=function(o){this.a.removeItem(o)},t.ha=function(o){var u=0,f=this.a,v=new F;return v.next=function(){if(u>=f.length)throw M;var b=f.key(u++);if(o)return b;if(b=f.getItem(b),!T(b))throw"Storage mechanism: Invalid value was encountered";return b},v},t.clear=function(){this.a.clear()},t.key=function(o){return this.a.key(o)};function rh(){var o=null;try{o=window.localStorage||null}catch{}this.a=o}te(rh,lu);function Kd(){var o=null;try{o=window.sessionStorage||null}catch{}this.a=o}te(Kd,lu);function Zo(o,u){this.g=o,this.a=u+"::"}te(Zo,uu),Zo.prototype.set=function(o,u){this.g.set(this.a+o,u)},Zo.prototype.get=function(o){return this.g.get(this.a+o)},Zo.prototype.ra=function(o){this.g.ra(this.a+o)},Zo.prototype.ha=function(o){var u=this.g.ha(!0),f=this,v=new F;return v.next=function(){for(var b=u.next();b.substr(0,f.a.length)!=f.a;)b=u.next();return o?b.substr(f.a.length):f.g.get(b)},v},lr(new rh);var qm,ih=new Kd;qm=lr(ih)?new Zo(ih,"firebaseui"):null;var Vs=new au(qm),cu={name:"pendingEmailCredential",storage:Vs},si={name:"redirectStatus",storage:Vs},fu={name:"redirectUrl",storage:Vs},es={name:"emailForSignIn",storage:new au(new js(3600,"/"))},ts={name:"pendingEncryptedCredential",storage:new au(new js(3600,"/"))};function Bs(o,u){return o.storage.get(u?o.name+":"+u:o.name)}function Tn(o,u){o.storage.a.ra(u?o.name+":"+u:o.name)}function qs(o,u,f){o.storage.set(f?o.name+":"+f:o.name,u)}function oh(o){return Bs(fu,o)||null}function Gr(o){return o=Bs(cu,o)||null,Vl(o)}function Wr(o){Tn(cu,o)}function hu(o,u){qs(cu,Gd(o),u)}function sh(o){return(o=Bs(si,o)||null)&&typeof o.tenantId<"u"?new iu(o.tenantId):null}function Yd(o,u){qs(si,{tenantId:o.a},u)}function tw(o,u){u=Bs(es,u);var f=null;if(u)try{var v=Vm(o,u),b=JSON.parse(v);f=b&&b.email||null}catch{}return f}function nw(o,u){u=Bs(ts,u);var f=null;if(u)try{var v=Vm(o,u);f=JSON.parse(v)}catch{}return Vl(f||null)}function Gm(o,u,f){qs(ts,yo(o,JSON.stringify(Gd(u))),f)}function Kl(){this.W={}}function _t(o,u,f){if(u.toLowerCase()in o.W)throw Error("Configuration "+u+" has already been defined.");o.W[u.toLowerCase()]=f}function Yl(o,u,f){if(!(u.toLowerCase()in o.W))throw Error("Configuration "+u+" is not defined.");o.W[u.toLowerCase()]=f}Kl.prototype.get=function(o){if(!(o.toLowerCase()in this.W))throw Error("Configuration "+o+" is not defined.");return this.W[o.toLowerCase()]};function cr(o,u){if(o=o.get(u),!o)throw Error("Configuration "+u+" is required.");return o}function pu(){this.g=void 0,this.a={}}t=pu.prototype,t.set=function(o,u){ah(this,o,u,!1)},t.add=function(o,u){ah(this,o,u,!0)};function ah(o,u,f,v){for(var b=0;b<u.length;b++){var w=u.charAt(b);o.a[w]||(o.a[w]=new pu),o=o.a[w]}if(v&&o.g!==void 0)throw Error('The collection already contains the key "'+u+'"');o.g=f}t.get=function(o){e:{for(var u=this,f=0;f<o.length;f++)if(u=u.a[o.charAt(f)],!u){o=void 0;break e}o=u}return o?o.g:void 0},t.la=function(){var o=[];return uh(this,o),o};function uh(o,u){o.g!==void 0&&u.push(o.g);for(var f in o.a)uh(o.a[f],u)}t.ja=function(){var o=[];return Xd(this,"",o),o};function Xd(o,u,f){o.g!==void 0&&f.push(u);for(var v in o.a)Xd(o.a[v],u+v,f)}t.clear=function(){this.a={},this.g=void 0};function du(o){for(this.a=o,this.g=new pu,o=0;o<this.a.length;o++){var u=this.g.get("+"+this.a[o].b);u?u.push(this.a[o]):this.g.add("+"+this.a[o].b,[this.a[o]])}}function ns(o,u){o=o.g;var f={},v=0;for(o.g!==void 0&&(f[v]=o.g);v<u.length;v++){var b=u.charAt(v);if(!(b in o.a))break;o=o.a[b],o.g!==void 0&&(f[v]=o.g)}for(var w in f)if(f.hasOwnProperty(w))return f[w];return[]}function ai(o){for(var u=0;u<Zn.length;u++)if(Zn[u].c===o)return Zn[u];return null}function $d(o){o=o.toUpperCase();for(var u=[],f=0;f<Zn.length;f++)Zn[f].f===o&&u.push(Zn[f]);return u}function Wm(o){if(0<o.length&&o.charAt(0)=="+"){o=o.substring(1);for(var u=[],f=0;f<Zn.length;f++)Zn[f].b==o&&u.push(Zn[f]);o=u}else o=$d(o);return o}function Hm(o){o.sort(function(u,f){return u.name.localeCompare(f.name,"en")})}var Zn=[{name:"Afghanistan",c:"93-AF-0",b:"93",f:"AF"},{name:"Åland Islands",c:"358-AX-0",b:"358",f:"AX"},{name:"Albania",c:"355-AL-0",b:"355",f:"AL"},{name:"Algeria",c:"213-DZ-0",b:"213",f:"DZ"},{name:"American Samoa",c:"1-AS-0",b:"1",f:"AS"},{name:"Andorra",c:"376-AD-0",b:"376",f:"AD"},{name:"Angola",c:"244-AO-0",b:"244",f:"AO"},{name:"Anguilla",c:"1-AI-0",b:"1",f:"AI"},{name:"Antigua and Barbuda",c:"1-AG-0",b:"1",f:"AG"},{name:"Argentina",c:"54-AR-0",b:"54",f:"AR"},{name:"Armenia",c:"374-AM-0",b:"374",f:"AM"},{name:"Aruba",c:"297-AW-0",b:"297",f:"AW"},{name:"Ascension Island",c:"247-AC-0",b:"247",f:"AC"},{name:"Australia",c:"61-AU-0",b:"61",f:"AU"},{name:"Austria",c:"43-AT-0",b:"43",f:"AT"},{name:"Azerbaijan",c:"994-AZ-0",b:"994",f:"AZ"},{name:"Bahamas",c:"1-BS-0",b:"1",f:"BS"},{name:"Bahrain",c:"973-BH-0",b:"973",f:"BH"},{name:"Bangladesh",c:"880-BD-0",b:"880",f:"BD"},{name:"Barbados",c:"1-BB-0",b:"1",f:"BB"},{name:"Belarus",c:"375-BY-0",b:"375",f:"BY"},{name:"Belgium",c:"32-BE-0",b:"32",f:"BE"},{name:"Belize",c:"501-BZ-0",b:"501",f:"BZ"},{name:"Benin",c:"229-BJ-0",b:"229",f:"BJ"},{name:"Bermuda",c:"1-BM-0",b:"1",f:"BM"},{name:"Bhutan",c:"975-BT-0",b:"975",f:"BT"},{name:"Bolivia",c:"591-BO-0",b:"591",f:"BO"},{name:"Bosnia and Herzegovina",c:"387-BA-0",b:"387",f:"BA"},{name:"Botswana",c:"267-BW-0",b:"267",f:"BW"},{name:"Brazil",c:"55-BR-0",b:"55",f:"BR"},{name:"British Indian Ocean Territory",c:"246-IO-0",b:"246",f:"IO"},{name:"British Virgin Islands",c:"1-VG-0",b:"1",f:"VG"},{name:"Brunei",c:"673-BN-0",b:"673",f:"BN"},{name:"Bulgaria",c:"359-BG-0",b:"359",f:"BG"},{name:"Burkina Faso",c:"226-BF-0",b:"226",f:"BF"},{name:"Burundi",c:"257-BI-0",b:"257",f:"BI"},{name:"Cambodia",c:"855-KH-0",b:"855",f:"KH"},{name:"Cameroon",c:"237-CM-0",b:"237",f:"CM"},{name:"Canada",c:"1-CA-0",b:"1",f:"CA"},{name:"Cape Verde",c:"238-CV-0",b:"238",f:"CV"},{name:"Caribbean Netherlands",c:"599-BQ-0",b:"599",f:"BQ"},{name:"Cayman Islands",c:"1-KY-0",b:"1",f:"KY"},{name:"Central African Republic",c:"236-CF-0",b:"236",f:"CF"},{name:"Chad",c:"235-TD-0",b:"235",f:"TD"},{name:"Chile",c:"56-CL-0",b:"56",f:"CL"},{name:"China",c:"86-CN-0",b:"86",f:"CN"},{name:"Christmas Island",c:"61-CX-0",b:"61",f:"CX"},{name:"Cocos [Keeling] Islands",c:"61-CC-0",b:"61",f:"CC"},{name:"Colombia",c:"57-CO-0",b:"57",f:"CO"},{name:"Comoros",c:"269-KM-0",b:"269",f:"KM"},{name:"Democratic Republic Congo",c:"243-CD-0",b:"243",f:"CD"},{name:"Republic of Congo",c:"242-CG-0",b:"242",f:"CG"},{name:"Cook Islands",c:"682-CK-0",b:"682",f:"CK"},{name:"Costa Rica",c:"506-CR-0",b:"506",f:"CR"},{name:"Côte d'Ivoire",c:"225-CI-0",b:"225",f:"CI"},{name:"Croatia",c:"385-HR-0",b:"385",f:"HR"},{name:"Cuba",c:"53-CU-0",b:"53",f:"CU"},{name:"Curaçao",c:"599-CW-0",b:"599",f:"CW"},{name:"Cyprus",c:"357-CY-0",b:"357",f:"CY"},{name:"Czech Republic",c:"420-CZ-0",b:"420",f:"CZ"},{name:"Denmark",c:"45-DK-0",b:"45",f:"DK"},{name:"Djibouti",c:"253-DJ-0",b:"253",f:"DJ"},{name:"Dominica",c:"1-DM-0",b:"1",f:"DM"},{name:"Dominican Republic",c:"1-DO-0",b:"1",f:"DO"},{name:"East Timor",c:"670-TL-0",b:"670",f:"TL"},{name:"Ecuador",c:"593-EC-0",b:"593",f:"EC"},{name:"Egypt",c:"20-EG-0",b:"20",f:"EG"},{name:"El Salvador",c:"503-SV-0",b:"503",f:"SV"},{name:"Equatorial Guinea",c:"240-GQ-0",b:"240",f:"GQ"},{name:"Eritrea",c:"291-ER-0",b:"291",f:"ER"},{name:"Estonia",c:"372-EE-0",b:"372",f:"EE"},{name:"Ethiopia",c:"251-ET-0",b:"251",f:"ET"},{name:"Falkland Islands [Islas Malvinas]",c:"500-FK-0",b:"500",f:"FK"},{name:"Faroe Islands",c:"298-FO-0",b:"298",f:"FO"},{name:"Fiji",c:"679-FJ-0",b:"679",f:"FJ"},{name:"Finland",c:"358-FI-0",b:"358",f:"FI"},{name:"France",c:"33-FR-0",b:"33",f:"FR"},{name:"French Guiana",c:"594-GF-0",b:"594",f:"GF"},{name:"French Polynesia",c:"689-PF-0",b:"689",f:"PF"},{name:"Gabon",c:"241-GA-0",b:"241",f:"GA"},{name:"Gambia",c:"220-GM-0",b:"220",f:"GM"},{name:"Georgia",c:"995-GE-0",b:"995",f:"GE"},{name:"Germany",c:"49-DE-0",b:"49",f:"DE"},{name:"Ghana",c:"233-GH-0",b:"233",f:"GH"},{name:"Gibraltar",c:"350-GI-0",b:"350",f:"GI"},{name:"Greece",c:"30-GR-0",b:"30",f:"GR"},{name:"Greenland",c:"299-GL-0",b:"299",f:"GL"},{name:"Grenada",c:"1-GD-0",b:"1",f:"GD"},{name:"Guadeloupe",c:"590-GP-0",b:"590",f:"GP"},{name:"Guam",c:"1-GU-0",b:"1",f:"GU"},{name:"Guatemala",c:"502-GT-0",b:"502",f:"GT"},{name:"Guernsey",c:"44-GG-0",b:"44",f:"GG"},{name:"Guinea Conakry",c:"224-GN-0",b:"224",f:"GN"},{name:"Guinea-Bissau",c:"245-GW-0",b:"245",f:"GW"},{name:"Guyana",c:"592-GY-0",b:"592",f:"GY"},{name:"Haiti",c:"509-HT-0",b:"509",f:"HT"},{name:"Heard Island and McDonald Islands",c:"672-HM-0",b:"672",f:"HM"},{name:"Honduras",c:"504-HN-0",b:"504",f:"HN"},{name:"Hong Kong",c:"852-HK-0",b:"852",f:"HK"},{name:"Hungary",c:"36-HU-0",b:"36",f:"HU"},{name:"Iceland",c:"354-IS-0",b:"354",f:"IS"},{name:"India",c:"91-IN-0",b:"91",f:"IN"},{name:"Indonesia",c:"62-ID-0",b:"62",f:"ID"},{name:"Iran",c:"98-IR-0",b:"98",f:"IR"},{name:"Iraq",c:"964-IQ-0",b:"964",f:"IQ"},{name:"Ireland",c:"353-IE-0",b:"353",f:"IE"},{name:"Isle of Man",c:"44-IM-0",b:"44",f:"IM"},{name:"Israel",c:"972-IL-0",b:"972",f:"IL"},{name:"Italy",c:"39-IT-0",b:"39",f:"IT"},{name:"Jamaica",c:"1-JM-0",b:"1",f:"JM"},{name:"Japan",c:"81-JP-0",b:"81",f:"JP"},{name:"Jersey",c:"44-JE-0",b:"44",f:"JE"},{name:"Jordan",c:"962-JO-0",b:"962",f:"JO"},{name:"Kazakhstan",c:"7-KZ-0",b:"7",f:"KZ"},{name:"Kenya",c:"254-KE-0",b:"254",f:"KE"},{name:"Kiribati",c:"686-KI-0",b:"686",f:"KI"},{name:"Kosovo",c:"377-XK-0",b:"377",f:"XK"},{name:"Kosovo",c:"381-XK-0",b:"381",f:"XK"},{name:"Kosovo",c:"386-XK-0",b:"386",f:"XK"},{name:"Kuwait",c:"965-KW-0",b:"965",f:"KW"},{name:"Kyrgyzstan",c:"996-KG-0",b:"996",f:"KG"},{name:"Laos",c:"856-LA-0",b:"856",f:"LA"},{name:"Latvia",c:"371-LV-0",b:"371",f:"LV"},{name:"Lebanon",c:"961-LB-0",b:"961",f:"LB"},{name:"Lesotho",c:"266-LS-0",b:"266",f:"LS"},{name:"Liberia",c:"231-LR-0",b:"231",f:"LR"},{name:"Libya",c:"218-LY-0",b:"218",f:"LY"},{name:"Liechtenstein",c:"423-LI-0",b:"423",f:"LI"},{name:"Lithuania",c:"370-LT-0",b:"370",f:"LT"},{name:"Luxembourg",c:"352-LU-0",b:"352",f:"LU"},{name:"Macau",c:"853-MO-0",b:"853",f:"MO"},{name:"Macedonia",c:"389-MK-0",b:"389",f:"MK"},{name:"Madagascar",c:"261-MG-0",b:"261",f:"MG"},{name:"Malawi",c:"265-MW-0",b:"265",f:"MW"},{name:"Malaysia",c:"60-MY-0",b:"60",f:"MY"},{name:"Maldives",c:"960-MV-0",b:"960",f:"MV"},{name:"Mali",c:"223-ML-0",b:"223",f:"ML"},{name:"Malta",c:"356-MT-0",b:"356",f:"MT"},{name:"Marshall Islands",c:"692-MH-0",b:"692",f:"MH"},{name:"Martinique",c:"596-MQ-0",b:"596",f:"MQ"},{name:"Mauritania",c:"222-MR-0",b:"222",f:"MR"},{name:"Mauritius",c:"230-MU-0",b:"230",f:"MU"},{name:"Mayotte",c:"262-YT-0",b:"262",f:"YT"},{name:"Mexico",c:"52-MX-0",b:"52",f:"MX"},{name:"Micronesia",c:"691-FM-0",b:"691",f:"FM"},{name:"Moldova",c:"373-MD-0",b:"373",f:"MD"},{name:"Monaco",c:"377-MC-0",b:"377",f:"MC"},{name:"Mongolia",c:"976-MN-0",b:"976",f:"MN"},{name:"Montenegro",c:"382-ME-0",b:"382",f:"ME"},{name:"Montserrat",c:"1-MS-0",b:"1",f:"MS"},{name:"Morocco",c:"212-MA-0",b:"212",f:"MA"},{name:"Mozambique",c:"258-MZ-0",b:"258",f:"MZ"},{name:"Myanmar [Burma]",c:"95-MM-0",b:"95",f:"MM"},{name:"Namibia",c:"264-NA-0",b:"264",f:"NA"},{name:"Nauru",c:"674-NR-0",b:"674",f:"NR"},{name:"Nepal",c:"977-NP-0",b:"977",f:"NP"},{name:"Netherlands",c:"31-NL-0",b:"31",f:"NL"},{name:"New Caledonia",c:"687-NC-0",b:"687",f:"NC"},{name:"New Zealand",c:"64-NZ-0",b:"64",f:"NZ"},{name:"Nicaragua",c:"505-NI-0",b:"505",f:"NI"},{name:"Niger",c:"227-NE-0",b:"227",f:"NE"},{name:"Nigeria",c:"234-NG-0",b:"234",f:"NG"},{name:"Niue",c:"683-NU-0",b:"683",f:"NU"},{name:"Norfolk Island",c:"672-NF-0",b:"672",f:"NF"},{name:"North Korea",c:"850-KP-0",b:"850",f:"KP"},{name:"Northern Mariana Islands",c:"1-MP-0",b:"1",f:"MP"},{name:"Norway",c:"47-NO-0",b:"47",f:"NO"},{name:"Oman",c:"968-OM-0",b:"968",f:"OM"},{name:"Pakistan",c:"92-PK-0",b:"92",f:"PK"},{name:"Palau",c:"680-PW-0",b:"680",f:"PW"},{name:"Palestinian Territories",c:"970-PS-0",b:"970",f:"PS"},{name:"Panama",c:"507-PA-0",b:"507",f:"PA"},{name:"Papua New Guinea",c:"675-PG-0",b:"675",f:"PG"},{name:"Paraguay",c:"595-PY-0",b:"595",f:"PY"},{name:"Peru",c:"51-PE-0",b:"51",f:"PE"},{name:"Philippines",c:"63-PH-0",b:"63",f:"PH"},{name:"Poland",c:"48-PL-0",b:"48",f:"PL"},{name:"Portugal",c:"351-PT-0",b:"351",f:"PT"},{name:"Puerto Rico",c:"1-PR-0",b:"1",f:"PR"},{name:"Qatar",c:"974-QA-0",b:"974",f:"QA"},{name:"Réunion",c:"262-RE-0",b:"262",f:"RE"},{name:"Romania",c:"40-RO-0",b:"40",f:"RO"},{name:"Russia",c:"7-RU-0",b:"7",f:"RU"},{name:"Rwanda",c:"250-RW-0",b:"250",f:"RW"},{name:"Saint Barthélemy",c:"590-BL-0",b:"590",f:"BL"},{name:"Saint Helena",c:"290-SH-0",b:"290",f:"SH"},{name:"St. Kitts",c:"1-KN-0",b:"1",f:"KN"},{name:"St. Lucia",c:"1-LC-0",b:"1",f:"LC"},{name:"Saint Martin",c:"590-MF-0",b:"590",f:"MF"},{name:"Saint Pierre and Miquelon",c:"508-PM-0",b:"508",f:"PM"},{name:"St. Vincent",c:"1-VC-0",b:"1",f:"VC"},{name:"Samoa",c:"685-WS-0",b:"685",f:"WS"},{name:"San Marino",c:"378-SM-0",b:"378",f:"SM"},{name:"São Tomé and Príncipe",c:"239-ST-0",b:"239",f:"ST"},{name:"Saudi Arabia",c:"966-SA-0",b:"966",f:"SA"},{name:"Senegal",c:"221-SN-0",b:"221",f:"SN"},{name:"Serbia",c:"381-RS-0",b:"381",f:"RS"},{name:"Seychelles",c:"248-SC-0",b:"248",f:"SC"},{name:"Sierra Leone",c:"232-SL-0",b:"232",f:"SL"},{name:"Singapore",c:"65-SG-0",b:"65",f:"SG"},{name:"Sint Maarten",c:"1-SX-0",b:"1",f:"SX"},{name:"Slovakia",c:"421-SK-0",b:"421",f:"SK"},{name:"Slovenia",c:"386-SI-0",b:"386",f:"SI"},{name:"Solomon Islands",c:"677-SB-0",b:"677",f:"SB"},{name:"Somalia",c:"252-SO-0",b:"252",f:"SO"},{name:"South Africa",c:"27-ZA-0",b:"27",f:"ZA"},{name:"South Georgia and the South Sandwich Islands",c:"500-GS-0",b:"500",f:"GS"},{name:"South Korea",c:"82-KR-0",b:"82",f:"KR"},{name:"South Sudan",c:"211-SS-0",b:"211",f:"SS"},{name:"Spain",c:"34-ES-0",b:"34",f:"ES"},{name:"Sri Lanka",c:"94-LK-0",b:"94",f:"LK"},{name:"Sudan",c:"249-SD-0",b:"249",f:"SD"},{name:"Suriname",c:"597-SR-0",b:"597",f:"SR"},{name:"Svalbard and Jan Mayen",c:"47-SJ-0",b:"47",f:"SJ"},{name:"Swaziland",c:"268-SZ-0",b:"268",f:"SZ"},{name:"Sweden",c:"46-SE-0",b:"46",f:"SE"},{name:"Switzerland",c:"41-CH-0",b:"41",f:"CH"},{name:"Syria",c:"963-SY-0",b:"963",f:"SY"},{name:"Taiwan",c:"886-TW-0",b:"886",f:"TW"},{name:"Tajikistan",c:"992-TJ-0",b:"992",f:"TJ"},{name:"Tanzania",c:"255-TZ-0",b:"255",f:"TZ"},{name:"Thailand",c:"66-TH-0",b:"66",f:"TH"},{name:"Togo",c:"228-TG-0",b:"228",f:"TG"},{name:"Tokelau",c:"690-TK-0",b:"690",f:"TK"},{name:"Tonga",c:"676-TO-0",b:"676",f:"TO"},{name:"Trinidad/Tobago",c:"1-TT-0",b:"1",f:"TT"},{name:"Tunisia",c:"216-TN-0",b:"216",f:"TN"},{name:"Turkey",c:"90-TR-0",b:"90",f:"TR"},{name:"Turkmenistan",c:"993-TM-0",b:"993",f:"TM"},{name:"Turks and Caicos Islands",c:"1-TC-0",b:"1",f:"TC"},{name:"Tuvalu",c:"688-TV-0",b:"688",f:"TV"},{name:"U.S. Virgin Islands",c:"1-VI-0",b:"1",f:"VI"},{name:"Uganda",c:"256-UG-0",b:"256",f:"UG"},{name:"Ukraine",c:"380-UA-0",b:"380",f:"UA"},{name:"United Arab Emirates",c:"971-AE-0",b:"971",f:"AE"},{name:"United Kingdom",c:"44-GB-0",b:"44",f:"GB"},{name:"United States",c:"1-US-0",b:"1",f:"US"},{name:"Uruguay",c:"598-UY-0",b:"598",f:"UY"},{name:"Uzbekistan",c:"998-UZ-0",b:"998",f:"UZ"},{name:"Vanuatu",c:"678-VU-0",b:"678",f:"VU"},{name:"Vatican City",c:"379-VA-0",b:"379",f:"VA"},{name:"Venezuela",c:"58-VE-0",b:"58",f:"VE"},{name:"Vietnam",c:"84-VN-0",b:"84",f:"VN"},{name:"Wallis and Futuna",c:"681-WF-0",b:"681",f:"WF"},{name:"Western Sahara",c:"212-EH-0",b:"212",f:"EH"},{name:"Yemen",c:"967-YE-0",b:"967",f:"YE"},{name:"Zambia",c:"260-ZM-0",b:"260",f:"ZM"},{name:"Zimbabwe",c:"263-ZW-0",b:"263",f:"ZW"}];Hm(Zn);var Xl=new du(Zn);function zm(o,u){this.a=o,this.Aa=u}function Qd(o){o=dt(o);var u=ns(Xl,o);return 0<u.length?new zm(u[0].b=="1"?"1-US-0":u[0].c,dt(o.substr(u[0].b.length+1))):null}function lh(o){var u=ai(o.a);if(!u)throw Error("Country ID "+o.a+" not found.");return"+"+u.b+o.Aa}function Jd(o,u){for(var f=0;f<o.length;f++)if(!ln($l,o[f])&&(Gs!==null&&o[f]in Gs||ln(u,o[f])))return o[f];return null}var $l=["emailLink","password","phone"],Gs={"facebook.com":"FacebookAuthProvider","github.com":"GithubAuthProvider","google.com":"GoogleAuthProvider",password:"EmailAuthProvider","twitter.com":"TwitterAuthProvider",phone:"PhoneAuthProvider"};function Ql(){this.a=new Kl,_t(this.a,"acUiConfig"),_t(this.a,"autoUpgradeAnonymousUsers"),_t(this.a,"callbacks"),_t(this.a,"credentialHelper",Ks),_t(this.a,"immediateFederatedRedirect",!1),_t(this.a,"popupMode",!1),_t(this.a,"privacyPolicyUrl"),_t(this.a,"queryParameterForSignInSuccessUrl","signInSuccessUrl"),_t(this.a,"queryParameterForWidgetMode","mode"),_t(this.a,"signInFlow"),_t(this.a,"signInOptions"),_t(this.a,"signInSuccessUrl"),_t(this.a,"siteName"),_t(this.a,"tosUrl"),_t(this.a,"widgetUrl"),_t(this.a,"adminRestrictedOperation")}function Ws(o){var u=!!o.a.get("autoUpgradeAnonymousUsers");return u&&!Hs(o)&&Un('Missing "signInFailure" callback: "signInFailure" callback needs to be provided when "autoUpgradeAnonymousUsers" is set to true.',void 0),u}function ch(o){o=o.a.get("signInOptions")||[];for(var u=[],f=0;f<o.length;f++){var v=o[f];v=P(v)?v:{provider:v},v.provider&&u.push(v)}return u}function zt(o,u){o=ch(o);for(var f=0;f<o.length;f++)if(o[f].provider===u)return o[f];return null}function Hr(o){return ch(o).map(function(u){return u.provider})}function bo(o,u){o=Jl(o);for(var f=0;f<o.length;f++)if(o[f].providerId===u)return o[f];return null}function Jl(o){return ch(o).map(function(u){if(Gs[u.provider]||ln(ey,u.provider)){u={providerId:u.provider,S:u.providerName||null,V:u.fullLabel||null,ta:u.buttonColor||null,za:u.iconUrl?to(Ma(u.iconUrl)).toString():null};for(var f in u)u[f]===null&&delete u[f];return u}return{providerId:u.provider,S:u.providerName||null,V:u.fullLabel||null,ta:u.buttonColor||null,za:u.iconUrl?to(Ma(u.iconUrl)).toString():null,Ob:u.loginHintKey||null}})}function Km(o){var u=zt(o,Z.auth.GoogleAuthProvider.PROVIDER_ID);return u&&u.clientId&&Zm(o)===rv&&u.clientId||null}function fh(o){return o=zt(o,Z.auth.EmailAuthProvider.PROVIDER_ID),!!(o&&o.disableSignUp&&o.disableSignUp.status)}function rs(o){return o=o.a.get("adminRestrictedOperation")||null,!(!o||!o.status)}function Ym(o){var u=null;if(ch(o).forEach(function(v){v.provider==Z.auth.PhoneAuthProvider.PROVIDER_ID&&P(v.recaptchaParameters)&&!Array.isArray(v.recaptchaParameters)&&(u=jo(v.recaptchaParameters))}),u){var f=[];ow.forEach(function(v){typeof u[v]<"u"&&(f.push(v),delete u[v])}),f.length&&vo('The following provided "recaptchaParameters" keys are not allowed: '+f.join(", "))}return u}function hh(o){return(o=o.a.get("adminRestrictedOperation"))&&o.adminEmail?o.adminEmail:null}function Zl(o){if(o=o.a.get("adminRestrictedOperation")||null){var u=o.helpLink||null;if(u&&typeof u=="string")return function(){$o(u)}}return null}function Xm(o){return(o=zt(o,Z.auth.EmailAuthProvider.PROVIDER_ID))&&o.disableSignUp&&o.disableSignUp.adminEmail||null}function ph(o){if((o=zt(o,Z.auth.EmailAuthProvider.PROVIDER_ID))&&o.disableSignUp){var u=o.disableSignUp.helpLink||null;if(u&&typeof u=="string")return function(){$o(u)}}return null}function dh(o,u){return o=(o=zt(o,u))&&o.scopes,Array.isArray(o)?o:[]}function $m(o,u){return o=(o=zt(o,u))&&o.customParameters,P(o)?(o=jo(o),u===Z.auth.GoogleAuthProvider.PROVIDER_ID&&delete o.login_hint,u===Z.auth.GithubAuthProvider.PROVIDER_ID&&delete o.login,o):null}function rw(o){o=zt(o,Z.auth.PhoneAuthProvider.PROVIDER_ID);var u=null;return o&&typeof o.loginHint=="string"&&(u=Qd(o.loginHint)),o&&o.defaultNationalNumber||u&&u.Aa||null}function vh(o){var u=(o=zt(o,Z.auth.PhoneAuthProvider.PROVIDER_ID))&&o.defaultCountry||null;u=u&&$d(u);var f=null;return o&&typeof o.loginHint=="string"&&(f=Qd(o.loginHint)),u&&u[0]||f&&ai(f.a)||null}function Zd(o){if(o=zt(o,Z.auth.PhoneAuthProvider.PROVIDER_ID),!o)return null;var u=o.whitelistedCountries,f=o.blacklistedCountries;if(typeof u<"u"&&(!Array.isArray(u)||u.length==0))throw Error("WhitelistedCountries must be a non-empty array.");if(typeof f<"u"&&!Array.isArray(f))throw Error("BlacklistedCountries must be an array.");if(u&&f)throw Error("Both whitelistedCountries and blacklistedCountries are provided.");if(!u&&!f)return Zn;if(o=[],u){f={};for(var v=0;v<u.length;v++)for(var b=Wm(u[v]),w=0;w<b.length;w++)f[b[w].c]=b[w];for(var C in f)f.hasOwnProperty(C)&&o.push(f[C])}else{for(C={},u=0;u<f.length;u++)for(b=Wm(f[u]),v=0;v<b.length;v++)C[b[v].c]=b[v];for(b=0;b<Zn.length;b++)C!==null&&Zn[b].c in C||o.push(Zn[b])}return o}function Qm(o){return cr(o.a,"queryParameterForWidgetMode")}function Rt(o){var u=o.a.get("tosUrl")||null;if(o=o.a.get("privacyPolicyUrl")||null,u&&!o&&vo("Privacy Policy URL is missing, the link will not be displayed."),u&&o){if(typeof u=="function")return u;if(typeof u=="string")return function(){$o(u)}}return null}function At(o){var u=o.a.get("tosUrl")||null,f=o.a.get("privacyPolicyUrl")||null;if(f&&!u&&vo("Term of Service URL is missing, the link will not be displayed."),u&&f){if(typeof f=="function")return f;if(typeof f=="string")return function(){$o(f)}}return null}function zr(o){return(o=zt(o,Z.auth.EmailAuthProvider.PROVIDER_ID))&&typeof o.requireDisplayName<"u"?!!o.requireDisplayName:!0}function is(o){return o=zt(o,Z.auth.EmailAuthProvider.PROVIDER_ID),!(!o||o.signInMethod!==Z.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD)}function ui(o){return o=zt(o,Z.auth.EmailAuthProvider.PROVIDER_ID),!(!o||!o.forceSameDevice)}function iw(o){if(is(o)){var u={url:Ti(),handleCodeInApp:!0};(o=zt(o,Z.auth.EmailAuthProvider.PROVIDER_ID))&&typeof o.emailLinkSignIn=="function"&&U(u,o.emailLinkSignIn()),o=u.url;var f=Ti();f instanceof _i||(f=yf(f)),o instanceof _i||(o=yf(o));var v=f;f=new _i(v);var b=!!o.j;b?gl(f,o.j):b=!!o.A,b?f.A=o.A:b=!!o.h,b?f.h=o.h:b=o.C!=null;var w=o.g;if(b)td(f,o.C);else if(b=!!o.g){if(w.charAt(0)!="/"&&(v.h&&!v.g?w="/"+w:(v=f.g.lastIndexOf("/"),v!=-1&&(w=f.g.substr(0,v+1)+w))),w==".."||w==".")w="";else if(w.indexOf("./")!=-1||w.indexOf("/.")!=-1){v=w.lastIndexOf("/",0)==0,w=w.split("/");for(var C=[],R=0;R<w.length;){var W=w[R++];W=="."?v&&R==w.length&&C.push(""):W==".."?((1<C.length||C.length==1&&C[0]!="")&&C.pop(),v&&R==w.length&&C.push("")):(C.push(W),v=!0)}w=C.join("/")}}return b?f.g=w:b=o.a.toString()!=="",b?nd(f,im(o.a)):b=!!o.s,b&&(f.s=o.s),u.url=f.toString(),u}return null}function ev(o){var u=!!o.a.get("immediateFederatedRedirect"),f=Hr(o);return o=Jm(o),u&&f.length==1&&!ln($l,f[0])&&o==mh}function Jm(o){o=o.a.get("signInFlow");for(var u in yh)if(yh[u]==o)return yh[u];return mh}function tv(o){return zs(o).signInSuccess||null}function nv(o){return zs(o).signInSuccessWithAuthResult||null}function Hs(o){return zs(o).signInFailure||null}function zs(o){return o.a.get("callbacks")||{}}function Zm(o){if((window.location&&window.location.protocol)!=="http:"&&(window.location&&window.location.protocol)!=="https:"||(o=o.a.get("credentialHelper"),o===gh))return Ks;for(var u in iv)if(iv[u]===o)return iv[u];return Ks}var gh="accountchooser.com",rv="googleyolo",Ks="none",iv={lc:gh,oc:rv,NONE:Ks},mh="redirect",yh={rc:"popup",sc:mh},wo={nc:"callback",RECOVER_EMAIL:"recoverEmail",tc:"resetPassword",REVERT_SECOND_FACTOR_ADDITION:"revertSecondFactorAddition",uc:"select",vc:"signIn",VERIFY_AND_CHANGE_EMAIL:"verifyAndChangeEmail",VERIFY_EMAIL:"verifyEmail"},ey=["anonymous"],ow=["sitekey","tabindex","callback","expired-callback"],ec,on,tc,ty,ut={};function ye(o,u,f,v){ut[o].apply(null,Array.prototype.slice.call(arguments,1))}function ov(o){return o.classList?o.classList:(o=o.className,T(o)&&o.match(/\S+/g)||[])}function nc(o,u){return o.classList?o.classList.contains(u):ln(ov(o),u)}function Ni(o,u){o.classList?o.classList.add(u):nc(o,u)||(o.className+=0<o.className.length?" "+u:u)}function Kr(o,u){o.classList?o.classList.remove(u):nc(o,u)&&(o.className=tn(ov(o),function(f){return f!=u}).join(" "))}function Qt(o){var u=o.type;switch(T(u)&&u.toLowerCase()){case"checkbox":case"radio":return o.checked?o.value:null;case"select-one":return u=o.selectedIndex,0<=u?o.options[u].value:null;case"select-multiple":u=[];for(var f,v=0;f=o.options[v];v++)f.selected&&u.push(f.value);return u.length?u:null;default:return o.value!=null?o.value:null}}function sv(o,u){var f=o.type;switch(T(f)&&f.toLowerCase()){case"checkbox":case"radio":o.checked=u;break;case"select-one":if(o.selectedIndex=-1,T(u)){for(var v=0;f=o.options[v];v++)if(f.value==u){f.selected=!0;break}}break;case"select-multiple":for(T(u)&&(u=[u]),v=0;f=o.options[v];v++)if(f.selected=!1,u)for(var b,w=0;b=u[w];w++)f.value==b&&(f.selected=!0);break;default:o.value=u??""}}function av(o){if(o.altKey&&!o.ctrlKey||o.metaKey||112<=o.keyCode&&123>=o.keyCode)return!1;if(Ys(o.keyCode))return!0;switch(o.keyCode){case 18:case 20:case 93:case 17:case 40:case 35:case 27:case 36:case 45:case 37:case 224:case 91:case 144:case 12:case 34:case 33:case 19:case 255:case 44:case 39:case 145:case 16:case 38:case 252:case 224:case 92:return!1;case 0:return!ei;default:return 166>o.keyCode||183<o.keyCode}}function bh(o,u,f,v,b,w){if(nn&&!Cs("525"))return!0;if(eo&&b)return Ys(o);if(b&&!v)return!1;if(!ei){typeof u=="number"&&(u=rc(u));var C=u==17||u==18||eo&&u==91;if((!f||eo)&&C||eo&&u==16&&(v||w))return!1}if((nn||Ji)&&v&&f)switch(o){case 220:case 219:case 221:case 192:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:return!1}if(Mt&&v&&u==o)return!1;switch(o){case 13:return ei?w||b?!1:!(f&&v):!0;case 27:return!(nn||Ji||ei)}return ei&&(v||b||w)?!1:Ys(o)}function Ys(o){if(48<=o&&57>=o||96<=o&&106>=o||65<=o&&90>=o||(nn||Ji)&&o==0)return!0;switch(o){case 32:case 43:case 63:case 64:case 107:case 109:case 110:case 111:case 186:case 59:case 189:case 187:case 61:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:case 163:return!0;case 173:return ei;default:return!1}}function rc(o){if(ei)o=sw(o);else if(eo&&nn)switch(o){case 93:o=91}return o}function sw(o){switch(o){case 61:return 187;case 59:return 186;case 173:return 189;case 224:return 91;case 0:return 224;default:return o}}function vu(o){Wt.call(this),this.a=o,Ur(o,"keydown",this.g,!1,this),Ur(o,"click",this.h,!1,this)}te(vu,Wt),vu.prototype.g=function(o){(o.keyCode==13||nn&&o.keyCode==3)&&ny(this,o)},vu.prototype.h=function(o){ny(this,o)};function ny(o,u){var f=new iy(u);if(Yo(o,f)){f=new ry(u);try{Yo(o,f)}finally{u.stopPropagation()}}}vu.prototype.o=function(){vu.K.o.call(this),Ps(this.a,"keydown",this.g,!1,this),Ps(this.a,"click",this.h,!1,this),delete this.a};function ry(o){Qn.call(this,o.a),this.type="action"}te(ry,Qn);function iy(o){Qn.call(this,o.a),this.type="beforeaction"}te(iy,Qn);function gu(o){Wt.call(this),this.a=o,o=Mt?"focusout":"blur",this.g=Ur(this.a,Mt?"focusin":"focus",this,!Mt),this.h=Ur(this.a,o,this,!Mt)}te(gu,Wt),gu.prototype.handleEvent=function(o){var u=new Qn(o.a);u.type=o.type=="focusin"||o.type=="focus"?"focusin":"focusout",Yo(this,u)},gu.prototype.o=function(){gu.K.o.call(this),lo(this.g),lo(this.h),delete this.a};function wh(o,u){Wt.call(this),this.g=o||1,this.a=u||E,this.h=J(this.gc,this),this.j=le()}te(wh,Wt),t=wh.prototype,t.Ka=!1,t.aa=null,t.gc=function(){if(this.Ka){var o=le()-this.j;0<o&&o<.8*this.g?this.aa=this.a.setTimeout(this.h,this.g-o):(this.aa&&(this.a.clearTimeout(this.aa),this.aa=null),Yo(this,"tick"),this.Ka&&(_h(this),this.start()))}},t.start=function(){this.Ka=!0,this.aa||(this.aa=this.a.setTimeout(this.h,this.g),this.j=le())};function _h(o){o.Ka=!1,o.aa&&(o.a.clearTimeout(o.aa),o.aa=null)}t.o=function(){wh.K.o.call(this),_h(this),delete this.a};function aw(o,u){if(z(o))u&&(o=J(o,u));else if(o&&typeof o.handleEvent=="function")o=J(o.handleEvent,o);else throw Error("Invalid listener argument");return E.setTimeout(o,0)}function mu(o){hn.call(this),this.g=o,this.a={}}te(mu,hn);var oy=[];function yu(o,u,f,v){H(f)||(f&&(oy[0]=f.toString()),f=oy);for(var b=0;b<f.length;b++){var w=Ur(u,f[b],v||o.handleEvent,!1,o.g||o);if(!w)break;o.a[w.key]=w}}function sy(o){ht(o.a,function(u,f){this.a.hasOwnProperty(f)&&lo(u)},o),o.a={}}mu.prototype.o=function(){mu.K.o.call(this),sy(this)},mu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function ic(o){Wt.call(this),this.a=null,this.g=o,o=Mt||Ji||nn&&!Cs("531")&&o.tagName=="TEXTAREA",this.h=new mu(this),yu(this.h,this.g,o?["keydown","paste","cut","drop","input"]:"input",this)}te(ic,Wt),ic.prototype.handleEvent=function(o){if(o.type=="input")Mt&&Cs(10)&&o.keyCode==0&&o.j==0||(uv(this),Yo(this,ay(o)));else if(o.type!="keydown"||av(o)){var u=o.type=="keydown"?this.g.value:null;Mt&&o.keyCode==229&&(u=null);var f=ay(o);uv(this),this.a=aw(function(){this.a=null,this.g.value!=u&&Yo(this,f)},this)}};function uv(o){o.a!=null&&(E.clearTimeout(o.a),o.a=null)}function ay(o){return o=new Qn(o.a),o.type="input",o}ic.prototype.o=function(){ic.K.o.call(this),this.h.m(),uv(this),delete this.g};function oc(o,u){Wt.call(this),o&&(this.Oa&&cy(this),this.qa=o,this.Na=Ur(this.qa,"keypress",this,u),this.Ya=Ur(this.qa,"keydown",this.Jb,u,this),this.Oa=Ur(this.qa,"keyup",this.Kb,u,this))}te(oc,Wt),t=oc.prototype,t.qa=null,t.Na=null,t.Ya=null,t.Oa=null,t.R=-1,t.X=-1,t.Ua=!1;var uy={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},ly={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},lv=!nn||Cs("525"),cv=eo&&ei;t=oc.prototype,t.Jb=function(o){(nn||Ji)&&(this.R==17&&!o.ctrlKey||this.R==18&&!o.altKey||eo&&this.R==91&&!o.metaKey)&&(this.X=this.R=-1),this.R==-1&&(o.ctrlKey&&o.keyCode!=17?this.R=17:o.altKey&&o.keyCode!=18?this.R=18:o.metaKey&&o.keyCode!=91&&(this.R=91)),lv&&!bh(o.keyCode,this.R,o.shiftKey,o.ctrlKey,o.altKey,o.metaKey)?this.handleEvent(o):(this.X=rc(o.keyCode),cv&&(this.Ua=o.altKey))},t.Kb=function(o){this.X=this.R=-1,this.Ua=o.altKey},t.handleEvent=function(o){var u=o.a,f=u.altKey;if(Mt&&o.type=="keypress")var v=this.X,b=v!=13&&v!=27?u.keyCode:0;else(nn||Ji)&&o.type=="keypress"?(v=this.X,b=0<=u.charCode&&63232>u.charCode&&Ys(v)?u.charCode:0):_f&&!nn?(v=this.X,b=Ys(v)?u.keyCode:0):(o.type=="keypress"?(cv&&(f=this.Ua),u.keyCode==u.charCode?32>u.keyCode?(v=u.keyCode,b=0):(v=this.X,b=u.charCode):(v=u.keyCode||this.X,b=u.charCode||0)):(v=u.keyCode||this.X,b=u.charCode||0),eo&&b==63&&v==224&&(v=191));var w=v=rc(v);v?63232<=v&&v in uy?w=uy[v]:v==25&&o.shiftKey&&(w=9):u.keyIdentifier&&u.keyIdentifier in ly&&(w=ly[u.keyIdentifier]),ei&&lv&&o.type=="keypress"&&!bh(w,this.R,o.shiftKey,o.ctrlKey,f,o.metaKey)||(o=w==this.R,this.R=w,u=new fy(w,b,o,u),u.altKey=f,Yo(this,u))},t.N=function(){return this.qa};function cy(o){o.Na&&(lo(o.Na),lo(o.Ya),lo(o.Oa),o.Na=null,o.Ya=null,o.Oa=null),o.qa=null,o.R=-1,o.X=-1}t.o=function(){oc.K.o.call(this),cy(this)};function fy(o,u,f,v){Qn.call(this,v),this.type="key",this.keyCode=o,this.j=u,this.repeat=f}te(fy,Qn);function bu(o,u,f,v){this.top=o,this.right=u,this.bottom=f,this.left=v}bu.prototype.toString=function(){return"("+this.top+"t, "+this.right+"r, "+this.bottom+"b, "+this.left+"l)"},bu.prototype.ceil=function(){return this.top=Math.ceil(this.top),this.right=Math.ceil(this.right),this.bottom=Math.ceil(this.bottom),this.left=Math.ceil(this.left),this},bu.prototype.floor=function(){return this.top=Math.floor(this.top),this.right=Math.floor(this.right),this.bottom=Math.floor(this.bottom),this.left=Math.floor(this.left),this},bu.prototype.round=function(){return this.top=Math.round(this.top),this.right=Math.round(this.right),this.bottom=Math.round(this.bottom),this.left=Math.round(this.left),this};function Eh(o,u){var f=wl(o);return f.defaultView&&f.defaultView.getComputedStyle&&(o=f.defaultView.getComputedStyle(o,null))&&(o[u]||o.getPropertyValue(u))||""}function hy(o){try{var u=o.getBoundingClientRect()}catch{return{left:0,top:0,right:0,bottom:0}}return Mt&&o.ownerDocument.body&&(o=o.ownerDocument,u.left-=o.documentElement.clientLeft+o.body.clientLeft,u.top-=o.documentElement.clientTop+o.body.clientTop),u}function uw(o,u){u=u||xf(document);var f=u||xf(document),v=py(o),b=py(f);if(!Mt||9<=Number(Vo)){C=Eh(f,"borderLeftWidth");var w=Eh(f,"borderRightWidth");R=Eh(f,"borderTopWidth"),W=Eh(f,"borderBottomWidth"),w=new bu(parseFloat(R),parseFloat(w),parseFloat(W),parseFloat(C))}else{var C=Ih(f,"borderLeft");w=Ih(f,"borderRight");var R=Ih(f,"borderTop"),W=Ih(f,"borderBottom");w=new bu(R,w,W,C)}f==xf(document)?(C=v.a-f.scrollLeft,v=v.g-f.scrollTop,!Mt||10<=Number(Vo)||(C+=w.left,v+=w.top)):(C=v.a-b.a-w.left,v=v.g-b.g-w.top),b=o.offsetWidth,w=o.offsetHeight,R=nn&&!b&&!w,I(b)&&!R||!o.getBoundingClientRect?o=new Af(b,w):(o=hy(o),o=new Af(o.right-o.left,o.bottom-o.top)),b=f.clientHeight-o.height,w=f.scrollLeft,R=f.scrollTop,w+=Math.min(C,Math.max(C-(f.clientWidth-o.width),0)),R+=Math.min(v,Math.max(v-b,0)),f=new ro(w,R),u.scrollLeft=f.a,u.scrollTop=f.g}function py(o){var u=wl(o),f=new ro(0,0),v=u?wl(u):document;return v=!Mt||9<=Number(Vo)||Cf(v).a.compatMode=="CSS1Compat"?v.documentElement:v.body,o==v||(o=hy(o),v=Cf(u).a,u=xf(v),v=v.parentWindow||v.defaultView,u=Mt&&Cs("10")&&v.pageYOffset!=u.scrollTop?new ro(u.scrollLeft,u.scrollTop):new ro(v.pageXOffset||u.scrollLeft,v.pageYOffset||u.scrollTop),f.a=o.left+u.a,f.g=o.top+u.g),f}var fv={thin:2,medium:4,thick:6};function Ih(o,u){if((o.currentStyle?o.currentStyle[u+"Style"]:null)=="none")return 0;var f=o.currentStyle?o.currentStyle[u+"Width"]:null;if(f in fv)o=fv[f];else if(/^\d+px?$/.test(f))o=parseInt(f,10);else{u=o.style.left;var v=o.runtimeStyle.left;o.runtimeStyle.left=o.currentStyle.left,o.style.left=f,f=o.style.pixelLeft,o.style.left=u,o.runtimeStyle.left=v,o=+f}return o}function hv(){}D(hv),hv.prototype.a=0;function Xs(o){Wt.call(this),this.s=o||Cf(),this.cb=null,this.na=!1,this.g=null,this.L=void 0,this.oa=this.Ea=this.Y=null}te(Xs,Wt),t=Xs.prototype,t.Lb=hv.Xa(),t.N=function(){return this.g};function Je(o,u){return o.g?qo(u,o.g||o.s.a):null}function Ve(o){return o.L||(o.L=new mu(o)),o.L}t.Za=function(o){if(this.Y&&this.Y!=o)throw Error("Method not supported");Xs.K.Za.call(this,o)},t.kb=function(){this.g=this.s.a.createElement("DIV")},t.render=function(o){if(this.na)throw Error("Component already rendered");this.g||this.kb(),o?o.insertBefore(this.g,null):this.s.a.body.appendChild(this.g),this.Y&&!this.Y.na||this.v()},t.v=function(){this.na=!0,Sh(this,function(o){!o.na&&o.N()&&o.v()})},t.ya=function(){Sh(this,function(o){o.na&&o.ya()}),this.L&&sy(this.L),this.na=!1},t.o=function(){this.na&&this.ya(),this.L&&(this.L.m(),delete this.L),Sh(this,function(o){o.m()}),this.g&&Go(this.g),this.Y=this.g=this.oa=this.Ea=null,Xs.K.o.call(this)};function Sh(o,u){o.Ea&&Ee(o.Ea,u,void 0)}t.removeChild=function(o,u){if(o){var f=T(o)?o:o.cb||(o.cb=":"+(o.Lb.a++).toString(36));if(this.oa&&f?(o=this.oa,o=(o!==null&&f in o?o[f]:void 0)||null):o=null,f&&o){var v=this.oa;if(f in v&&delete v[f],Zr(this.Ea,o),u&&(o.ya(),o.g&&Go(o.g)),u=o,u==null)throw Error("Unable to set parent component");u.Y=null,Xs.K.Za.call(u,null)}}if(!o)throw Error("Child is not in parent component");return o};function Ct(o,u){var f=$n(o,"firebaseui-textfield");u?(Kr(o,"firebaseui-input-invalid"),Ni(o,"firebaseui-input"),f&&Kr(f,"firebaseui-textfield-invalid")):(Kr(o,"firebaseui-input"),Ni(o,"firebaseui-input-invalid"),f&&Ni(f,"firebaseui-textfield-invalid"))}function wu(o,u,f){u=new ic(u),Ho(o,se(ao,u)),yu(Ve(o),u,"input",f)}function sc(o,u,f){u=new oc(u),Ho(o,se(ao,u)),yu(Ve(o),u,"key",function(v){v.keyCode==13&&(v.stopPropagation(),v.preventDefault(),f(v))})}function lw(o,u,f){u=new gu(u),Ho(o,se(ao,u)),yu(Ve(o),u,"focusin",f)}function cw(o,u,f){u=new gu(u),Ho(o,se(ao,u)),yu(Ve(o),u,"focusout",f)}function Ot(o,u,f){u=new vu(u),Ho(o,se(ao,u)),yu(Ve(o),u,"action",function(v){v.stopPropagation(),v.preventDefault(),f(v)})}function kr(o){Ni(o,"firebaseui-hidden")}function dn(o,u){u&&vd(o,u),Kr(o,"firebaseui-hidden")}function _o(o){return!nc(o,"firebaseui-hidden")&&o.style.display!="none"}function _u(o){o=o||{};var u=o.email,f=o.disabled,v='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-email-input">';return v=o.xc?v+"Enter new email address":v+"Email",v+='</label><input type="email" name="email" id="ui-sign-in-email-input" autocomplete="username" class="mdl-textfield__input firebaseui-input firebaseui-id-email" value="'+Sn(u??"")+'"'+(f?"disabled":"")+'></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-email-error"></p></div>',ce(v)}function er(o){o=o||{},o=o.label;var u='<button type="submit" class="firebaseui-id-submit firebaseui-button mdl-button mdl-js-button mdl-button--raised mdl-button--colored">';return u=o?u+xe(o):u+"Next",ce(u+"</button>")}function ac(){var o=""+er({label:Ft("Sign In")});return ce(o)}function Th(){var o=""+er({label:Ft("Save")});return ce(o)}function Yr(){var o=""+er({label:Ft("Continue")});return ce(o)}function pv(o){o=o||{},o=o.label;var u='<div class="firebaseui-new-password-component"><div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-new-password-input">';return u=o?u+xe(o):u+"Choose password",ce(u+'</label><input type="password" name="newPassword" id="ui-sign-in-new-password-input" autocomplete="new-password" class="mdl-textfield__input firebaseui-input firebaseui-id-new-password"></div><a href="javascript:void(0)" class="firebaseui-input-floating-button firebaseui-id-password-toggle firebaseui-input-toggle-on firebaseui-input-toggle-blur"></a><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-new-password-error"></p></div></div>')}function dv(){var o={},u='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-password-input">';return u=o.current?u+"Current password":u+"Password",ce(u+'</label><input type="password" name="password" id="ui-sign-in-password-input" autocomplete="current-password" class="mdl-textfield__input firebaseui-input firebaseui-id-password"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-password-error"></p></div>')}function vv(){return ce('<a class="firebaseui-link firebaseui-id-secondary-link" href="javascript:void(0)">Trouble signing in?</a>')}function An(o){o=o||{},o=o.label;var u='<button class="firebaseui-id-secondary-link firebaseui-button mdl-button mdl-js-button mdl-button--primary">';return u=o?u+xe(o):u+"Cancel",ce(u+"</button>")}function Cn(o){var u="";return o.F&&o.D&&(u+='<ul class="firebaseui-tos-list firebaseui-tos"><li class="firebaseui-inline-list-item"><a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a></li><li class="firebaseui-inline-list-item"><a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a></li></ul>'),ce(u)}function Eu(o){var u="";return o.F&&o.D&&(u+='<p class="firebaseui-tos firebaseui-tospp-full-message">By continuing, you are indicating that you accept our <a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a> and <a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a>.</p>'),ce(u)}function gv(o){return o='<div class="firebaseui-info-bar firebaseui-id-info-bar"><p class="firebaseui-info-bar-message">'+xe(o.message)+'&nbsp;&nbsp;<a href="javascript:void(0)" class="firebaseui-link firebaseui-id-dismiss-info-bar">Dismiss</a></p></div>',ce(o)}gv.a="firebaseui.auth.soy2.element.infoBar";function mv(o){var u=o.content;return o=o.Ab,ce('<dialog class="mdl-dialog firebaseui-dialog firebaseui-id-dialog'+(o?" "+Sn(o):"")+'">'+xe(u)+"</dialog>")}function yv(o){var u=o.message;return ce(mv({content:Il('<div class="firebaseui-dialog-icon-wrapper"><div class="'+Sn(o.Ma)+' firebaseui-dialog-icon"></div></div><div class="firebaseui-progress-dialog-message">'+xe(u)+"</div>")}))}yv.a="firebaseui.auth.soy2.element.progressDialog";function dy(o){var u='<div class="firebaseui-list-box-actions">';o=o.items;for(var f=o.length,v=0;v<f;v++){var b=o[v];u+='<button type="button" data-listboxid="'+Sn(b.id)+'" class="mdl-button firebaseui-id-list-box-dialog-button firebaseui-list-box-dialog-button">'+(b.Ma?'<div class="firebaseui-list-box-icon-wrapper"><div class="firebaseui-list-box-icon '+Sn(b.Ma)+'"></div></div>':"")+'<div class="firebaseui-list-box-label-wrapper">'+xe(b.label)+"</div></button>"}return u=""+mv({Ab:Ft("firebaseui-list-box-dialog"),content:Il(u+"</div>")}),ce(u)}dy.a="firebaseui.auth.soy2.element.listBoxDialog";function uc(o){return o=o||{},ce(o.tb?'<div class="mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-busy-indicator firebaseui-id-busy-indicator"></div>':'<div class="mdl-progress mdl-js-progress mdl-progress__indeterminate firebaseui-busy-indicator firebaseui-id-busy-indicator"></div>')}uc.a="firebaseui.auth.soy2.element.busyIndicator";function Eo(o,u){return o=o||{},o=o.ga,et(o.S?o.S:u.hb[o.providerId]?""+u.hb[o.providerId]:o.providerId&&o.providerId.indexOf("saml.")==0||o.providerId&&o.providerId.indexOf("oidc.")==0?o.providerId.substring(5):""+o.providerId)}function Ah(o){wv(o,"upgradeElement")}function Ch(o){wv(o,"downgradeElements")}var bv=["mdl-js-textfield","mdl-js-progress","mdl-js-spinner","mdl-js-button"];function wv(o,u){o&&window.componentHandler&&window.componentHandler[u]&&bv.forEach(function(f){nc(o,f)&&window.componentHandler[u](o),Ee(kf(f,o),function(v){window.componentHandler[u](v)})})}function kh(o,u,f){if(xh.call(this),document.body.appendChild(o),o.showModal||window.dialogPolyfill.registerDialog(o),o.showModal(),Ah(o),u&&Ot(this,o,function(w){var C=o.getBoundingClientRect();(w.clientX<C.left||C.left+C.width<w.clientX||w.clientY<C.top||C.top+C.height<w.clientY)&&xh.call(this)}),!f){var v=this.N().parentElement||this.N().parentNode;if(v){var b=this;this.da=function(){if(o.open){var w=o.getBoundingClientRect().height,C=v.getBoundingClientRect().height,R=v.getBoundingClientRect().top-document.body.getBoundingClientRect().top,W=v.getBoundingClientRect().left-document.body.getBoundingClientRect().left,ne=o.getBoundingClientRect().width,pe=v.getBoundingClientRect().width;o.style.top=(R+(C-w)/2).toString()+"px",w=W+(pe-ne)/2,o.style.left=w.toString()+"px",o.style.right=(document.body.getBoundingClientRect().width-w-ne).toString()+"px"}else window.removeEventListener("resize",b.da)},this.da(),window.addEventListener("resize",this.da,!1)}}}function xh(){var o=Nh.call(this);o&&(Ch(o),o.open&&o.close(),Go(o),this.da&&window.removeEventListener("resize",this.da))}function Nh(){return qo("firebaseui-id-dialog")}function lc(){Go(Rh.call(this))}function Rh(){return Je(this,"firebaseui-id-info-bar")}function Iu(){return Je(this,"firebaseui-id-dismiss-info-bar")}var cc={xa:{"google.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg","github.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/github.svg","facebook.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/facebook.svg","twitter.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/twitter.svg",password:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/mail.svg",phone:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/phone.svg",anonymous:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/anonymous.png","microsoft.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/microsoft.svg","yahoo.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/yahoo.svg","apple.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/apple.png",saml:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/saml.svg",oidc:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/oidc.svg"},wa:{"google.com":"#ffffff","github.com":"#333333","facebook.com":"#3b5998","twitter.com":"#55acee",password:"#db4437",phone:"#02bd7e",anonymous:"#f4b400","microsoft.com":"#2F2F2F","yahoo.com":"#720E9E","apple.com":"#000000",saml:"#007bff",oidc:"#007bff"},hb:{"google.com":"Google","github.com":"GitHub","facebook.com":"Facebook","twitter.com":"Twitter",password:"Password",phone:"Phone",anonymous:"Guest","microsoft.com":"Microsoft","yahoo.com":"Yahoo","apple.com":"Apple"}};function os(o,u,f){uo.call(this,o,u);for(var v in f)this[v]=f[v]}te(os,uo);function Q(o,u,f,v,b){Xs.call(this,f),this.fb=o,this.eb=u,this.Fa=!1,this.Ga=v||null,this.A=this.ca=null,this.Z=jo(cc),U(this.Z,b||{})}te(Q,Xs),t=Q.prototype,t.kb=function(){var o=Rs(this.fb,this.eb,this.Z,this.s);Ah(o),this.g=o},t.v=function(){if(Q.K.v.call(this),Im(kt(this),new os("pageEnter",kt(this),{pageId:this.Ga})),this.bb()&&this.Z.F){var o=this.Z.F;Ot(this,this.bb(),function(){o()})}if(this.ab()&&this.Z.D){var u=this.Z.D;Ot(this,this.ab(),function(){u()})}},t.ya=function(){Im(kt(this),new os("pageExit",kt(this),{pageId:this.Ga})),Q.K.ya.call(this)},t.o=function(){window.clearTimeout(this.ca),this.eb=this.fb=this.ca=null,this.Fa=!1,this.A=null,Ch(this.N()),Q.K.o.call(this)};function vy(o){o.Fa=!0;var u=nc(o.N(),"firebaseui-use-spinner");o.ca=window.setTimeout(function(){o.N()&&o.A===null&&(o.A=Rs(uc,{tb:u},null,o.s),o.N().appendChild(o.A),Ah(o.A))},500)}t.I=function(o,u,f,v){function b(){if(w.T)return null;w.Fa=!1,window.clearTimeout(w.ca),w.ca=null,w.A&&(Ch(w.A),Go(w.A),w.A=null)}var w=this;return w.Fa?null:(vy(w),o.apply(null,u).then(f,v).then(b,b))};function kt(o){return o.N().parentElement||o.N().parentNode}function Su(o,u,f){sc(o,u,function(){f.focus()})}function $s(o,u,f){sc(o,u,function(){f()})}re(Q.prototype,{a:function(o){lc.call(this);var u=Rs(gv,{message:o},null,this.s);this.N().appendChild(u),Ot(this,Iu.call(this),function(){Go(u)})},zc:lc,Bc:Rh,Ac:Iu,$:function(o,u){o=Rs(yv,{Ma:o,message:u},null,this.s),kh.call(this,o)},h:xh,Cb:Nh,Dc:function(){return Je(this,"firebaseui-tos")},bb:function(){return Je(this,"firebaseui-tos-link")},ab:function(){return Je(this,"firebaseui-pp-link")},Ec:function(){return Je(this,"firebaseui-tos-list")}});function Tu(o,u,f){o=o||{},u=o.Va;var v=o.ia;return o='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-sign-in"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in with email</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+_u(o)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(u?An(null):"")+er(null)+'</div></div><div class="firebaseui-card-footer">'+(v?Eu(f):Cn(f))+"</div></form></div>",ce(o)}Tu.a="firebaseui.auth.soy2.page.signIn";function fc(o,u,f){return o=o||{},u=o.ia,o='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-sign-in"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content">'+_u(o)+dv()+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+vv()+'</div><div class="firebaseui-form-actions">'+ac()+'</div></div><div class="firebaseui-card-footer">'+(u?Eu(f):Cn(f))+"</div></form></div>",ce(o)}fc.a="firebaseui.auth.soy2.page.passwordSignIn";function _v(o,u,f){o=o||{};var v=o.Tb;u=o.Ta;var b=o.ia,w='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-sign-up"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Create account</h1></div><div class="firebaseui-card-content">'+_u(o);return v?(o=o||{},o=o.name,o='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-name-input">First &amp; last name</label><input type="text" name="name" id="ui-sign-in-name-input" autocomplete="name" class="mdl-textfield__input firebaseui-input firebaseui-id-name" value="'+Sn(o??"")+'"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-name-error"></p></div>',o=ce(o)):o="",f=w+o+pv(null)+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(u?An(null):"")+Th()+'</div></div><div class="firebaseui-card-footer">'+(b?Eu(f):Cn(f))+"</div></form></div>",ce(f)}_v.a="firebaseui.auth.soy2.page.passwordSignUp";function gy(o,u,f){return o=o||{},u=o.Ta,o='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-recovery"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Recover password</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Get instructions sent to this email that explain how to reset your password</p>'+_u(o)+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(u?An(null):"")+er({label:Ft("Send")})+'</div></div><div class="firebaseui-card-footer">'+Cn(f)+"</div></form></div>",ce(o)}gy.a="firebaseui.auth.soy2.page.passwordRecovery";function Oh(o,u,f){u=o.G;var v="";return o="Follow the instructions sent to <strong>"+(xe(o.email)+"</strong> to recover your password"),v+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-recovery-email-sent"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Check your email</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+o+'</p></div><div class="firebaseui-card-actions">',u&&(v+='<div class="firebaseui-form-actions">'+er({label:Ft("Done")})+"</div>"),v+='</div><div class="firebaseui-card-footer">'+Cn(f)+"</div></div>",ce(v)}Oh.a="firebaseui.auth.soy2.page.passwordRecoveryEmailSent";function Ph(o,u,f){return ce('<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-callback"><div class="firebaseui-callback-indicator-container">'+uc(null)+"</div></div>")}Ph.a="firebaseui.auth.soy2.page.callback";function Ev(o,u,f){return ce('<div class="firebaseui-container firebaseui-id-page-spinner">'+uc({tb:!0})+"</div>")}Ev.a="firebaseui.auth.soy2.page.spinner";function my(){return ce('<div class="firebaseui-container firebaseui-id-page-blank firebaseui-use-spinner"></div>')}my.a="firebaseui.auth.soy2.page.blank";function yy(o,u,f){u="",o="A sign-in email with additional instructions was sent to <strong>"+(xe(o.email)+"</strong>. Check your email to complete sign-in.");var v=ce('<a class="firebaseui-link firebaseui-id-trouble-getting-email-link" href="javascript:void(0)">Trouble getting email?</a>');return u+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-sent"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign-in email sent</h1></div><div class="firebaseui-card-content"><div class="firebaseui-email-sent"></div><p class="firebaseui-text">'+o+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+v+'</div><div class="firebaseui-form-actions">'+An({label:Ft("Back")})+'</div></div><div class="firebaseui-card-footer">'+Cn(f)+"</div></form></div>",ce(u)}yy.a="firebaseui.auth.soy2.page.emailLinkSignInSent";function Dh(o,u,f){return o=`<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-not-received"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Trouble getting email?</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Try these common fixes:<ul><li>Check if the email was marked as spam or filtered.</li><li>Check your internet connection.</li><li>Check that you did not misspell your email.</li><li>Check that your inbox space is not running out or other inbox settings related issues.</li></ul></p><p class="firebaseui-text">If the steps above didn't work, you can resend the email. Note that this will deactivate the link in the older email.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">`+ce('<a class="firebaseui-link firebaseui-id-resend-email-link" href="javascript:void(0)">Resend</a>')+'</div><div class="firebaseui-form-actions">'+An({label:Ft("Back")})+'</div></div><div class="firebaseui-card-footer">'+Cn(f)+"</div></form></div>",ce(o)}Dh.a="firebaseui.auth.soy2.page.emailNotReceived";function by(o,u,f){return o='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-confirmation"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Confirm email</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Confirm your email to complete sign in</p><div class="firebaseui-relative-wrapper">'+_u(o)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+An(null)+er(null)+'</div></div><div class="firebaseui-card-footer">'+Cn(f)+"</div></form></div>",ce(o)}by.a="firebaseui.auth.soy2.page.emailLinkSignInConfirmation";function wy(){var o='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-different-device-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">New device or browser detected</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Try opening the link using the same device or browser where you started the sign-in process.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+An({label:Ft("Dismiss")})+"</div></div></div>";return ce(o)}wy.a="firebaseui.auth.soy2.page.differentDeviceError";function _y(){var o='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-anonymous-user-mismatch"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Session ended</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">The session associated with this sign-in request has either expired or was cleared.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+An({label:Ft("Dismiss")})+"</div></div></div>";return ce(o)}_y.a="firebaseui.auth.soy2.page.anonymousUserMismatch";function Ey(o,u,f){return u="",o="You’ve already used <strong>"+(xe(o.email)+"</strong> to sign in. Enter your password for that account."),u+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text">'+o+"</p>"+dv()+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+vv()+'</div><div class="firebaseui-form-actions">'+ac()+'</div></div><div class="firebaseui-card-footer">'+Cn(f)+"</div></form></div>",ce(u)}Ey.a="firebaseui.auth.soy2.page.passwordLinking";function Qs(o,u,f){var v=o.email;return u="",o=""+Eo(o,f),o=Ft(o),v="You’ve already used <strong>"+(xe(v)+("</strong>. You can connect your <strong>"+(xe(o)+("</strong> account with <strong>"+(xe(v)+"</strong> by signing in with email link below."))))),o="For this flow to successfully connect your "+(xe(o)+" account with this email, you have to open the link on the same device or browser."),u+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text firebaseui-text-justify">'+v+'<p class="firebaseui-text firebaseui-text-justify">'+o+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+ac()+'</div></div><div class="firebaseui-card-footer">'+Cn(f)+"</div></form></div>",ce(u)}Qs.a="firebaseui.auth.soy2.page.emailLinkSignInLinking";function Iy(o,u,f){u="";var v=""+Eo(o,f);return v=Ft(v),o="You originally intended to connect <strong>"+(xe(v)+"</strong> to your email account but have opened the link on a different device where you are not signed in."),v="If you still want to connect your <strong>"+(xe(v)+"</strong> account, open the link on the same device where you started sign-in. Otherwise, tap Continue to sign-in on this device."),u+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-linking-different-device"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text firebaseui-text-justify">'+o+'</p><p class="firebaseui-text firebaseui-text-justify">'+v+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Yr()+'</div></div><div class="firebaseui-card-footer">'+Cn(f)+"</div></form></div>",ce(u)}Iy.a="firebaseui.auth.soy2.page.emailLinkSignInLinkingDifferentDevice";function Iv(o,u,f){var v=o.email;return u="",o=""+Eo(o,f),o=Ft(o),v="You’ve already used <strong>"+(xe(v)+("</strong>. Sign in with "+(xe(o)+" to continue."))),u+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-federated-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text">'+v+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+er({label:Ft("Sign in with "+o)})+'</div></div><div class="firebaseui-card-footer">'+Cn(f)+"</div></form></div>",ce(u)}Iv.a="firebaseui.auth.soy2.page.federatedLinking";function Lh(o,u,f){o=o||{};var v=o.kc;u=o.yb,o=o.Eb;var b='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unauthorized-user"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Not Authorized</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">';return v?(v="<strong>"+(xe(v)+"</strong> is not authorized to view the requested page."),b+=v):b+="User is not authorized to view the requested page.",b+="</p>",u&&(u="Please contact <strong>"+(xe(u)+"</strong> for authorization."),b+='<p class="firebaseui-text firebaseui-id-unauthorized-user-admin-email">'+u+"</p>"),b+='</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">',o&&(b+='<a class="firebaseui-link firebaseui-id-unauthorized-user-help-link" href="javascript:void(0)" target="_blank">Learn More</a>'),b+='</div><div class="firebaseui-form-actions">'+An({label:Ft("Back")})+'</div></div><div class="firebaseui-card-footer">'+Cn(f)+"</div></form></div>",ce(b)}Lh.a="firebaseui.auth.soy2.page.unauthorizedUser";function Au(o,u,f){return u="",o="To continue sign in with <strong>"+(xe(o.email)+"</strong> on this device, you have to recover the password."),u+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unsupported-provider"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+o+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+An(null)+er({label:Ft("Recover password")})+'</div></div><div class="firebaseui-card-footer">'+Cn(f)+"</div></form></div>",ce(u)}Au.a="firebaseui.auth.soy2.page.unsupportedProvider";function ss(o){var u="",f='<p class="firebaseui-text">for <strong>'+(xe(o.email)+"</strong></p>");return u+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Reset your password</h1></div><div class="firebaseui-card-content">'+f+pv(dm(o))+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Th()+"</div></div></form></div>",ce(u)}ss.a="firebaseui.auth.soy2.page.passwordReset";function Js(o){return o=o||{},o='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Password changed</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You can now sign in with your new password</p></div><div class="firebaseui-card-actions">'+(o.G?'<div class="firebaseui-form-actions">'+Yr()+"</div>":"")+"</div></div>",ce(o)}Js.a="firebaseui.auth.soy2.page.passwordResetSuccess";function Sy(o){return o=o||{},o='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try resetting your password again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to reset your password has expired or the link has already been used</p></div><div class="firebaseui-card-actions">'+(o.G?'<div class="firebaseui-form-actions">'+Yr()+"</div>":"")+"</div></div>",ce(o)}Sy.a="firebaseui.auth.soy2.page.passwordResetFailure";function Zs(o){var u=o.G,f="";return o="Your sign-in email address has been changed back to <strong>"+(xe(o.email)+"</strong>."),f+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-change-revoke-success"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Updated email address</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+o+'</p><p class="firebaseui-text">If you didn’t ask to change your sign-in email, it’s possible someone is trying to access your account and you should <a class="firebaseui-link firebaseui-id-reset-password-link" href="javascript:void(0)">change your password right away</a>.</p></div><div class="firebaseui-card-actions">'+(u?'<div class="firebaseui-form-actions">'+Yr()+"</div>":"")+"</div></form></div>",ce(f)}Zs.a="firebaseui.auth.soy2.page.emailChangeRevokeSuccess";function Ty(o){return o=o||{},o='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-change-revoke-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Unable to update your email address</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">There was a problem changing your sign-in email back.</p><p class="firebaseui-text">If you try again and still can’t reset your email, try asking your administrator for help.</p></div><div class="firebaseui-card-actions">'+(o.G?'<div class="firebaseui-form-actions">'+Yr()+"</div>":"")+"</div></div>",ce(o)}Ty.a="firebaseui.auth.soy2.page.emailChangeRevokeFailure";function Mh(o){return o=o||{},o='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-verification-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Your email has been verified</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You can now sign in with your new account</p></div><div class="firebaseui-card-actions">'+(o.G?'<div class="firebaseui-form-actions">'+Yr()+"</div>":"")+"</div></div>",ce(o)}Mh.a="firebaseui.auth.soy2.page.emailVerificationSuccess";function Ay(o){return o=o||{},o='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-verification-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try verifying your email again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to verify your email has expired or the link has already been used</p></div><div class="firebaseui-card-actions">'+(o.G?'<div class="firebaseui-form-actions">'+Yr()+"</div>":"")+"</div></div>",ce(o)}Ay.a="firebaseui.auth.soy2.page.emailVerificationFailure";function Fh(o){var u=o.G,f="";return o="You can now sign in with your new email <strong>"+(xe(o.email)+"</strong>."),f+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-verify-and-change-email-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Your email has been verified and changed</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+o+'</p></div><div class="firebaseui-card-actions">'+(u?'<div class="firebaseui-form-actions">'+Yr()+"</div>":"")+"</div></div>",ce(f)}Fh.a="firebaseui.auth.soy2.page.verifyAndChangeEmailSuccess";function Cy(o){return o=o||{},o='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-verify-and-change-email-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try updating your email again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to verify and update your email has expired or the link has already been used.</p></div><div class="firebaseui-card-actions">'+(o.G?'<div class="firebaseui-form-actions">'+Yr()+"</div>":"")+"</div></div>",ce(o)}Cy.a="firebaseui.auth.soy2.page.verifyAndChangeEmailFailure";function ky(o){var u=o.factorId,f=o.phoneNumber;o=o.G;var v='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-revert-second-factor-addition-success"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Removed second factor</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">';switch(u){case"phone":u="The <strong>"+(xe(u)+(" "+(xe(f)+"</strong> was removed as a second authentication step."))),v+=u;break;default:v+="The device or app was removed as a second authentication step."}return v+=`</p><p class="firebaseui-text">If you don't recognize this device, someone might be trying to access your account. Consider <a class="firebaseui-link firebaseui-id-reset-password-link" href="javascript:void(0)">changing your password right away</a>.</p></div><div class="firebaseui-card-actions">`+(o?'<div class="firebaseui-form-actions">'+Yr()+"</div>":"")+"</div></form></div>",ce(v)}ky.a="firebaseui.auth.soy2.page.revertSecondFactorAdditionSuccess";function xy(o){return o=o||{},o=`<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-revert-second-factor-addition-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Couldn't remove your second factor</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Something went wrong removing your second factor.</p><p class="firebaseui-text">Try removing it again. If that doesn't work, contact support for assistance.</p></div><div class="firebaseui-card-actions">`+(o.G?'<div class="firebaseui-form-actions">'+Yr()+"</div>":"")+"</div></div>",ce(o)}xy.a="firebaseui.auth.soy2.page.revertSecondFactorAdditionFailure";function hc(o){var u=o.zb;return o='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-recoverable-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Error encountered</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+xe(o.errorMessage)+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">',u&&(o+=er({label:Ft("Retry")})),ce(o+"</div></div></div>")}hc.a="firebaseui.auth.soy2.page.recoverableError";function pc(o){return o='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unrecoverable-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Error encountered</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+xe(o.errorMessage)+"</p></div></div>",ce(o)}pc.a="firebaseui.auth.soy2.page.unrecoverableError";function Sv(o,u,f){var v=o.Qb;return u="",o="Continue with "+(xe(o.jc)+"?"),v="You originally wanted to sign in with "+xe(v),u+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-mismatch"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">'+o+'</h2><p class="firebaseui-text">'+v+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+An(null)+er({label:Ft("Continue")})+'</div></div><div class="firebaseui-card-footer">'+Cn(f)+"</div></form></div>",ce(u)}Sv.a="firebaseui.auth.soy2.page.emailMismatch";function Ny(o,u,f){var v='<div class="firebaseui-container firebaseui-page-provider-sign-in firebaseui-id-page-provider-sign-in firebaseui-use-spinner"><div class="firebaseui-card-content"><form onsubmit="return false;"><ul class="firebaseui-idp-list">';o=o.Sb,u=o.length;for(var b=0;b<u;b++){var w={ga:o[b]},C=f;w=w||{};var R=w.ga,W=w;W=W||{};var ne="";switch(W.ga.providerId){case"google.com":ne+="firebaseui-idp-google";break;case"github.com":ne+="firebaseui-idp-github";break;case"facebook.com":ne+="firebaseui-idp-facebook";break;case"twitter.com":ne+="firebaseui-idp-twitter";break;case"phone":ne+="firebaseui-idp-phone";break;case"anonymous":ne+="firebaseui-idp-anonymous";break;case"password":ne+="firebaseui-idp-password";break;default:ne+="firebaseui-idp-generic"}W='<button class="firebaseui-idp-button mdl-button mdl-js-button mdl-button--raised '+Sn(et(ne))+' firebaseui-id-idp-button" data-provider-id="'+Sn(R.providerId)+'" style="background-color:',ne=(ne=w)||{},ne=ne.ga,W=W+Sn(Fn(et(ne.ta?ne.ta:C.wa[ne.providerId]?""+C.wa[ne.providerId]:ne.providerId.indexOf("saml.")==0?""+C.wa.saml:ne.providerId.indexOf("oidc.")==0?""+C.wa.oidc:""+C.wa.password)))+'"><span class="firebaseui-idp-icon-wrapper"><img class="firebaseui-idp-icon" alt="" src="';var pe=w;ne=C,pe=pe||{},pe=pe.ga,ne=pm(pe.za?io(pe.za):ne.xa[pe.providerId]?io(ne.xa[pe.providerId]):pe.providerId.indexOf("saml.")==0?io(ne.xa.saml):pe.providerId.indexOf("oidc.")==0?io(ne.xa.oidc):io(ne.xa.password)),W=W+Sn(io(ne))+'"></span>',R.providerId=="password"?(W+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',R.V?W+=xe(R.V):R.S?(w="Sign in with "+xe(Eo(w,C)),W+=w):W+="Sign in with email",W+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',W=R.S?W+xe(R.S):W+"Email",W+="</span>"):R.providerId=="phone"?(W+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',R.V?W+=xe(R.V):R.S?(w="Sign in with "+xe(Eo(w,C)),W+=w):W+="Sign in with phone",W+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',W=R.S?W+xe(R.S):W+"Phone",W+="</span>"):R.providerId=="anonymous"?(W+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',R.V?W+=xe(R.V):R.S?(w="Sign in with "+xe(Eo(w,C)),W+=w):W+="Continue as guest",W+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',W=R.S?W+xe(R.S):W+"Guest",W+="</span>"):(W+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',R.V?W+=xe(R.V):(ne="Sign in with "+xe(Eo(w,C)),W+=ne),W+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">'+(R.S?xe(R.S):xe(Eo(w,C)))+"</span>"),R=ce(W+"</button>"),v+='<li class="firebaseui-list-item">'+R+"</li>"}return v+='</ul></form></div><div class="firebaseui-card-footer firebaseui-provider-sign-in-footer">'+Eu(f)+"</div></div>",ce(v)}Ny.a="firebaseui.auth.soy2.page.providerSignIn";function Tv(o,u,f){o=o||{};var v=o.Gb,b=o.Va;u=o.ia,o=o||{},o=o.Aa,o='<div class="firebaseui-phone-number"><button class="firebaseui-id-country-selector firebaseui-country-selector mdl-button mdl-js-button"><span class="firebaseui-flag firebaseui-country-selector-flag firebaseui-id-country-selector-flag"></span><span class="firebaseui-id-country-selector-code"></span></button><div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label firebaseui-textfield firebaseui-phone-input-wrapper"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-phone-number-input">Phone number</label><input type="tel" name="phoneNumber" id="ui-sign-in-phone-number-input" class="mdl-textfield__input firebaseui-input firebaseui-id-phone-number" value="'+Sn(o??"")+'"></div></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-phone-number-error firebaseui-id-phone-number-error"></p></div>',o='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-phone-sign-in-start"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Enter your phone number</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+ce(o);var w;return v?w=ce('<div class="firebaseui-recaptcha-wrapper"><div class="firebaseui-recaptcha-container"></div><div class="firebaseui-error-wrapper firebaseui-recaptcha-error-wrapper"><p class="firebaseui-error firebaseui-hidden firebaseui-id-recaptcha-error"></p></div></div>'):w="",w=o+w+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(b?An(null):"")+er({label:Ft("Verify")})+'</div></div><div class="firebaseui-card-footer">',u?(u='<p class="firebaseui-tos firebaseui-phone-tos">',u=f.F&&f.D?u+'By tapping Verify, you are indicating that you accept our <a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a> and <a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a>. An SMS may be sent. Message &amp; data rates may apply.':u+"By tapping Verify, an SMS may be sent. Message &amp; data rates may apply.",f=ce(u+"</p>")):f=ce('<p class="firebaseui-tos firebaseui-phone-sms-notice">By tapping Verify, an SMS may be sent. Message &amp; data rates may apply.</p>')+Cn(f),ce(w+f+"</div></form></div>")}Tv.a="firebaseui.auth.soy2.page.phoneSignInStart";function Uh(o,u,f){o=o||{},u=o.phoneNumber;var v="";return o='Enter the 6-digit code we sent to <a class="firebaseui-link firebaseui-change-phone-number-link firebaseui-id-change-phone-number-link" href="javascript:void(0)">&lrm;'+(xe(u)+"</a>"),xe(u),u=v,v=ce('<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-phone-confirmation-code-input">6-digit code</label><input type="number" name="phoneConfirmationCode" id="ui-sign-in-phone-confirmation-code-input" class="mdl-textfield__input firebaseui-input firebaseui-id-phone-confirmation-code"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-phone-confirmation-code-error"></p></div>'),f='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-phone-sign-in-finish"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Verify your phone number</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+o+"</p>"+v+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+An(null)+er({label:Ft("Continue")})+'</div></div><div class="firebaseui-card-footer">'+Cn(f)+"</div></form>",o=ce('<div class="firebaseui-resend-container"><span class="firebaseui-id-resend-countdown"></span><a href="javascript:void(0)" class="firebaseui-id-resend-link firebaseui-hidden firebaseui-link">Resend</a></div>'),ce(u+(f+o+"</div>"))}Uh.a="firebaseui.auth.soy2.page.phoneSignInFinish";function Av(){return ce('<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-sign-out"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign Out</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You are now successfully signed out.</p></div></div>')}Av.a="firebaseui.auth.soy2.page.signOut";function jh(o,u,f){var v='<div class="firebaseui-container firebaseui-page-select-tenant firebaseui-id-page-select-tenant"><div class="firebaseui-card-content"><form onsubmit="return false;"><ul class="firebaseui-tenant-list">';o=o.ec,u=o.length;for(var b=0;b<u;b++){var w=o[b],C="",R=xe(w.displayName),W=w.tenantId?w.tenantId:"top-level-project";W=Ft(W),C+='<button class="firebaseui-tenant-button mdl-button mdl-js-button mdl-button--raised firebaseui-tenant-selection-'+Sn(W)+' firebaseui-id-tenant-selection-button"'+(w.tenantId?'data-tenant-id="'+Sn(w.tenantId)+'"':"")+'style="background-color:'+Sn(Fn(w.ta))+'"><span class="firebaseui-idp-icon-wrapper"><img class="firebaseui-idp-icon" alt="" src="'+Sn(io(w.za))+'"></span><span class="firebaseui-idp-text firebaseui-idp-text-long">',w.V?C+=xe(w.V):(w="Sign in to "+xe(w.displayName),C+=w),C=ce(C+('</span><span class="firebaseui-idp-text firebaseui-idp-text-short">'+R+"</span></button>")),v+='<li class="firebaseui-list-item">'+C+"</li>"}return v+='</ul></form></div><div class="firebaseui-card-footer firebaseui-provider-sign-in-footer">'+Eu(f)+"</div></div>",ce(v)}jh.a="firebaseui.auth.soy2.page.selectTenant";function Vh(o,u,f){return o='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-provider-match-by-email"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+_u(null)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+er(null)+'</div></div><div class="firebaseui-card-footer">'+Eu(f)+"</div></form></div>",ce(o)}Vh.a="firebaseui.auth.soy2.page.providerMatchByEmail";function Jt(){return Je(this,"firebaseui-id-submit")}function Kt(){return Je(this,"firebaseui-id-secondary-link")}function vn(o,u){Ot(this,Jt.call(this),function(v){o(v)});var f=Kt.call(this);f&&u&&Ot(this,f,function(v){u(v)})}function dc(){return Je(this,"firebaseui-id-password")}function ea(){return Je(this,"firebaseui-id-password-error")}function Ry(){var o=dc.call(this),u=ea.call(this);wu(this,o,function(){_o(u)&&(Ct(o,!0),kr(u))})}function Oy(){var o=dc.call(this),u=ea.call(this);return Qt(o)?(Ct(o,!0),kr(u),u=!0):(Ct(o,!1),dn(u,et("Enter your password").toString()),u=!1),u?Qt(o):null}function Cu(o,u,f,v,b,w){Q.call(this,Ey,{email:o},w,"passwordLinking",{F:v,D:b}),this.w=u,this.H=f}h(Cu,Q),Cu.prototype.v=function(){this.P(),this.M(this.w,this.H),$s(this,this.i(),this.w),this.i().focus(),Q.prototype.v.call(this)},Cu.prototype.o=function(){this.w=null,Q.prototype.o.call(this)},Cu.prototype.j=function(){return Qt(Je(this,"firebaseui-id-email"))},re(Cu.prototype,{i:dc,B:ea,P:Ry,u:Oy,ea:Jt,ba:Kt,M:vn});var Py=/^[+a-zA-Z0-9_.!#$%&'*\/=?^`{|}~-]+@([a-zA-Z0-9-]+\.)+[a-zA-Z0-9]{2,63}$/;function Ri(){return Je(this,"firebaseui-id-email")}function Oi(){return Je(this,"firebaseui-id-email-error")}function ku(o){var u=Ri.call(this),f=Oi.call(this);wu(this,u,function(){_o(f)&&(Ct(u,!0),kr(f))}),o&&sc(this,u,function(){o()})}function xu(){return dt(Qt(Ri.call(this))||"")}function as(){var o=Ri.call(this),u=Oi.call(this),f=Qt(o)||"";return f?Py.test(f)?(Ct(o,!0),kr(u),u=!0):(Ct(o,!1),dn(u,et("That email address isn't correct").toString()),u=!1):(Ct(o,!1),dn(u,et("Enter your email address to continue").toString()),u=!1),u?dt(Qt(o)):null}function vc(o,u,f,v,b,w,C){Q.call(this,fc,{email:f,ia:!!w},C,"passwordSignIn",{F:v,D:b}),this.w=o,this.H=u}h(vc,Q),vc.prototype.v=function(){this.P(),this.ea(),this.ba(this.w,this.H),Su(this,this.l(),this.i()),$s(this,this.i(),this.w),Qt(this.l())?this.i().focus():this.l().focus(),Q.prototype.v.call(this)},vc.prototype.o=function(){this.H=this.w=null,Q.prototype.o.call(this)},re(vc.prototype,{l:Ri,U:Oi,P:ku,M:xu,j:as,i:dc,B:ea,ea:Ry,u:Oy,ua:Jt,pa:Kt,ba:vn});function it(o,u,f,v,b,w){Q.call(this,o,u,v,b||"notice",w),this.i=f||null}te(it,Q),it.prototype.v=function(){this.i&&(this.u(this.i),this.l().focus()),it.K.v.call(this)},it.prototype.o=function(){this.i=null,it.K.o.call(this)},re(it.prototype,{l:Jt,w:Kt,u:vn});function Bh(o,u,f,v,b){it.call(this,Oh,{email:o,G:!!u},u,b,"passwordRecoveryEmailSent",{F:f,D:v})}te(Bh,it);function gc(o,u){it.call(this,Mh,{G:!!o},o,u,"emailVerificationSuccess")}te(gc,it);function Cv(o,u){it.call(this,Ay,{G:!!o},o,u,"emailVerificationFailure")}te(Cv,it);function kv(o,u,f){it.call(this,Fh,{email:o,G:!!u},u,f,"verifyAndChangeEmailSuccess")}te(kv,it);function xv(o,u){it.call(this,Cy,{G:!!o},o,u,"verifyAndChangeEmailFailure")}te(xv,it);function qh(o,u){it.call(this,xy,{G:!!o},o,u,"revertSecondFactorAdditionFailure")}te(qh,it);function Nv(o){it.call(this,Av,void 0,void 0,o,"signOut")}te(Nv,it);function Dy(o,u){it.call(this,Js,{G:!!o},o,u,"passwordResetSuccess")}te(Dy,it);function Ly(o,u){it.call(this,Sy,{G:!!o},o,u,"passwordResetFailure")}te(Ly,it);function Rv(o,u){it.call(this,Ty,{G:!!o},o,u,"emailChangeRevokeFailure")}te(Rv,it);function Gh(o,u,f){it.call(this,hc,{errorMessage:o,zb:!!u},u,f,"recoverableError")}te(Gh,it);function Ov(o,u){it.call(this,pc,{errorMessage:o},void 0,u,"unrecoverableError")}te(Ov,it);function Nu(o){if(o.code==="auth/invalid-credential"&&o.message&&o.message.indexOf("error=consent_required")!==-1)return{code:"auth/user-cancelled"};if(o.message&&o.message.indexOf("HTTP Cloud Function returned an error:")!==-1){var u=JSON.parse(o.message.substring(o.message.indexOf("{"),o.message.lastIndexOf("}")+1));return{code:o.code,message:u&&u.error&&u.error.message||o.message}}return o}function li(o,u,f,v){function b(C){if(!C.name||C.name!="cancel"){e:{var R=C.message;try{var W=((JSON.parse(R).error||{}).message||"").toLowerCase().match(/invalid.+(access|id)_token/);if(W&&W.length){var ne=!0;break e}}catch{}ne=!1}if(ne)C=kt(u),u.m(),gt(o,C,void 0,et("Your sign-in session has expired. Please try again.").toString());else{if(ne=C&&C.message||"",C.code){if(C.code=="auth/email-already-in-use"||C.code=="auth/credential-already-in-use")return;ne=ot(C)}u.a(ne)}}}if(eb(o),v)return Pv(o,f),Ut();if(!f.credential)throw Error("No credential found!");if(!We(o).currentUser&&!f.user)throw Error("User not logged in.");try{var w=qv(o,f)}catch(C){return Un(C.code||C.message,C),u.a(C.code||C.message),Ut()}return f=w.then(function(C){Pv(o,C)},b).then(void 0,b),Ne(o,w),Ut(f)}function Pv(o,u){if(!u.user)throw Error("No user found");var f=nv(K(o));if(tv(K(o))&&f&&vo("Both signInSuccess and signInSuccessWithAuthResult callbacks are provided. Only signInSuccessWithAuthResult callback will be invoked."),f){f=nv(K(o));var v=oh(Se(o))||void 0;Tn(fu,Se(o));var b=!1;zf()?((!f||f(u,v))&&(b=!0,xs(window.opener.location,mc(o,v))),f||window.close()):(!f||f(u,v))&&(b=!0,xs(window.location,mc(o,v))),b||o.reset()}else{f=u.user,u=u.credential,v=tv(K(o)),b=oh(Se(o))||void 0,Tn(fu,Se(o));var w=!1;zf()?((!v||v(f,u,b))&&(w=!0,xs(window.opener.location,mc(o,b))),v||window.close()):(!v||v(f,u,b))&&(w=!0,xs(window.location,mc(o,b))),w||o.reset()}}function mc(o,u){if(o=u||K(o).a.get("signInSuccessUrl"),!o)throw Error("No redirect URL has been found. You must either specify a signInSuccessUrl in the configuration, pass in a redirect URL to the widget URL, or return false from the callback.");return o}function ot(o){var u={code:o.code};u=u||{};var f="";switch(u.code){case"auth/email-already-in-use":f+="The email address is already used by another account";break;case"auth/requires-recent-login":f+=Ga();break;case"auth/too-many-requests":f+="You have entered an incorrect password too many times. Please try again in a few minutes.";break;case"auth/user-cancelled":f+="Please authorize the required permissions to sign in to the application";break;case"auth/user-not-found":f+="That email address doesn't match an existing account";break;case"auth/user-token-expired":f+=Ga();break;case"auth/weak-password":f+="Strong passwords have at least 6 characters and a mix of letters and numbers";break;case"auth/wrong-password":f+="The email and password you entered don't match";break;case"auth/network-request-failed":f+="A network error has occurred";break;case"auth/invalid-phone-number":f+=oo();break;case"auth/invalid-verification-code":f+=et("Wrong code. Try again.");break;case"auth/code-expired":f+="This code is no longer valid";break;case"auth/expired-action-code":f+="This code has expired.";break;case"auth/invalid-action-code":f+="The action code is invalid. This can happen if the code is malformed, expired, or has already been used."}if(u=et(f).toString())return u;try{return JSON.parse(o.message),Un("Internal error: "+o.message,void 0),mm().toString()}catch{return o.message}}function My(o,u,f){var v=Gs[u]&&Z.auth[Gs[u]]?new Z.auth[Gs[u]]:u.indexOf("saml.")==0?new Z.auth.SAMLAuthProvider(u):new Z.auth.OAuthProvider(u);if(!v)throw Error("Invalid Firebase Auth provider!");var b=dh(K(o),u);if(v.addScope)for(var w=0;w<b.length;w++)v.addScope(b[w]);return b=$m(K(o),u)||{},f&&(u==Z.auth.GoogleAuthProvider.PROVIDER_ID?o="login_hint":u==Z.auth.GithubAuthProvider.PROVIDER_ID?o="login":o=(o=bo(K(o),u))&&o.Ob,o&&(b[o]=f)),v.setCustomParameters&&v.setCustomParameters(b),v}function us(o,u,f,v){function b(){Yd(new iu(o.h.tenantId||null),Se(o)),Ne(o,u.I(J(o.dc,o),[W],function(){if((window.location&&window.location.protocol)==="file:")return Ne(o,Bv(o).then(function(ne){u.m(),Tn(si,Se(o)),ye("callback",o,R,Ut(ne))},w))},C))}function w(ne){if(Tn(si,Se(o)),!ne.name||ne.name!="cancel")switch(ne=Nu(ne),ne.code){case"auth/popup-blocked":b();break;case"auth/popup-closed-by-user":case"auth/cancelled-popup-request":break;case"auth/credential-already-in-use":break;case"auth/network-request-failed":case"auth/too-many-requests":case"auth/user-cancelled":u.a(ot(ne));break;case"auth/admin-restricted-operation":u.m(),rs(K(o))?ye("handleUnauthorizedUser",o,R,null,f):ye("callback",o,R,Ls(ne));break;default:u.m(),ye("callback",o,R,Ls(ne))}}function C(ne){Tn(si,Se(o)),ne.name&&ne.name=="cancel"||(Un("signInWithRedirect: "+ne.code,void 0),ne=ot(ne),u.Ga=="blank"&&ev(K(o))?(u.m(),ye("providerSignIn",o,R,ne)):u.a(ne))}var R=kt(u),W=My(o,f,v);Jm(K(o))==mh?b():Ne(o,Wu(o,W).then(function(ne){u.m(),ye("callback",o,R,Ut(ne))},w))}function fw(o,u){Ne(o,u.I(J(o.$b,o),[],function(f){return u.m(),li(o,u,f,!0)},function(f){f.name&&f.name=="cancel"||(Un("ContinueAsGuest: "+f.code,void 0),f=ot(f),u.a(f))}))}function hw(o,u,f){function v(w){var C=!1;return w=u.I(J(o.ac,o),[w],function(R){var W=kt(u);u.m(),ye("callback",o,W,Ut(R)),C=!0},function(R){if((!R.name||R.name!="cancel")&&(!R||R.code!="auth/credential-already-in-use"))if(R&&R.code=="auth/email-already-in-use"&&R.email&&R.credential){var W=kt(u);u.m(),ye("callback",o,W,Ls(R))}else R&&R.code=="auth/admin-restricted-operation"&&rs(K(o))?(R=kt(u),u.m(),ye("handleUnauthorizedUser",o,R,null,Z.auth.GoogleAuthProvider.PROVIDER_ID)):(R=ot(R),u.a(R))}),Ne(o,w),w.then(function(){return C},function(){return!1})}if(f&&f.credential&&f.clientId===Km(K(o))){if(dh(K(o),Z.auth.GoogleAuthProvider.PROVIDER_ID).length){try{var b=JSON.parse(atob(f.credential.split(".")[1])).email}catch{}return us(o,u,Z.auth.GoogleAuthProvider.PROVIDER_ID,b),Ut(!0)}return v(Z.auth.GoogleAuthProvider.credential(f.credential))}return f&&u.a(et("The selected credential for the authentication provider is not supported!").toString()),Ut(!1)}function Fy(o,u){var f=u.j(),v=u.u();if(f)if(v){var b=Z.auth.EmailAuthProvider.credential(f,v);Ne(o,u.I(J(o.bc,o),[f,v],function(w){return li(o,u,{user:w.user,credential:b,operationType:w.operationType,additionalUserInfo:w.additionalUserInfo})},function(w){if(!w.name||w.name!="cancel")switch(w.code){case"auth/email-already-in-use":break;case"auth/email-exists":Ct(u.l(),!1),dn(u.U(),ot(w));break;case"auth/too-many-requests":case"auth/wrong-password":Ct(u.i(),!1),dn(u.B(),ot(w));break;default:Un("verifyPassword: "+w.message,void 0),u.a(ot(w))}}))}else u.i().focus();else u.l().focus()}function Pi(o){return o=Hr(K(o)),o.length==1&&o[0]==Z.auth.EmailAuthProvider.PROVIDER_ID}function Uy(o){return o=Hr(K(o)),o.length==1&&o[0]==Z.auth.PhoneAuthProvider.PROVIDER_ID}function gt(o,u,f,v){Pi(o)?v?ye("signIn",o,u,f,v):bc(o,u,f):o&&Uy(o)&&!v?ye("phoneSignInStart",o,u):o&&ev(K(o))&&!v?ye("federatedRedirect",o,u,f):ye("providerSignIn",o,u,v,f)}function jy(o,u,f,v){var b=kt(u);Ne(o,u.I(J(We(o).fetchSignInMethodsForEmail,We(o)),[f],function(w){u.m(),Dv(o,b,w,f,v)},function(w){w=ot(w),u.a(w)}))}function Dv(o,u,f,v,b,w){f.length||is(K(o))&&!is(K(o))?ln(f,Z.auth.EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD)?ye("passwordSignIn",o,u,v,w):f.length==1&&f[0]===Z.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD?is(K(o))?ye("sendEmailLinkForSignIn",o,u,v,function(){ye("signIn",o,u)}):ye("unsupportedProvider",o,u,v):(f=Jd(f,Hr(K(o))))?(hu(new th(v),Se(o)),ye("federatedSignIn",o,u,v,f,b)):ye("unsupportedProvider",o,u,v):fh(K(o))?ye("handleUnauthorizedUser",o,u,v,Z.auth.EmailAuthProvider.PROVIDER_ID):is(K(o))?ye("sendEmailLinkForSignIn",o,u,v,function(){ye("signIn",o,u)}):ye("passwordSignUp",o,u,v,void 0,void 0,w)}function yc(o,u,f,v,b,w){var C=kt(u);Ne(o,u.I(J(o.Ib,o),[f,w],function(){u.m(),ye("emailLinkSignInSent",o,C,f,v,w)},b))}function bc(o,u,f){f?ye("prefilledEmailSignIn",o,u,f):ye("signIn",o,u)}function wc(){return Yi(Ti(),"oobCode")}function _c(){var o=Yi(Ti(),"continueUrl");return o?function(){xs(window.location,o)}:null}function Ru(o,u){Q.call(this,_y,void 0,u,"anonymousUserMismatch"),this.i=o}h(Ru,Q),Ru.prototype.v=function(){var o=this;Ot(this,this.l(),function(){o.i()}),this.l().focus(),Q.prototype.v.call(this)},Ru.prototype.o=function(){this.i=null,Q.prototype.o.call(this)},re(Ru.prototype,{l:Kt}),ut.anonymousUserMismatch=function(o,u){var f=new Ru(function(){f.m(),gt(o,u)});f.render(u),Oe(o,f)};function Ec(o){Q.call(this,Ph,void 0,o,"callback")}h(Ec,Q),Ec.prototype.I=function(o,u,f,v){return o.apply(null,u).then(f,v)};function Wh(o,u,f){if(f.user){var v={user:f.user,credential:f.credential,operationType:f.operationType,additionalUserInfo:f.additionalUserInfo},b=Gr(Se(o)),w=b&&b.g;if(w&&!Mv(f.user,w))pw(o,u,v);else{var C=b&&b.a;C?Ne(o,f.user.linkWithCredential(C).then(function(R){v={user:R.user,credential:C,operationType:R.operationType,additionalUserInfo:R.additionalUserInfo},Lv(o,u,v)},function(R){Ic(o,u,R)})):Lv(o,u,v)}}else f=kt(u),u.m(),Wr(Se(o)),gt(o,f)}function Lv(o,u,f){Wr(Se(o)),li(o,u,f)}function Ic(o,u,f){var v=kt(u);Wr(Se(o)),f=ot(f),u.m(),gt(o,v,void 0,f)}function Vy(o,u,f,v){var b=kt(u);Ne(o,We(o).fetchSignInMethodsForEmail(f).then(function(w){u.m(),w.length?ln(w,Z.auth.EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD)?ye("passwordLinking",o,b,f):w.length==1&&w[0]===Z.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD?ye("emailLinkSignInLinking",o,b,f):(w=Jd(w,Hr(K(o))))?ye("federatedLinking",o,b,f,w,v):(Wr(Se(o)),ye("unsupportedProvider",o,b,f)):(Wr(Se(o)),ye("passwordRecovery",o,b,f,!1,so().toString()))},function(w){Ic(o,u,w)}))}function pw(o,u,f){var v=kt(u);Ne(o,Mi(o).then(function(){u.m(),ye("emailMismatch",o,v,f)},function(b){b.name&&b.name=="cancel"||(b=ot(b.code),u.a(b))}))}function Mv(o,u){if(u==o.email)return!0;if(o.providerData){for(var f=0;f<o.providerData.length;f++)if(u==o.providerData[f].email)return!0}return!1}ut.callback=function(o,u,f){var v=new Ec;v.render(u),Oe(o,v),f=f||Bv(o),Ne(o,f.then(function(b){Wh(o,v,b)},function(b){if((b=Nu(b))&&(b.code=="auth/account-exists-with-different-credential"||b.code=="auth/email-already-in-use")&&b.email&&b.credential)hu(new th(b.email,b.credential),Se(o)),Vy(o,v,b.email);else if(b&&b.code=="auth/user-cancelled"){var w=Gr(Se(o)),C=ot(b);w&&w.a?Vy(o,v,w.g,C):w?jy(o,v,w.g,C):Ic(o,v,b)}else b&&b.code=="auth/credential-already-in-use"||(b&&b.code=="auth/operation-not-supported-in-this-environment"&&Pi(o)?Wh(o,v,{user:null,credential:null}):b&&b.code=="auth/admin-restricted-operation"&&rs(K(o))?(v.m(),Wr(Se(o)),ye("handleUnauthorizedUser",o,u,null,null)):Ic(o,v,b))}))};function Ou(o,u){Q.call(this,wy,void 0,u,"differentDeviceError"),this.i=o}h(Ou,Q),Ou.prototype.v=function(){var o=this;Ot(this,this.l(),function(){o.i()}),this.l().focus(),Q.prototype.v.call(this)},Ou.prototype.o=function(){this.i=null,Q.prototype.o.call(this)},re(Ou.prototype,{l:Kt}),ut.differentDeviceError=function(o,u){var f=new Ou(function(){f.m(),gt(o,u)});f.render(u),Oe(o,f)};function Di(o,u,f,v){Q.call(this,Zs,{email:o,G:!!f},v,"emailChangeRevoke"),this.l=u,this.i=f||null}h(Di,Q),Di.prototype.v=function(){var o=this;Ot(this,Je(this,"firebaseui-id-reset-password-link"),function(){o.l()}),this.i&&(this.w(this.i),this.u().focus()),Q.prototype.v.call(this)},Di.prototype.o=function(){this.l=this.i=null,Q.prototype.o.call(this)},re(Di.prototype,{u:Jt,B:Kt,w:vn});function ta(){return Je(this,"firebaseui-id-new-password")}function Hh(){return Je(this,"firebaseui-id-password-toggle")}function zh(){this.Ra=!this.Ra;var o=Hh.call(this),u=ta.call(this);this.Ra?(u.type="text",Ni(o,"firebaseui-input-toggle-off"),Kr(o,"firebaseui-input-toggle-on")):(u.type="password",Ni(o,"firebaseui-input-toggle-on"),Kr(o,"firebaseui-input-toggle-off")),u.focus()}function Pu(){return Je(this,"firebaseui-id-new-password-error")}function By(){this.Ra=!1;var o=ta.call(this);o.type="password";var u=Pu.call(this);wu(this,o,function(){_o(u)&&(Ct(o,!0),kr(u))});var f=Hh.call(this);Ni(f,"firebaseui-input-toggle-on"),Kr(f,"firebaseui-input-toggle-off"),lw(this,o,function(){Ni(f,"firebaseui-input-toggle-focus"),Kr(f,"firebaseui-input-toggle-blur")}),cw(this,o,function(){Ni(f,"firebaseui-input-toggle-blur"),Kr(f,"firebaseui-input-toggle-focus")}),Ot(this,f,J(zh,this))}function Kh(){var o=ta.call(this),u=Pu.call(this);return Qt(o)?(Ct(o,!0),kr(u),u=!0):(Ct(o,!1),dn(u,et("Enter your password").toString()),u=!1),u?Qt(o):null}function na(o,u,f){Q.call(this,ss,{email:o},f,"passwordReset"),this.l=u}h(na,Q),na.prototype.v=function(){this.H(),this.B(this.l),$s(this,this.i(),this.l),this.i().focus(),Q.prototype.v.call(this)},na.prototype.o=function(){this.l=null,Q.prototype.o.call(this)},re(na.prototype,{i:ta,w:Pu,M:Hh,H:By,u:Kh,U:Jt,P:Kt,B:vn});function ra(o,u,f,v,b){Q.call(this,ky,{factorId:o,phoneNumber:f||null,G:!!v},b,"revertSecondFactorAdditionSuccess"),this.l=u,this.i=v||null}h(ra,Q),ra.prototype.v=function(){var o=this;Ot(this,Je(this,"firebaseui-id-reset-password-link"),function(){o.l()}),this.i&&(this.w(this.i),this.u().focus()),Q.prototype.v.call(this)},ra.prototype.o=function(){this.l=this.i=null,Q.prototype.o.call(this)},re(ra.prototype,{u:Jt,B:Kt,w:vn});function qy(o,u,f,v,b){var w=f.u();w&&Ne(o,f.I(J(We(o).confirmPasswordReset,We(o)),[v,w],function(){f.m();var C=new Dy(b);C.render(u),Oe(o,C)},function(C){Gy(o,u,f,C)}))}function Gy(o,u,f,v){(v&&v.code)=="auth/weak-password"?(o=ot(v),Ct(f.i(),!1),dn(f.w(),o),f.i().focus()):(f&&f.m(),f=new Ly,f.render(u),Oe(o,f))}function dw(o,u,f){var v=new Di(f,function(){Ne(o,v.I(J(We(o).sendPasswordResetEmail,We(o)),[f],function(){v.m(),v=new Bh(f,void 0,Rt(K(o)),At(K(o))),v.render(u),Oe(o,v)},function(){v.a(Ed().toString())}))});v.render(u),Oe(o,v)}function Yh(o,u,f,v){var b=new ra(v.factorId,function(){b.I(J(We(o).sendPasswordResetEmail,We(o)),[f],function(){b.m(),b=new Bh(f,void 0,Rt(K(o)),At(K(o))),b.render(u),Oe(o,b)},function(){b.a(Ed().toString())})},v.phoneNumber);b.render(u),Oe(o,b)}ut.passwordReset=function(o,u,f,v){Ne(o,We(o).verifyPasswordResetCode(f).then(function(b){var w=new na(b,function(){qy(o,u,w,f,v)});w.render(u),Oe(o,w)},function(){Gy(o,u)}))},ut.emailChangeRevocation=function(o,u,f){var v=null;Ne(o,We(o).checkActionCode(f).then(function(b){return v=b.data.email,We(o).applyActionCode(f)}).then(function(){dw(o,u,v)},function(){var b=new Rv;b.render(u),Oe(o,b)}))},ut.emailVerification=function(o,u,f,v){Ne(o,We(o).applyActionCode(f).then(function(){var b=new gc(v);b.render(u),Oe(o,b)},function(){var b=new Cv;b.render(u),Oe(o,b)}))},ut.revertSecondFactorAddition=function(o,u,f){var v=null,b=null;Ne(o,We(o).checkActionCode(f).then(function(w){return v=w.data.email,b=w.data.multiFactorInfo,We(o).applyActionCode(f)}).then(function(){Yh(o,u,v,b)},function(){var w=new qh;w.render(u),Oe(o,w)}))},ut.verifyAndChangeEmail=function(o,u,f,v){var b=null;Ne(o,We(o).checkActionCode(f).then(function(w){return b=w.data.email,We(o).applyActionCode(f)}).then(function(){var w=new kv(b,v);w.render(u),Oe(o,w)},function(){var w=new xv;w.render(u),Oe(o,w)}))};function Xh(o,u){try{var f=typeof o.selectionStart=="number"}catch{f=!1}f?(o.selectionStart=u,o.selectionEnd=u):Mt&&!Cs("9")&&(o.type=="textarea"&&(u=o.value.substring(0,u).replace(/(\r\n|\r|\n)/g,`
`).length),o=o.createTextRange(),o.collapse(!0),o.move("character",u),o.select())}function Sc(o,u,f,v,b,w){Q.call(this,by,{email:f},w,"emailLinkSignInConfirmation",{F:v,D:b}),this.l=o,this.u=u}h(Sc,Q),Sc.prototype.v=function(){this.w(this.l),this.B(this.l,this.u),this.i().focus(),Xh(this.i(),(this.i().value||"").length),Q.prototype.v.call(this)},Sc.prototype.o=function(){this.u=this.l=null,Q.prototype.o.call(this)},re(Sc.prototype,{i:Ri,M:Oi,w:ku,H:xu,j:as,U:Jt,P:Kt,B:vn}),ut.emailLinkConfirmation=function(o,u,f,v,b,w){var C=new Sc(function(){var R=C.j();R?(C.m(),v(o,u,R,f)):C.i().focus()},function(){C.m(),gt(o,u,b||void 0)},b||void 0,Rt(K(o)),At(K(o)));C.render(u),Oe(o,C),w&&C.a(w)};function kn(o,u,f,v,b){Q.call(this,Iy,{ga:o},b,"emailLinkSignInLinkingDifferentDevice",{F:f,D:v}),this.i=u}h(kn,Q),kn.prototype.v=function(){this.u(this.i),this.l().focus(),Q.prototype.v.call(this)},kn.prototype.o=function(){this.i=null,Q.prototype.o.call(this)},re(kn.prototype,{l:Jt,u:vn}),ut.emailLinkNewDeviceLinking=function(o,u,f,v){var b=new Qi(f);if(f=b.a.a.get(Bt.PROVIDER_ID)||null,Mr(b,null),f){var w=new kn(bo(K(o),f),function(){w.m(),v(o,u,b.toString())},Rt(K(o)),At(K(o)));w.render(u),Oe(o,w)}else gt(o,u)};function Du(o){Q.call(this,my,void 0,o,"blank")}h(Du,Q);function Tc(o,u,f,v,b){var w=new Du,C=new Qi(f),R=C.a.a.get(Bt.$a)||"",W=C.a.a.get(Bt.Sa)||"",ne=C.a.a.get(Bt.Qa)==="1",pe=sm(C),lt=C.a.a.get(Bt.PROVIDER_ID)||null;C=C.a.a.get(Bt.vb)||null,tb(o,C);var Vn=!Bs(es,Se(o)),op=v||tw(W,Se(o)),Ku=(v=nw(W,Se(o)))&&v.a;lt&&Ku&&Ku.providerId!==lt&&(Ku=null),w.render(u),Oe(o,w),Ne(o,w.I(function(){var tr=Ut(null);tr=pe&&Vn||Vn&&ne?Ls(Error("anonymous-user-not-found")):Rc(o,f).then(function(It){if(lt&&!Ku)throw Error("pending-credential-not-found");return It});var Et=null;return tr.then(function(It){return Et=It,b?null:We(o).checkActionCode(R)}).then(function(){return Et})},[],function(tr){op?Uv(o,w,op,f,Ku,tr):ne?(w.m(),ye("differentDeviceError",o,u)):(w.m(),ye("emailLinkConfirmation",o,u,f,Lu))},function(tr){var Et=void 0;if(!tr||!tr.name||tr.name!="cancel")switch(w.m(),tr&&tr.message){case"anonymous-user-not-found":ye("differentDeviceError",o,u);break;case"anonymous-user-mismatch":ye("anonymousUserMismatch",o,u);break;case"pending-credential-not-found":ye("emailLinkNewDeviceLinking",o,u,f,Fv);break;default:tr&&(Et=ot(tr)),gt(o,u,void 0,Et)}}))}function Lu(o,u,f,v){Tc(o,u,v,f,!0)}function Fv(o,u,f){Tc(o,u,f)}function Uv(o,u,f,v,b,w){var C=kt(u);u.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",et("Signing in...").toString());var R=null;b=(w?ww(o,w,f,v,b):jt(o,f,v,b)).then(function(W){Tn(ts,Se(o)),Tn(es,Se(o)),u.h(),u.$("firebaseui-icon-done",et("Signed in!").toString()),R=setTimeout(function(){u.h(),li(o,u,W,!0)},1e3),Ne(o,function(){u&&(u.h(),u.m()),clearTimeout(R)})},function(W){if(u.h(),u.m(),!W.name||W.name!="cancel"){W=Nu(W);var ne=ot(W);W.code=="auth/email-already-in-use"||W.code=="auth/credential-already-in-use"?(Tn(ts,Se(o)),Tn(es,Se(o))):W.code=="auth/invalid-email"?(ne=et("The email provided does not match the current sign-in session.").toString(),ye("emailLinkConfirmation",o,C,v,Lu,null,ne)):gt(o,C,f,ne)}}),Ne(o,b)}ut.emailLinkSignInCallback=Tc;function Ac(o,u,f,v,b,w){Q.call(this,Qs,{email:o,ga:u},w,"emailLinkSignInLinking",{F:v,D:b}),this.i=f}h(Ac,Q),Ac.prototype.v=function(){this.u(this.i),this.l().focus(),Q.prototype.v.call(this)},Ac.prototype.o=function(){this.i=null,Q.prototype.o.call(this)},re(Ac.prototype,{l:Jt,u:vn});function Wy(o,u,f,v){var b=kt(u);yc(o,u,f,function(){gt(o,b,f)},function(w){if(!w.name||w.name!="cancel"){var C=ot(w);w&&w.code=="auth/network-request-failed"?u.a(C):(u.m(),gt(o,b,f,C))}},v)}ut.emailLinkSignInLinking=function(o,u,f){var v=Gr(Se(o));if(Wr(Se(o)),v){var b=v.a.providerId,w=new Ac(f,bo(K(o),b),function(){Wy(o,w,f,v)},Rt(K(o)),At(K(o)));w.render(u),Oe(o,w)}else gt(o,u)};function ia(o,u,f,v,b,w){Q.call(this,yy,{email:o},w,"emailLinkSignInSent",{F:v,D:b}),this.u=u,this.i=f}h(ia,Q),ia.prototype.v=function(){var o=this;Ot(this,this.l(),function(){o.i()}),Ot(this,Je(this,"firebaseui-id-trouble-getting-email-link"),function(){o.u()}),this.l().focus(),Q.prototype.v.call(this)},ia.prototype.o=function(){this.i=this.u=null,Q.prototype.o.call(this)},re(ia.prototype,{l:Kt}),ut.emailLinkSignInSent=function(o,u,f,v,b){var w=new ia(f,function(){w.m(),ye("emailNotReceived",o,u,f,v,b)},function(){w.m(),v()},Rt(K(o)),At(K(o)));w.render(u),Oe(o,w)};function oa(o,u,f,v,b,w,C){Q.call(this,Sv,{jc:o,Qb:u},C,"emailMismatch",{F:b,D:w}),this.l=f,this.i=v}h(oa,Q),oa.prototype.v=function(){this.w(this.l,this.i),this.u().focus(),Q.prototype.v.call(this)},oa.prototype.o=function(){this.i=null,Q.prototype.o.call(this)},re(oa.prototype,{u:Jt,B:Kt,w:vn}),ut.emailMismatch=function(o,u,f){var v=Gr(Se(o));if(v){var b=new oa(f.user.email,v.g,function(){var w=b;Wr(Se(o)),li(o,w,f)},function(){var w=f.credential.providerId,C=kt(b);b.m(),v.a?ye("federatedLinking",o,C,v.g,w):ye("federatedSignIn",o,C,v.g,w)},Rt(K(o)),At(K(o)));b.render(u),Oe(o,b)}else gt(o,u)};function Mu(o,u,f,v,b){Q.call(this,Dh,void 0,b,"emailNotReceived",{F:f,D:v}),this.l=o,this.i=u}h(Mu,Q),Mu.prototype.v=function(){var o=this;Ot(this,this.u(),function(){o.i()}),Ot(this,this.Da(),function(){o.l()}),this.u().focus(),Q.prototype.v.call(this)},Mu.prototype.Da=function(){return Je(this,"firebaseui-id-resend-email-link")},Mu.prototype.o=function(){this.i=this.l=null,Q.prototype.o.call(this)},re(Mu.prototype,{u:Kt}),ut.emailNotReceived=function(o,u,f,v,b){var w=new Mu(function(){yc(o,w,f,v,function(C){C=ot(C),w.a(C)},b)},function(){w.m(),gt(o,u,f)},Rt(K(o)),At(K(o)));w.render(u),Oe(o,w)};function Xr(o,u,f,v,b,w){Q.call(this,Iv,{email:o,ga:u},w,"federatedLinking",{F:v,D:b}),this.i=f}h(Xr,Q),Xr.prototype.v=function(){this.u(this.i),this.l().focus(),Q.prototype.v.call(this)},Xr.prototype.o=function(){this.i=null,Q.prototype.o.call(this)},re(Xr.prototype,{l:Jt,u:vn}),ut.federatedLinking=function(o,u,f,v,b){var w=Gr(Se(o));if(w&&w.a){var C=new Xr(f,bo(K(o),v),function(){us(o,C,v,f)},Rt(K(o)),At(K(o)));C.render(u),Oe(o,C),b&&C.a(b)}else gt(o,u)},ut.federatedRedirect=function(o,u,f){var v=new Du;v.render(u),Oe(o,v),u=Hr(K(o))[0],us(o,v,u,f)},ut.federatedSignIn=function(o,u,f,v,b){var w=new Xr(f,bo(K(o),v),function(){us(o,w,v,f)},Rt(K(o)),At(K(o)));w.render(u),Oe(o,w),b&&w.a(b)};function Cc(o,u,f,v){var b=u.u();b?Ne(o,u.I(J(o.Xb,o),[f,b],function(w){return w=w.user.linkWithCredential(v).then(function(C){return li(o,u,{user:C.user,credential:v,operationType:C.operationType,additionalUserInfo:C.additionalUserInfo})}),Ne(o,w),w},function(w){if(!w.name||w.name!="cancel")switch(w.code){case"auth/wrong-password":Ct(u.i(),!1),dn(u.B(),ot(w));break;case"auth/too-many-requests":u.a(ot(w));break;default:Un("signInWithEmailAndPassword: "+w.message,void 0),u.a(ot(w))}})):u.i().focus()}ut.passwordLinking=function(o,u,f){var v=Gr(Se(o));Wr(Se(o));var b=v&&v.a;if(b){var w=new Cu(f,function(){Cc(o,w,f,b)},function(){w.m(),ye("passwordRecovery",o,u,f)},Rt(K(o)),At(K(o)));w.render(u),Oe(o,w)}else gt(o,u)};function Fu(o,u,f,v,b,w){Q.call(this,gy,{email:f,Ta:!!u},w,"passwordRecovery",{F:v,D:b}),this.l=o,this.u=u}h(Fu,Q),Fu.prototype.v=function(){this.B(),this.H(this.l,this.u),Qt(this.i())||this.i().focus(),$s(this,this.i(),this.l),Q.prototype.v.call(this)},Fu.prototype.o=function(){this.u=this.l=null,Q.prototype.o.call(this)},re(Fu.prototype,{i:Ri,w:Oi,B:ku,M:xu,j:as,U:Jt,P:Kt,H:vn});function Hy(o,u){var f=u.j();if(f){var v=kt(u);Ne(o,u.I(J(We(o).sendPasswordResetEmail,We(o)),[f],function(){u.m();var b=new Bh(f,function(){b.m(),gt(o,v)},Rt(K(o)),At(K(o)));b.render(v),Oe(o,b)},function(b){Ct(u.i(),!1),dn(u.w(),ot(b))}))}else u.i().focus()}ut.passwordRecovery=function(o,u,f,v,b){var w=new Fu(function(){Hy(o,w)},v?void 0:function(){w.m(),gt(o,u)},f,Rt(K(o)),At(K(o)));w.render(u),Oe(o,w),b&&w.a(b)},ut.passwordSignIn=function(o,u,f,v){var b=new vc(function(){Fy(o,b)},function(){var w=b.M();b.m(),ye("passwordRecovery",o,u,w)},f,Rt(K(o)),At(K(o)),v);b.render(u),Oe(o,b)};function kc(){return Je(this,"firebaseui-id-name")}function xc(){return Je(this,"firebaseui-id-name-error")}function sa(o,u,f,v,b,w,C,R,W){Q.call(this,_v,{email:v,Tb:o,name:b,Ta:!!f,ia:!!R},W,"passwordSignUp",{F:w,D:C}),this.w=u,this.H=f,this.B=o}h(sa,Q),sa.prototype.v=function(){this.ea(),this.B&&this.Ja(),this.ua(),this.pa(this.w,this.H),this.B?(Su(this,this.i(),this.u()),Su(this,this.u(),this.l())):Su(this,this.i(),this.l()),this.w&&$s(this,this.l(),this.w),Qt(this.i())?this.B&&!Qt(this.u())?this.u().focus():this.l().focus():this.i().focus(),Q.prototype.v.call(this)},sa.prototype.o=function(){this.H=this.w=null,Q.prototype.o.call(this)},re(sa.prototype,{i:Ri,U:Oi,ea:ku,jb:xu,j:as,u:kc,Cc:xc,Ja:function(){var o=kc.call(this),u=xc.call(this);wu(this,o,function(){_o(u)&&(Ct(o,!0),kr(u))})},M:function(){var o=kc.call(this),u=xc.call(this),f=Qt(o);return f=!/^[\s\xa0]*$/.test(f==null?"":String(f)),Ct(o,f),f?(kr(u),u=!0):(dn(u,et("Enter your account name").toString()),u=!1),u?dt(Qt(o)):null},l:ta,ba:Pu,lb:Hh,ua:By,P:Kh,Nb:Jt,Mb:Kt,pa:vn});function zy(o,u){var f=zr(K(o)),v=u.j(),b=null;f&&(b=u.M());var w=u.P();if(v){if(f)if(b)b=Uo(b);else{u.u().focus();return}if(w){var C=Z.auth.EmailAuthProvider.credential(v,w);Ne(o,u.I(J(o.Yb,o),[v,w],function(R){var W={user:R.user,credential:C,operationType:R.operationType,additionalUserInfo:R.additionalUserInfo};return f?(R=R.user.updateProfile({displayName:b}).then(function(){return li(o,u,W)}),Ne(o,R),R):li(o,u,W)},function(R){if(!R.name||R.name!="cancel"){var W=Nu(R);switch(R=ot(W),W.code){case"auth/email-already-in-use":return ls(o,u,v,W);case"auth/too-many-requests":R=et("Too many account requests are coming from your IP address. Try again in a few minutes.").toString();case"auth/operation-not-allowed":case"auth/weak-password":Ct(u.l(),!1),dn(u.ba(),R);break;case"auth/admin-restricted-operation":rs(K(o))?(R=kt(u),u.m(),ye("handleUnauthorizedUser",o,R,v,Z.auth.EmailAuthProvider.PROVIDER_ID)):u.a(R);break;default:W="setAccountInfo: "+Hd(W),Un(W,void 0),u.a(R)}}}))}else u.l().focus()}else u.i().focus()}function ls(o,u,f,v){function b(){var C=ot(v);Ct(u.i(),!1),dn(u.U(),C),u.i().focus()}var w=We(o).fetchSignInMethodsForEmail(f).then(function(C){C.length?b():(C=kt(u),u.m(),ye("passwordRecovery",o,C,f,!1,so().toString()))},function(){b()});return Ne(o,w),w}ut.passwordSignUp=function(o,u,f,v,b,w){function C(){R.m(),gt(o,u)}var R=new sa(zr(K(o)),function(){zy(o,R)},b?void 0:C,f,v,Rt(K(o)),At(K(o)),w);R.render(u),Oe(o,R)};function Uu(){return Je(this,"firebaseui-id-phone-confirmation-code")}function $h(){return Je(this,"firebaseui-id-phone-confirmation-code-error")}function ci(){return Je(this,"firebaseui-id-resend-countdown")}function ju(o,u,f,v,b,w,C,R,W){Q.call(this,Uh,{phoneNumber:b},W,"phoneSignInFinish",{F:C,D:R}),this.jb=w,this.i=new wh(1e3),this.B=w,this.P=o,this.l=u,this.H=f,this.M=v}h(ju,Q),ju.prototype.v=function(){var o=this;this.U(this.jb),Ur(this.i,"tick",this.w,!1,this),this.i.start(),Ot(this,Je(this,"firebaseui-id-change-phone-number-link"),function(){o.P()}),Ot(this,this.Da(),function(){o.M()}),this.Ja(this.l),this.ea(this.l,this.H),this.u().focus(),Q.prototype.v.call(this)},ju.prototype.o=function(){this.M=this.H=this.l=this.P=null,_h(this.i),Ps(this.i,"tick",this.w),this.i=null,Q.prototype.o.call(this)},ju.prototype.w=function(){--this.B,0<this.B?this.U(this.B):(_h(this.i),Ps(this.i,"tick",this.w),this.ua(),this.lb())},re(ju.prototype,{u:Uu,pa:$h,Ja:function(o){var u=Uu.call(this),f=$h.call(this);wu(this,u,function(){_o(f)&&(Ct(u,!0),kr(f))}),o&&sc(this,u,function(){o()})},ba:function(){var o=dt(Qt(Uu.call(this))||"");return/^\d{6}$/.test(o)?o:null},Fb:ci,U:function(o){vd(ci.call(this),et("Resend code in "+((9<o?"0:":"0:0")+o)).toString())},ua:function(){kr(this.Fb())},Da:function(){return Je(this,"firebaseui-id-resend-link")},lb:function(){dn(this.Da())},Nb:Jt,Mb:Kt,ea:vn});function vw(o,u,f,v){function b(C){u.u().focus(),Ct(u.u(),!1),dn(u.pa(),C)}var w=u.ba();w?(u.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",et("Verifying...").toString()),Ne(o,u.I(J(v.confirm,v),[w],function(C){u.h(),u.$("firebaseui-icon-done",et("Verified!").toString());var R=setTimeout(function(){u.h(),u.m();var W={user:$r(o).currentUser,credential:null,operationType:C.operationType,additionalUserInfo:C.additionalUserInfo};li(o,u,W,!0)},1e3);Ne(o,function(){u&&u.h(),clearTimeout(R)})},function(C){if(C.name&&C.name=="cancel")u.h();else{var R=Nu(C);switch(C=ot(R),R.code){case"auth/credential-already-in-use":u.h();break;case"auth/code-expired":R=kt(u),u.h(),u.m(),ye("phoneSignInStart",o,R,f,C);break;case"auth/missing-verification-code":case"auth/invalid-verification-code":u.h(),b(C);break;default:u.h(),u.a(C)}}}))):b(et("Wrong code. Try again.").toString())}ut.phoneSignInFinish=function(o,u,f,v,b,w){var C=new ju(function(){C.m(),ye("phoneSignInStart",o,u,f)},function(){vw(o,C,f,b)},function(){C.m(),gt(o,u)},function(){C.m(),ye("phoneSignInStart",o,u,f)},lh(f),v,Rt(K(o)),At(K(o)));C.render(u),Oe(o,C),w&&C.a(w)};var Qh=!Mt&&!(Ge("Safari")&&!(wf()||Ge("Coast")||Ge("Opera")||Ge("Edge")||Ge("Firefox")||Ge("FxiOS")||Ge("Silk")||Ge("Android")));function cs(o,u){return/-[a-z]/.test(u)?null:Qh&&o.dataset?!Ge("Android")||wf()||Ge("Firefox")||Ge("FxiOS")||Ge("Opera")||Ge("Silk")||u in o.dataset?(o=o.dataset[u],o===void 0?null:o):null:o.getAttribute("data-"+String(u).replace(/([A-Z])/g,"-$1").toLowerCase())}function Ky(o,u,f){var v=this;o=Rs(dy,{items:o},null,this.s),kh.call(this,o,!0,!0),f&&(f=Yy(o,f))&&(f.focus(),uw(f,o)),Ot(this,o,function(b){(b=(b=$n(b.target,"firebaseui-id-list-box-dialog-button"))&&cs(b,"listboxid"))&&(xh.call(v),u(b))})}function Yy(o,u){o=(o||document).getElementsByTagName("BUTTON");for(var f=0;f<o.length;f++)if(cs(o[f],"listboxid")===u)return o[f];return null}function fs(){return Je(this,"firebaseui-id-phone-number")}function jv(){return Je(this,"firebaseui-id-country-selector")}function Yt(){return Je(this,"firebaseui-id-phone-number-error")}function gw(o,u){var f=o.a,v=Jh("1-US-0",f),b=null;if(u&&Jh(u,f)?b=u:v?b="1-US-0":b=0<f.length?f[0].c:null,!b)throw Error("No available default country");Vu.call(this,b,o)}function Jh(o,u){return o=ai(o),!(!o||!ln(u,o))}function mw(o){return o.map(function(u){return{id:u.c,Ma:"firebaseui-flag "+Vv(u),label:u.name+" "+("‎+"+u.b)}})}function Vv(o){return"firebaseui-flag-"+o.f}function yw(o){var u=this;Ky.call(this,mw(o.a),function(f){Vu.call(u,f,o,!0),u.O().focus()},this.Ba)}function Vu(o,u,f){var v=ai(o);v&&(f&&(f=dt(Qt(fs.call(this))||""),u=ns(u,f),u.length&&u[0].b!=v.b&&(f="+"+v.b+f.substr(u[0].b.length+1),sv(fs.call(this),f))),u=ai(this.Ba),this.Ba=o,o=Je(this,"firebaseui-id-country-selector-flag"),u&&Kr(o,Vv(u)),Ni(o,Vv(v)),vd(Je(this,"firebaseui-id-country-selector-code"),"‎+"+v.b))}function Bu(o,u,f,v,b,w,C,R,W,ne){Q.call(this,Tv,{Gb:u,Aa:W||null,Va:!!f,ia:!!w},ne,"phoneSignInStart",{F:v,D:b}),this.H=R||null,this.M=u,this.l=o,this.w=f||null,this.pa=C||null}h(Bu,Q),Bu.prototype.v=function(){this.ea(this.pa,this.H),this.P(this.l,this.w||void 0),this.M||Su(this,this.O(),this.i()),$s(this,this.i(),this.l),this.O().focus(),Xh(this.O(),(this.O().value||"").length),Q.prototype.v.call(this)},Bu.prototype.o=function(){this.w=this.l=null,Q.prototype.o.call(this)},re(Bu.prototype,{Cb:Nh,O:fs,B:Yt,ea:function(o,u,f){var v=this,b=fs.call(this),w=jv.call(this),C=Yt.call(this),R=o||Xl,W=R.a;if(W.length==0)throw Error("No available countries provided.");gw.call(v,R,u),Ot(this,w,function(){yw.call(v,R)}),wu(this,b,function(){_o(C)&&(Ct(b,!0),kr(C));var ne=dt(Qt(b)||""),pe=ai(this.Ba),lt=ns(R,ne);ne=Jh("1-US-0",W),lt.length&&lt[0].b!=pe.b&&(pe=lt[0],Vu.call(v,pe.b=="1"&&ne?"1-US-0":pe.c,R))}),f&&sc(this,b,function(){f()})},U:function(o){var u=dt(Qt(fs.call(this))||"");o=o||Xl;var f=o.a,v=ns(Xl,u);if(v.length&&!ln(f,v[0]))throw sv(fs.call(this)),fs.call(this).focus(),dn(Yt.call(this),et("The country code provided is not supported.").toString()),Error("The country code provided is not supported.");return f=ai(this.Ba),v.length&&v[0].b!=f.b&&Vu.call(this,v[0].c,o),v.length&&(u=u.substr(v[0].b.length+1)),u?new zm(this.Ba,u):null},Ja:jv,ba:function(){return Je(this,"firebaseui-recaptcha-container")},u:function(){return Je(this,"firebaseui-id-recaptcha-error")},i:Jt,ua:Kt,P:vn});function Xy(o,u,f,v){try{var b=u.U(tc)}catch{return}b?ec?(u.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",et("Verifying...").toString()),Ne(o,u.I(J(o.cc,o),[lh(b),f],function(w){var C=kt(u);u.$("firebaseui-icon-done",et("Code sent!").toString());var R=setTimeout(function(){u.h(),u.m(),ye("phoneSignInFinish",o,C,b,15,w)},1e3);Ne(o,function(){u&&u.h(),clearTimeout(R)})},function(w){if(u.h(),!w.name||w.name!="cancel"){grecaptcha.reset(ty),ec=null;var C=w&&w.message||"";if(w.code)switch(w.code){case"auth/too-many-requests":C=et("This phone number has been used too many times").toString();break;case"auth/invalid-phone-number":case"auth/missing-phone-number":u.O().focus(),dn(u.B(),oo().toString());return;case"auth/admin-restricted-operation":if(rs(K(o))){w=kt(u),u.m(),ye("handleUnauthorizedUser",o,w,lh(b),Z.auth.PhoneAuthProvider.PROVIDER_ID);return}C=ot(w);break;default:C=ot(w)}u.a(C)}}))):on?dn(u.u(),et("Solve the reCAPTCHA").toString()):!on&&v&&u.i().click():(u.O().focus(),dn(u.B(),oo().toString()))}ut.phoneSignInStart=function(o,u,f,v){var b=Ym(K(o))||{};ec=null,on=!(b&&b.size==="invisible");var w=Uy(o),C=vh(K(o)),R=w?rw(K(o)):null;C=f&&f.a||C&&C.c||null,f=f&&f.Aa||R,(R=Zd(K(o)))&&Hm(R),tc=R?new du(Zd(K(o))):Xl;var W=new Bu(function(pe){Xy(o,W,ne,!(!pe||!pe.keyCode))},on,w?null:function(){ne.clear(),W.m(),gt(o,u)},Rt(K(o)),At(K(o)),w,tc,C,f);W.render(u),Oe(o,W),v&&W.a(v),b.callback=function(pe){W.u()&&kr(W.u()),ec=pe,on||Xy(o,W,ne)},b["expired-callback"]=function(){ec=null};var ne=new Z.auth.RecaptchaVerifier(on?W.ba():W.i(),b,$r(o).app);Ne(o,W.I(J(ne.render,ne),[],function(pe){ty=pe},function(pe){pe.name&&pe.name=="cancel"||(pe=ot(pe),W.m(),gt(o,u,void 0,pe))}))},ut.prefilledEmailSignIn=function(o,u,f){var v=new Du;v.render(u),Oe(o,v),Ne(o,v.I(J(We(o).fetchSignInMethodsForEmail,We(o)),[f],function(b){v.m();var w=!(!Pi(o)||!Qy(o));Dv(o,u,b,f,void 0,w)},function(b){b=ot(b),v.m(),ye("signIn",o,u,f,b)}))};function aa(o,u,f,v,b){Q.call(this,Ny,{Sb:u},b,"providerSignIn",{F:f,D:v}),this.i=o}h(aa,Q),aa.prototype.v=function(){this.l(this.i),Q.prototype.v.call(this)},aa.prototype.o=function(){this.i=null,Q.prototype.o.call(this)},re(aa.prototype,{l:function(o){function u(C){o(C)}for(var f=this.g?kf("firebaseui-id-idp-button",this.g||this.s.a):[],v=0;v<f.length;v++){var b=f[v],w=cs(b,"providerId");Ot(this,b,se(u,w))}}}),ut.providerSignIn=function(o,u,f,v){var b=new aa(function(w){w==Z.auth.EmailAuthProvider.PROVIDER_ID?(b.m(),bc(o,u,v)):w==Z.auth.PhoneAuthProvider.PROVIDER_ID?(b.m(),ye("phoneSignInStart",o,u)):w=="anonymous"?fw(o,b):us(o,b,w,v),ae(o),o.l.cancel()},Jl(K(o)),Rt(K(o)),At(K(o)));b.render(u),Oe(o,b),f&&b.a(f),np(o)},ut.sendEmailLinkForSignIn=function(o,u,f,v){var b=new Ec;b.render(u),Oe(o,b),yc(o,b,f,v,function(w){b.m(),w&&w.code=="auth/admin-restricted-operation"&&rs(K(o))?ye("handleUnauthorizedUser",o,u,f,Z.auth.EmailAuthProvider.PROVIDER_ID):(w=ot(w),ye("signIn",o,u,f,w))})};function ua(o,u,f,v,b,w,C){Q.call(this,Tu,{email:f,Va:!!u,ia:!!w},C,"signIn",{F:v,D:b}),this.i=o,this.u=u}h(ua,Q),ua.prototype.v=function(){this.w(this.i),this.B(this.i,this.u||void 0),this.l().focus(),Xh(this.l(),(this.l().value||"").length),Q.prototype.v.call(this)},ua.prototype.o=function(){this.u=this.i=null,Q.prototype.o.call(this)},re(ua.prototype,{l:Ri,M:Oi,w:ku,H:xu,j:as,U:Jt,P:Kt,B:vn}),ut.signIn=function(o,u,f,v){var b=Pi(o),w=new ua(function(){var C=w,R=C.j()||"";R&&jy(o,C,R)},b?null:function(){w.m(),gt(o,u,f)},f,Rt(K(o)),At(K(o)),b);w.render(u),Oe(o,w),v&&w.a(v)};function Nc(o,u,f,v,b,w,C){Q.call(this,Lh,{kc:o,yb:f,Eb:!!v},C,"unauthorizedUser",{F:b,D:w}),this.l=u,this.i=v}h(Nc,Q),Nc.prototype.v=function(){var o=this,u=Je(this,"firebaseui-id-unauthorized-user-help-link");this.i&&u&&Ot(this,u,function(){o.i()}),Ot(this,this.u(),function(){o.l()}),this.u().focus(),Q.prototype.v.call(this)},Nc.prototype.o=function(){this.i=this.l=null,Q.prototype.o.call(this)},re(Nc.prototype,{u:Kt}),ut.handleUnauthorizedUser=function(o,u,f,v){function b(){gt(o,u)}v===Z.auth.EmailAuthProvider.PROVIDER_ID?b=function(){bc(o,u)}:v===Z.auth.PhoneAuthProvider.PROVIDER_ID&&(b=function(){ye("phoneSignInStart",o,u)});var w=null,C=null;v===Z.auth.EmailAuthProvider.PROVIDER_ID&&fh(K(o))?(w=Xm(K(o)),C=ph(K(o))):rs(K(o))&&(w=hh(K(o)),C=Zl(K(o)));var R=new Nc(f,function(){R.m(),b()},w,C,Rt(K(o)),At(K(o)));R.render(u),Oe(o,R)};function la(o,u,f,v,b,w){Q.call(this,Au,{email:o},w,"unsupportedProvider",{F:v,D:b}),this.l=u,this.i=f}h(la,Q),la.prototype.v=function(){this.w(this.l,this.i),this.u().focus(),Q.prototype.v.call(this)},la.prototype.o=function(){this.i=this.l=null,Q.prototype.o.call(this)},re(la.prototype,{u:Jt,B:Kt,w:vn}),ut.unsupportedProvider=function(o,u,f){var v=new la(f,function(){v.m(),ye("passwordRecovery",o,u,f)},function(){v.m(),gt(o,u,f)},Rt(K(o)),At(K(o)));v.render(u),Oe(o,v)};function sn(o,u){this.$=!1;var f=Zh(u);if(qu[f])throw Error('An AuthUI instance already exists for the key "'+f+'"');qu[f]=this,this.a=o,this.u=null,this.Y=!1,$y(this.a),this.h=Z.initializeApp({apiKey:o.app.options.apiKey,authDomain:o.app.options.authDomain},o.app.name+"-firebaseui-temp").auth(),(o=o.emulatorConfig)&&(f=o.port,this.h.useEmulator(o.protocol+"://"+o.host+(f===null?"":":"+f),o.options)),$y(this.h),this.h.setPersistence&&this.h.setPersistence(Z.auth.Auth.Persistence.SESSION),this.oa=u,this.ca=new Ql,this.g=this.T=this.i=this.J=this.O=null,this.s=[],this.Z=!1,this.l=Pd.Xa(),this.j=this.C=null,this.da=this.A=!1}function $y(o){o&&o.INTERNAL&&o.INTERNAL.logFramework&&o.INTERNAL.logFramework("FirebaseUI-web")}var qu={};function Zh(o){return o||"[DEFAULT]"}function Bv(o){return ae(o),o.i||(o.i=Li(o,function(u){return u&&!Gr(Se(o))?Ut($r(o).getRedirectResult().then(function(f){return f},function(f){if(f&&f.code=="auth/email-already-in-use"&&f.email&&f.credential)throw f;return Io(o,f)})):Ut(We(o).getRedirectResult().then(function(f){return Ws(K(o))&&!f.user&&o.j&&!o.j.isAnonymous?$r(o).getRedirectResult():f}))})),o.i}function Oe(o,u){ae(o),o.g=u}var jn=null;function We(o){return ae(o),o.h}function $r(o){return ae(o),o.a}function Se(o){return ae(o),o.oa}function Qy(o){return ae(o),o.O?o.O.emailHint:void 0}t=sn.prototype,t.nb=function(){return ae(this),!!sh(Se(this))||Jy(Ti())};function Jy(o){return o=new Qi(o),(o.a.a.get(Bt.ub)||null)==="signIn"&&!!o.a.a.get(Bt.$a)}t.start=function(o,u){ep(this,o,u)};function ep(o,u,f,v){ae(o),typeof o.a.languageCode<"u"&&(o.u=o.a.languageCode);var b="en".replace(/_/g,"-");o.a.languageCode=b,o.h.languageCode=b,o.Y=!0,typeof o.a.tenantId<"u"&&(o.h.tenantId=o.a.tenantId),o.ib(f),o.O=v||null;var w=E.document;o.C?o.C.then(function(){w.readyState=="complete"?tp(o,u):Ha(window,"load",function(){tp(o,u)})}):w.readyState=="complete"?tp(o,u):Ha(window,"load",function(){tp(o,u)})}function tp(o,u){var f=Ja(u,"Could not find the FirebaseUI widget element on the page.");if(f.setAttribute("lang","en".replace(/_/g,"-")),jn){var v=jn;ae(v),Gr(Se(v))&&vo("UI Widget is already rendered on the page and is pending some user interaction. Only one widget instance can be rendered per page. The previous instance has been automatically reset."),jn.reset()}if(jn=o,o.T=f,ca(o,f),lr(new rh)&&lr(new Kd)){u=Ja(u,"Could not find the FirebaseUI widget element on the page."),f=Ti(),v=cr(K(o).a,"queryParameterForSignInSuccessUrl"),f=(f=Yi(f,v))?to(Ma(f)).toString():null;e:{v=Ti();var b=Qm(K(o));v=Yi(v,b)||"";for(w in wo)if(wo[w].toLowerCase()==v.toLowerCase()){var w=wo[w];break e}w="callback"}switch(w){case"callback":f&&(w=Se(o),qs(fu,f,w)),o.nb()?ye("callback",o,u):gt(o,u,Qy(o));break;case"resetPassword":ye("passwordReset",o,u,wc(),_c());break;case"recoverEmail":ye("emailChangeRevocation",o,u,wc());break;case"revertSecondFactorAddition":ye("revertSecondFactorAddition",o,u,wc());break;case"verifyEmail":ye("emailVerification",o,u,wc(),_c());break;case"verifyAndChangeEmail":ye("verifyAndChangeEmail",o,u,wc(),_c());break;case"signIn":ye("emailLinkSignInCallback",o,u,Ti()),Gu();break;case"select":f&&(w=Se(o),qs(fu,f,w)),gt(o,u);break;default:throw Error("Unhandled widget operation.")}u=K(o),(u=zs(u).uiShown||null)&&u()}else u=Ja(u,"Could not find the FirebaseUI widget element on the page."),w=new Ov(et("The browser you are using does not support Web Storage. Please try again in a different browser.").toString()),w.render(u),Oe(o,w);u=o.g&&o.g.Ga=="blank"&&ev(K(o)),sh(Se(o))&&!u&&(u=sh(Se(o)),tb(o,u.a),Tn(si,Se(o)))}function Li(o,u){if(o.A)return u(Zy(o));if(Ne(o,function(){o.A=!1}),Ws(K(o))){var f=new Ht(function(v){Ne(o,o.a.onAuthStateChanged(function(b){o.j=b,o.A||(o.A=!0,v(u(Zy(o))))}))});return Ne(o,f),f}return o.A=!0,u(null)}function Zy(o){return ae(o),Ws(K(o))&&o.j&&o.j.isAnonymous?o.j:null}function Ne(o,u){if(ae(o),u){o.s.push(u);var f=function(){Ss(o.s,function(v){return v==u})};typeof u!="function"&&u.then(f,f)}}t.Db=function(){ae(this),this.Z=!0};function bw(o){ae(o);var u;return(u=o.Z)||(o=K(o),o=$m(o,Z.auth.GoogleAuthProvider.PROVIDER_ID),u=!(!o||o.prompt!=="select_account")),u}function eb(o){typeof o.a.languageCode<"u"&&o.Y&&(o.Y=!1,o.a.languageCode=o.u)}function tb(o,u){o.a.tenantId=u,o.h.tenantId=u}t.reset=function(){ae(this);var o=this;this.T&&this.T.removeAttribute("lang"),this.J&&Ad(this.J),eb(this),this.O=null,Gu(),Tn(si,Se(this)),ae(this),this.l.cancel(),this.i=Ut({user:null,credential:null}),jn==this&&(jn=null),this.T=null;for(var u=0;u<this.s.length;u++)typeof this.s[u]=="function"?this.s[u]():this.s[u].cancel&&this.s[u].cancel();this.s=[],Wr(Se(this)),this.g&&(this.g.m(),this.g=null),this.L=null,this.h&&(this.C=Mi(this).then(function(){o.C=null},function(){o.C=null}))};function ca(o,u){o.L=null,o.J=new ar(u),o.J.register(),Ur(o.J,"pageEnter",function(f){if(f=f&&f.pageId,o.L!=f){var v=K(o);(v=zs(v).uiChanged||null)&&v(o.L,f),o.L=f}})}t.ib=function(o){ae(this);var u=this.ca,f;for(f in o)try{Yl(u.a,f,o[f])}catch{Un('Invalid config: "'+f+'"',void 0)}um&&Yl(u.a,"popupMode",!1),Zd(u),!this.da&&tv(K(this))&&(vo("signInSuccess callback is deprecated. Please use signInSuccessWithAuthResult callback instead."),this.da=!0)};function K(o){return ae(o),o.ca}t.Wb=function(){ae(this);var o=K(this),u=cr(o.a,"widgetUrl");o=Qm(o);for(var f=u.search(Nt),v=0,b,w=[];0<=(b=fn(u,v,o,f));)w.push(u.substring(v,b)),v=Math.min(u.indexOf("&",b)+1||f,f);w.push(u.substr(v)),u=w.join("").replace(Xi,"$1"),f="="+encodeURIComponent("select"),(o+=f)?(f=u.indexOf("#"),0>f&&(f=u.length),v=u.indexOf("?"),0>v||v>f?(v=f,b=""):b=u.substring(v+1,f),u=[u.substr(0,v),b,u.substr(f)],f=u[1],u[1]=o?f?f+"&"+o:o:f,f=u[0]+(u[1]?"?"+u[1]:"")+u[2]):f=u,K(this).a.get("popupMode")?(o=(window.screen.availHeight-600)/2,u=(window.screen.availWidth-500)/2,f=f||"about:blank",o={width:500,height:600,top:0<o?o:0,left:0<u?u:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},o.target=o.target||f.target||"google_popup",o.width=o.width||690,o.height=o.height||500,(o=Cm(f,o))&&o.focus()):xs(window.location,f)};function ae(o){if(o.$)throw Error("AuthUI instance is deleted!")}t.Wa=function(){var o=this;return ae(this),this.h.app.delete().then(function(){var u=Zh(Se(o));delete qu[u],o.reset(),o.$=!0})};function np(o){ae(o);try{Om(o.l,Km(K(o)),bw(o)).then(function(u){return o.g?hw(o,o.g,u):!1})}catch{}}t.Ib=function(o,u){ae(this);var f=this,v=Nd();if(!is(K(this)))return Ls(Error("Email link sign-in should be enabled to trigger email sending."));var b=iw(K(this)),w=new Qi(b.url);return od(w,v),u&&u.a&&(Gm(v,u,Se(this)),Mr(w,u.a.providerId)),H0(w,ui(K(this))),Li(this,function(C){return C&&((C=C.uid)?w.a.a.set(Bt.Pa,C):Ei(w.a.a,Bt.Pa)),b.url=w.toString(),We(f).sendSignInLinkToEmail(o,b)}).then(function(){var C=Se(f),R={};R.email=o,qs(es,yo(v,JSON.stringify(R)),C)},function(C){throw Tn(ts,Se(f)),Tn(es,Se(f)),C})};function Rc(o,u){var f=sm(new Qi(u));return f?(u=new Ht(function(v,b){var w=$r(o).onAuthStateChanged(function(C){w(),C&&C.isAnonymous&&C.uid===f?v(C):C&&C.isAnonymous&&C.uid!==f?b(Error("anonymous-user-mismatch")):b(Error("anonymous-user-not-found"))});Ne(o,w)}),Ne(o,u),u):Ut(null)}function ww(o,u,f,v,b){ae(o);var w=b||null,C=Z.auth.EmailAuthProvider.credentialWithLink(f,v);return f=w?We(o).signInWithEmailLink(f,v).then(function(R){return R.user.linkWithCredential(w)}).then(function(){return Mi(o)}).then(function(){return Io(o,{code:"auth/email-already-in-use"},w)}):We(o).fetchSignInMethodsForEmail(f).then(function(R){return R.length?Io(o,{code:"auth/email-already-in-use"},C):u.linkWithCredential(C)}),Ne(o,f),f}function jt(o,u,f,v){ae(o);var b=v||null,w;return u=We(o).signInWithEmailLink(u,f).then(function(C){if(w={user:C.user,credential:null,operationType:C.operationType,additionalUserInfo:C.additionalUserInfo},b)return C.user.linkWithCredential(b).then(function(R){w={user:R.user,credential:b,operationType:w.operationType,additionalUserInfo:R.additionalUserInfo}})}).then(function(){Mi(o)}).then(function(){return $r(o).updateCurrentUser(w.user)}).then(function(){return w.user=$r(o).currentUser,w}),Ne(o,u),u}function Gu(){var o=Ti();if(Jy(o)){o=new Qi(o);for(var u in Bt)Bt.hasOwnProperty(u)&&Ei(o.a.a,Bt[u]);u={state:"signIn",mode:"emailLink",operation:"clear"};var f=E.document.title;E.history&&E.history.replaceState&&E.history.replaceState(u,f,o.toString())}}t.bc=function(o,u){ae(this);var f=this;return We(this).signInWithEmailAndPassword(o,u).then(function(v){return Li(f,function(b){return b?Mi(f).then(function(){return Io(f,{code:"auth/email-already-in-use"},Z.auth.EmailAuthProvider.credential(o,u))}):v})})},t.Yb=function(o,u){ae(this);var f=this;return Li(this,function(v){if(v){var b=Z.auth.EmailAuthProvider.credential(o,u);return v.linkWithCredential(b)}return We(f).createUserWithEmailAndPassword(o,u)})},t.ac=function(o){ae(this);var u=this;return Li(this,function(f){return f?f.linkWithCredential(o).then(function(v){return v},function(v){if(v&&v.code=="auth/email-already-in-use"&&v.email&&v.credential)throw v;return Io(u,v,o)}):We(u).signInWithCredential(o)})};function Wu(o,u){return ae(o),Li(o,function(f){return f&&!Gr(Se(o))?f.linkWithPopup(u).then(function(v){return v},function(v){if(v&&v.code=="auth/email-already-in-use"&&v.email&&v.credential)throw v;return Io(o,v)}):We(o).signInWithPopup(u)})}t.dc=function(o){ae(this);var u=this,f=this.i;return this.i=null,Li(this,function(v){return v&&!Gr(Se(u))?v.linkWithRedirect(o):We(u).signInWithRedirect(o)}).then(function(){},function(v){throw u.i=f,v})},t.cc=function(o,u){ae(this);var f=this;return Li(this,function(v){return v?v.linkWithPhoneNumber(o,u).then(function(b){return new Ld(b,function(w){if(w.code=="auth/credential-already-in-use")return Io(f,w);throw w})}):$r(f).signInWithPhoneNumber(o,u).then(function(b){return new Ld(b)})})},t.$b=function(){return ae(this),$r(this).signInAnonymously()};function qv(o,u){return ae(o),Li(o,function(f){if(o.j&&!o.j.isAnonymous&&Ws(K(o))&&!We(o).currentUser)return Mi(o).then(function(){return u.credential.providerId=="password"&&(u.credential=null),u});if(f)return Mi(o).then(function(){return f.linkWithCredential(u.credential)}).then(function(v){return u.user=v.user,u.credential=v.credential,u.operationType=v.operationType,u.additionalUserInfo=v.additionalUserInfo,u},function(v){if(v&&v.code=="auth/email-already-in-use"&&v.email&&v.credential)throw v;return Io(o,v,u.credential)});if(!u.user)throw Error('Internal error: An incompatible or outdated version of "firebase.js" may be used.');return Mi(o).then(function(){return $r(o).updateCurrentUser(u.user)}).then(function(){return u.user=$r(o).currentUser,u.operationType="signIn",u.credential&&u.credential.providerId&&u.credential.providerId=="password"&&(u.credential=null),u})})}t.Xb=function(o,u){return ae(this),We(this).signInWithEmailAndPassword(o,u)};function Mi(o){return ae(o),We(o).signOut()}function Io(o,u,f){if(ae(o),u&&u.code&&(u.code=="auth/email-already-in-use"||u.code=="auth/credential-already-in-use")){var v=Hs(K(o));return Ut().then(function(){return v(new Os("anonymous-upgrade-merge-conflict",null,f||u.credential))}).then(function(){throw o.g&&(o.g.m(),o.g=null),u})}return Ls(u)}function hs(o,u,f,v){Q.call(this,Vh,void 0,v,"providerMatchByEmail",{F:u,D:f}),this.i=o}h(hs,Q),hs.prototype.v=function(){this.u(this.i),this.w(this.i),this.l().focus(),Xh(this.l(),(this.l().value||"").length),Q.prototype.v.call(this)},hs.prototype.o=function(){this.i=null,Q.prototype.o.call(this)},re(hs.prototype,{l:Ri,H:Oi,u:ku,B:xu,j:as,M:Jt,w:vn});function Hu(o,u,f,v,b){Q.call(this,jh,{ec:u},b,"selectTenant",{F:f,D:v}),this.i=o}h(Hu,Q),Hu.prototype.v=function(){Gv(this,this.i),Q.prototype.v.call(this)},Hu.prototype.o=function(){this.i=null,Q.prototype.o.call(this)};function Gv(o,u){function f(R){u(R)}for(var v=o.g?kf("firebaseui-id-tenant-selection-button",o.g||o.s.a):[],b=0;b<v.length;b++){var w=v[b],C=cs(w,"tenantId");Ot(o,w,se(f,C))}}function Oc(o){Q.call(this,Ev,void 0,o,"spinner")}h(Oc,Q);function Wv(o){this.a=new Kl,_t(this.a,"authDomain"),_t(this.a,"displayMode",Dc),_t(this.a,"tenants"),_t(this.a,"callbacks"),_t(this.a,"tosUrl"),_t(this.a,"privacyPolicyUrl");for(var u in o)if(o.hasOwnProperty(u))try{Yl(this.a,u,o[u])}catch{Un('Invalid config: "'+u+'"',void 0)}}function Hv(o){o=o.a.get("displayMode");for(var u in Kv)if(Kv[u]===o)return Kv[u];return Dc}function rp(o){return o.a.get("callbacks")||{}}function nb(o){var u=o.a.get("tosUrl")||null;if(o=o.a.get("privacyPolicyUrl")||null,u&&!o&&vo("Privacy Policy URL is missing, the link will not be displayed."),u&&o){if(typeof u=="function")return u;if(typeof u=="string")return function(){$o(u)}}return null}function ip(o){var u=o.a.get("tosUrl")||null,f=o.a.get("privacyPolicyUrl")||null;if(f&&!u&&vo("Terms of Service URL is missing, the link will not be displayed."),u&&f){if(typeof f=="function")return f;if(typeof f=="string")return function(){$o(f)}}return null}function Pc(o,u){if(o=o.a.get("tenants"),!o||!o.hasOwnProperty(u)&&!o.hasOwnProperty(zu))throw Error("Invalid tenant configuration!")}function zv(o,u,f){if(o=o.a.get("tenants"),!o)throw Error("Invalid tenant configuration!");var v=[];if(o=o[u]||o[zu],!o)return Un("Invalid tenant configuration: "+(u+" is not configured!"),void 0),v;if(u=o.signInOptions,!u)throw Error("Invalid tenant configuration: signInOptions are invalid!");return u.forEach(function(b){if(typeof b=="string")v.push(b);else if(typeof b.provider=="string"){var w=b.hd;w&&f?(w instanceof RegExp?w:new RegExp("@"+w.replace(".","\\.")+"$")).test(f)&&v.push(b.provider):v.push(b.provider)}else b="Invalid tenant configuration: signInOption "+(JSON.stringify(b)+" is invalid!"),Un(b,void 0)}),v}function rb(o,u,f){return o=ib(o,u),(u=o.signInOptions)&&f&&(u=u.filter(function(v){return typeof v=="string"?f.includes(v):f.includes(v.provider)}),o.signInOptions=u),o}function ib(o,u){var f=_w,v=v===void 0?{}:v;return Pc(o,u),o=o.a.get("tenants"),Rd(o[u]||o[zu],f,v)}var _w=["immediateFederatedRedirect","privacyPolicyUrl","signInFlow","signInOptions","tosUrl"],Dc="optionFirst",Kv={qc:Dc,pc:"identifierFirst"},zu="*";function fr(o,u){var f=this;this.s=Ja(o),this.a={},Object.keys(u).forEach(function(v){f.a[v]=new Wv(u[v])}),this.ob=this.g=this.A=this.h=this.i=this.j=null,Object.defineProperty(this,"languageCode",{get:function(){return this.ob},set:function(v){this.ob=v||null},enumerable:!1})}t=fr.prototype,t.Ub=function(o,u){var f=this;Fi(this);var v=o.apiKey;return new Ht(function(b,w){if(f.a.hasOwnProperty(v)){var C=rp(f.a[v]).selectTenantUiHidden||null;if(Hv(f.a[v])===Dc){var R=[];u.forEach(function(pe){pe=pe||"_";var lt=f.a[v].a.get("tenants");if(!lt)throw Error("Invalid tenant configuration!");(lt=lt[pe]||lt[zu])?pe={tenantId:pe!=="_"?pe:null,V:lt.fullLabel||null,displayName:lt.displayName,za:lt.iconUrl,ta:lt.buttonColor}:(Un("Invalid tenant configuration: "+(pe+" is not configured!"),void 0),pe=null),pe&&R.push(pe)});var W=function(pe){pe={tenantId:pe,providerIds:zv(f.a[v],pe||"_")},b(pe)};if(R.length===1){W(R[0].tenantId);return}f.g=new Hu(function(pe){Fi(f),C&&C(),W(pe)},R,nb(f.a[v]),ip(f.a[v]))}else f.g=new hs(function(){var pe=f.g.j();if(pe){for(var lt=0;lt<u.length;lt++){var Vn=zv(f.a[v],u[lt]||"_",pe);if(Vn.length!==0){pe={tenantId:u[lt],providerIds:Vn,email:pe},Fi(f),C&&C(),b(pe);return}}f.g.a(qa({code:"no-matching-tenant-for-email"}).toString())}},nb(f.a[v]),ip(f.a[v]));f.g.render(f.s),(w=rp(f.a[v]).selectTenantUiShown||null)&&w()}else{var ne=Error("Invalid project configuration: API key is invalid!");ne.code="invalid-configuration",f.pb(ne),w(ne)}})},t.Pb=function(o,u){if(!this.a.hasOwnProperty(o))throw Error("Invalid project configuration: API key is invalid!");var f=u||void 0;Pc(this.a[o],u||"_");try{this.i=Z.app(f).auth()}catch{var v=this.a[o].a.get("authDomain");if(!v)throw Error("Invalid project configuration: authDomain is required!");o=Z.initializeApp({apiKey:o,authDomain:v},f),o.auth().tenantId=u,this.i=o.auth()}return this.i},t.Zb=function(o,u){var f=this;return new Ht(function(v,b){function w(lt,Vn){f.j=new sn(o),ep(f.j,f.s,lt,Vn)}var C=o.app.options.apiKey;f.a.hasOwnProperty(C)||b(Error("Invalid project configuration: API key is invalid!"));var R=rb(f.a[C],o.tenantId||"_",u&&u.providerIds);Fi(f),b={signInSuccessWithAuthResult:function(lt){return v(lt),!1}};var W=rp(f.a[C]).signInUiShown||null,ne=!1;b.uiChanged=function(lt,Vn){lt===null&&Vn==="callback"?((lt=qo("firebaseui-id-page-callback",f.s))&&kr(lt),f.h=new Oc,f.h.render(f.s)):ne||lt===null&&Vn==="spinner"||Vn==="blank"||(f.h&&(f.h.m(),f.h=null),ne=!0,W&&W(o.tenantId))},R.callbacks=b,R.credentialHelper="none";var pe;u&&u.email&&(pe={emailHint:u.email}),f.j?f.j.Wa().then(function(){w(R,pe)}):w(R,pe)})},t.reset=function(){var o=this;return Ut().then(function(){o.j&&o.j.Wa()}).then(function(){o.j=null,Fi(o)})},t.Vb=function(){var o=this;this.h||this.A||(this.A=window.setTimeout(function(){Fi(o),o.h=new Oc,o.g=o.h,o.h.render(o.s),o.A=null},500))},t.mb=function(){window.clearTimeout(this.A),this.A=null,this.h&&(this.h.m(),this.h=null)},t.Bb=function(){return Fi(this),this.g=new Nv,this.g.render(this.s),Ut()};function Fi(o){o.j&&o.j.reset(),o.mb(),o.g&&o.g.m()}t.pb=function(o){var u=this,f=qa({code:o.code}).toString()||o.message;Fi(this);var v;o.retry&&typeof o.retry=="function"&&(v=function(){u.reset(),o.retry()}),this.g=new Gh(f,v),this.g.render(this.s)},t.Rb=function(o){var u=this;return Ut().then(function(){var f=u.i&&u.i.app.options.apiKey;if(!u.a.hasOwnProperty(f))throw Error("Invalid project configuration: API key is invalid!");if(Pc(u.a[f],o.tenantId||"_"),!u.i.currentUser||u.i.currentUser.uid!==o.uid)throw Error("The user being processed does not match the signed in user!");return(f=rp(u.a[f]).beforeSignInSuccess||null)?f(o):o}).then(function(f){if(f.uid!==o.uid)throw Error("User with mismatching UID returned.");return f})},he("firebaseui.auth.FirebaseUiHandler",fr),he("firebaseui.auth.FirebaseUiHandler.prototype.selectTenant",fr.prototype.Ub),he("firebaseui.auth.FirebaseUiHandler.prototype.getAuth",fr.prototype.Pb),he("firebaseui.auth.FirebaseUiHandler.prototype.startSignIn",fr.prototype.Zb),he("firebaseui.auth.FirebaseUiHandler.prototype.reset",fr.prototype.reset),he("firebaseui.auth.FirebaseUiHandler.prototype.showProgressBar",fr.prototype.Vb),he("firebaseui.auth.FirebaseUiHandler.prototype.hideProgressBar",fr.prototype.mb),he("firebaseui.auth.FirebaseUiHandler.prototype.completeSignOut",fr.prototype.Bb),he("firebaseui.auth.FirebaseUiHandler.prototype.handleError",fr.prototype.pb),he("firebaseui.auth.FirebaseUiHandler.prototype.processUser",fr.prototype.Rb),he("firebaseui.auth.AuthUI",sn),he("firebaseui.auth.AuthUI.getInstance",function(o){return o=Zh(o),qu[o]?qu[o]:null}),he("firebaseui.auth.AuthUI.prototype.disableAutoSignIn",sn.prototype.Db),he("firebaseui.auth.AuthUI.prototype.start",sn.prototype.start),he("firebaseui.auth.AuthUI.prototype.setConfig",sn.prototype.ib),he("firebaseui.auth.AuthUI.prototype.signIn",sn.prototype.Wb),he("firebaseui.auth.AuthUI.prototype.reset",sn.prototype.reset),he("firebaseui.auth.AuthUI.prototype.delete",sn.prototype.Wa),he("firebaseui.auth.AuthUI.prototype.isPendingRedirect",sn.prototype.nb),he("firebaseui.auth.AuthUIError",Os),he("firebaseui.auth.AuthUIError.prototype.toJSON",Os.prototype.toJSON),he("firebaseui.auth.CredentialHelper.ACCOUNT_CHOOSER_COM",gh),he("firebaseui.auth.CredentialHelper.GOOGLE_YOLO",rv),he("firebaseui.auth.CredentialHelper.NONE",Ks),he("firebaseui.auth.AnonymousAuthProvider.PROVIDER_ID","anonymous"),Ht.prototype.catch=Ht.prototype.Ca,Ht.prototype.finally=Ht.prototype.fc}).apply(typeof global<"u"?global:typeof self<"u"?self:window)}).apply(typeof global<"u"?global:typeof self<"u"?self:window);typeof window<"u"&&(window.dialogPolyfill=Yj);var e6=firebaseui.auth;const t6=Object.freeze(Object.defineProperty({__proto__:null,auth:e6},Symbol.toStringTag,{value:"Module"})),n6=aE(t6);var v_,PT;function i6(){return PT||(PT=1,v_=function(t){var e={};function n(r){if(e[r])return e[r].exports;var s=e[r]={i:r,l:!1,exports:{}};return t[r].call(s.exports,s,s.exports,n),s.l=!0,s.exports}return n.m=t,n.c=e,n.d=function(r,s,a){n.o(r,s)||Object.defineProperty(r,s,{enumerable:!0,get:a})},n.r=function(r){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},n.t=function(r,s){if(1&s&&(r=n(r)),8&s||4&s&&typeof r=="object"&&r&&r.__esModule)return r;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:r}),2&s&&typeof r!="string")for(var c in r)n.d(a,c,(function(h){return r[h]}).bind(null,c));return a},n.n=function(r){var s=r&&r.__esModule?function(){return r.default}:function(){return r};return n.d(s,"a",s),s},n.o=function(r,s){return Object.prototype.hasOwnProperty.call(r,s)},n.p="",n(n.s=0)}([function(t,e,n){e.__esModule=!0;var r,s=n(1),a=(r=s)&&r.__esModule?r:{default:r},c=Promise.resolve(),h=function(d){function g(y){(function(I,T){if(!(I instanceof T))throw new TypeError("Cannot call a class as a function")})(this,g);var E=function(I,T){if(!I)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!T||typeof T!="object"&&typeof T!="function"?I:T}(this,d.call(this,y));return E.uiConfig=y.uiConfig,E.firebaseAuth=y.firebaseAuth,E.className=y.className,E.uiCallback=y.uiCallback,E.unregisterAuthObserver=function(){},E}return function(y,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);y.prototype=Object.create(E&&E.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(y,E):y.__proto__=E)}(g,d),g.prototype.componentDidMount=function(){var y=this;n(2);var E=n(7);return c.then(function(){y.firebaseUiWidget=E.auth.AuthUI.getInstance()||new E.auth.AuthUI(y.firebaseAuth),y.uiConfig.signInFlow==="popup"&&y.firebaseUiWidget.reset(),y.userSignedIn=!1,y.unregisterAuthObserver=y.firebaseAuth.onAuthStateChanged(function(I){!I&&y.userSignedIn&&y.firebaseUiWidget.reset(),y.userSignedIn=!!I}),y.uiCallback&&y.uiCallback(y.firebaseUiWidget),y.firebaseUiWidget.start("#firebaseui_container",y.uiConfig)})},g.prototype.componentWillUnmount=function(){var y=this;return c=c.then(function(){return y.unregisterAuthObserver(),y.firebaseUiWidget.delete()})},g.prototype.render=function(){return a.default.createElement("div",{className:this.className,id:"firebaseui_container"})},g}(a.default.Component);e.default=h},function(t,e){t.exports=cN()},function(t,e,n){var r=n(3);typeof r=="string"&&(r=[[t.i,r,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};n(5)(r,s),r.locals&&(t.exports=r.locals)},function(t,e,n){(e=t.exports=n(4)(!1)).push([t.i,"@import url(https://fonts.googleapis.com/css?family=Roboto:400,500,700&display=swap);",""]),e.push([t.i,'.mdl-button{background:0 0;border:none;border-radius:2px;color:#000;position:relative;height:36px;margin:0;min-width:64px;padding:0 16px;display:inline-block;font-family:Roboto,Helvetica,Arial,sans-serif;font-size:14px;font-weight:500;text-transform:uppercase;line-height:1;letter-spacing:0;overflow:hidden;will-change:box-shadow;transition:box-shadow .2s cubic-bezier(.4,0,1,1),background-color .2s cubic-bezier(.4,0,.2,1),color .2s cubic-bezier(.4,0,.2,1);outline:0;cursor:pointer;text-decoration:none;text-align:center;line-height:36px;vertical-align:middle}.mdl-button::-moz-focus-inner{border:0}.mdl-button:hover{background-color:hsla(0,0%,62%,.2)}.mdl-button:focus:not(:active){background-color:rgba(0,0,0,.12)}.mdl-button:active{background-color:hsla(0,0%,62%,.4)}.mdl-button.mdl-button--colored{color:#3f51b5}.mdl-button.mdl-button--colored:focus:not(:active){background-color:rgba(0,0,0,.12)}input.mdl-button[type=submit]{-webkit-appearance:none}.mdl-button--raised{background:hsla(0,0%,62%,.2);box-shadow:0 2px 2px 0 rgba(0,0,0,.14),0 3px 1px -2px rgba(0,0,0,.2),0 1px 5px 0 rgba(0,0,0,.12)}.mdl-button--raised:active{box-shadow:0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12),0 2px 4px -1px rgba(0,0,0,.2);background-color:hsla(0,0%,62%,.4)}.mdl-button--raised:focus:not(:active){box-shadow:0 0 8px rgba(0,0,0,.18),0 8px 16px rgba(0,0,0,.36);background-color:hsla(0,0%,62%,.4)}.mdl-button--raised.mdl-button--colored{background:#3f51b5;color:#fff}.mdl-button--raised.mdl-button--colored:active,.mdl-button--raised.mdl-button--colored:focus:not(:active),.mdl-button--raised.mdl-button--colored:hover{background-color:#3f51b5}.mdl-button--raised.mdl-button--colored .mdl-ripple{background:#fff}.mdl-button--fab{border-radius:50%;font-size:24px;height:56px;margin:auto;min-width:56px;width:56px;padding:0;overflow:hidden;background:hsla(0,0%,62%,.2);box-shadow:0 1px 1.5px 0 rgba(0,0,0,.12),0 1px 1px 0 rgba(0,0,0,.24);position:relative;line-height:normal}.mdl-button--fab .material-icons{position:absolute;top:50%;left:50%;transform:translate(-12px,-12px);line-height:24px;width:24px}.mdl-button--fab.mdl-button--mini-fab{height:40px;min-width:40px;width:40px}.mdl-button--fab .mdl-button__ripple-container{border-radius:50%;-webkit-mask-image:-webkit-radial-gradient(circle,#fff,#000)}.mdl-button--fab:active{box-shadow:0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12),0 2px 4px -1px rgba(0,0,0,.2);background-color:hsla(0,0%,62%,.4)}.mdl-button--fab:focus:not(:active){box-shadow:0 0 8px rgba(0,0,0,.18),0 8px 16px rgba(0,0,0,.36);background-color:hsla(0,0%,62%,.4)}.mdl-button--fab.mdl-button--colored{background:#ff4081;color:#fff}.mdl-button--fab.mdl-button--colored:active,.mdl-button--fab.mdl-button--colored:focus:not(:active),.mdl-button--fab.mdl-button--colored:hover{background-color:#ff4081}.mdl-button--fab.mdl-button--colored .mdl-ripple{background:#fff}.mdl-button--icon{border-radius:50%;font-size:24px;height:32px;margin-left:0;margin-right:0;min-width:32px;width:32px;padding:0;overflow:hidden;color:inherit;line-height:normal}.mdl-button--icon .material-icons{position:absolute;top:50%;left:50%;transform:translate(-12px,-12px);line-height:24px;width:24px}.mdl-button--icon.mdl-button--mini-icon{height:24px;min-width:24px;width:24px}.mdl-button--icon.mdl-button--mini-icon .material-icons{top:0;left:0}.mdl-button--icon .mdl-button__ripple-container{border-radius:50%;-webkit-mask-image:-webkit-radial-gradient(circle,#fff,#000)}.mdl-button__ripple-container{display:block;height:100%;left:0;position:absolute;top:0;width:100%;z-index:0;overflow:hidden}.mdl-button.mdl-button--disabled .mdl-button__ripple-container .mdl-ripple,.mdl-button[disabled] .mdl-button__ripple-container .mdl-ripple{background-color:transparent}.mdl-button--primary.mdl-button--primary{color:#3f51b5}.mdl-button--primary.mdl-button--primary .mdl-ripple{background:#fff}.mdl-button--primary.mdl-button--primary.mdl-button--fab,.mdl-button--primary.mdl-button--primary.mdl-button--raised{color:#fff;background-color:#3f51b5}.mdl-button--accent.mdl-button--accent{color:#ff4081}.mdl-button--accent.mdl-button--accent .mdl-ripple{background:#fff}.mdl-button--accent.mdl-button--accent.mdl-button--fab,.mdl-button--accent.mdl-button--accent.mdl-button--raised{color:#fff;background-color:#ff4081}.mdl-button.mdl-button--disabled.mdl-button--disabled,.mdl-button[disabled][disabled]{color:rgba(0,0,0,.26);cursor:default;background-color:transparent}.mdl-button--fab.mdl-button--disabled.mdl-button--disabled,.mdl-button--fab[disabled][disabled]{background-color:rgba(0,0,0,.12);color:rgba(0,0,0,.26)}.mdl-button--raised.mdl-button--disabled.mdl-button--disabled,.mdl-button--raised[disabled][disabled]{background-color:rgba(0,0,0,.12);color:rgba(0,0,0,.26);box-shadow:none}.mdl-button--colored.mdl-button--disabled.mdl-button--disabled,.mdl-button--colored[disabled][disabled]{color:rgba(0,0,0,.26)}.mdl-button .material-icons{vertical-align:middle}.mdl-card{display:flex;flex-direction:column;font-size:16px;font-weight:400;min-height:200px;overflow:hidden;width:330px;z-index:1;position:relative;background:#fff;border-radius:2px;box-sizing:border-box}.mdl-card__media{background-color:#ff4081;background-repeat:repeat;background-position:50% 50%;background-size:cover;background-origin:padding-box;background-attachment:scroll;box-sizing:border-box}.mdl-card__title{align-items:center;color:#000;display:block;display:flex;justify-content:stretch;line-height:normal;padding:16px;perspective-origin:165px 56px;transform-origin:165px 56px;box-sizing:border-box}.mdl-card__title.mdl-card--border{border-bottom:1px solid rgba(0,0,0,.1)}.mdl-card__title-text{align-self:flex-end;color:inherit;display:block;display:flex;font-size:24px;font-weight:300;line-height:normal;overflow:hidden;transform-origin:149px 48px;margin:0}.mdl-card__subtitle-text{font-size:14px;color:rgba(0,0,0,.54);margin:0}.mdl-card__supporting-text{color:rgba(0,0,0,.54);font-size:1rem;line-height:18px;overflow:hidden;padding:16px;width:90%}.mdl-card__supporting-text.mdl-card--border{border-bottom:1px solid rgba(0,0,0,.1)}.mdl-card__actions{font-size:16px;line-height:normal;width:100%;background-color:transparent;padding:8px;box-sizing:border-box}.mdl-card__actions.mdl-card--border{border-top:1px solid rgba(0,0,0,.1)}.mdl-card--expand{flex-grow:1}.mdl-card__menu{position:absolute;right:16px;top:16px}.mdl-dialog{border:none;box-shadow:0 9px 46px 8px rgba(0,0,0,.14),0 11px 15px -7px rgba(0,0,0,.12),0 24px 38px 3px rgba(0,0,0,.2);width:280px}.mdl-dialog__title{padding:24px 24px 0;margin:0;font-size:2.5rem}.mdl-dialog__actions{padding:8px 8px 8px 24px;display:flex;flex-direction:row-reverse;flex-wrap:wrap}.mdl-dialog__actions>*{margin-right:8px;height:36px}.mdl-dialog__actions>:first-child{margin-right:0}.mdl-dialog__actions--full-width{padding:0 0 8px}.mdl-dialog__actions--full-width>*{height:48px;flex:0 0 100%;padding-right:16px;margin-right:0;text-align:right}.mdl-dialog__content{padding:20px 24px 24px;color:rgba(0,0,0,.54)}.mdl-progress{display:block;position:relative;height:4px;width:500px;max-width:100%}.mdl-progress>.bar{display:block;position:absolute;top:0;bottom:0;width:0;transition:width .2s cubic-bezier(.4,0,.2,1)}.mdl-progress>.progressbar{background-color:#3f51b5;z-index:1;left:0}.mdl-progress>.bufferbar{background-image:linear-gradient(90deg,hsla(0,0%,100%,.7),hsla(0,0%,100%,.7)),linear-gradient(90deg,#3f51b5,#3f51b5);z-index:0;left:0}.mdl-progress>.auxbar{right:0}@supports (-webkit-appearance:none){.mdl-progress:not(.mdl-progress--indeterminate):not(.mdl-progress--indeterminate)>.auxbar,.mdl-progress:not(.mdl-progress__indeterminate):not(.mdl-progress__indeterminate)>.auxbar{background-image:linear-gradient(90deg,hsla(0,0%,100%,.7),hsla(0,0%,100%,.7)),linear-gradient(90deg,#3f51b5,#3f51b5);mask:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIj8+Cjxzdmcgd2lkdGg9IjEyIiBoZWlnaHQ9IjQiIHZpZXdQb3J0PSIwIDAgMTIgNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgogIDxlbGxpcHNlIGN4PSIyIiBjeT0iMiIgcng9IjIiIHJ5PSIyIj4KICAgIDxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9ImN4IiBmcm9tPSIyIiB0bz0iLTEwIiBkdXI9IjAuNnMiIHJlcGVhdENvdW50PSJpbmRlZmluaXRlIiAvPgogIDwvZWxsaXBzZT4KICA8ZWxsaXBzZSBjeD0iMTQiIGN5PSIyIiByeD0iMiIgcnk9IjIiIGNsYXNzPSJsb2FkZXIiPgogICAgPGFuaW1hdGUgYXR0cmlidXRlTmFtZT0iY3giIGZyb209IjE0IiB0bz0iMiIgZHVyPSIwLjZzIiByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSIgLz4KICA8L2VsbGlwc2U+Cjwvc3ZnPgo=)}}.mdl-progress:not(.mdl-progress--indeterminate)>.auxbar,.mdl-progress:not(.mdl-progress__indeterminate)>.auxbar{background-image:linear-gradient(90deg,hsla(0,0%,100%,.9),hsla(0,0%,100%,.9)),linear-gradient(90deg,#3f51b5,#3f51b5)}.mdl-progress.mdl-progress--indeterminate>.bar1,.mdl-progress.mdl-progress__indeterminate>.bar1{background-color:#3f51b5;animation-name:indeterminate1;animation-duration:2s;animation-iteration-count:infinite;animation-timing-function:linear}.mdl-progress.mdl-progress--indeterminate>.bar3,.mdl-progress.mdl-progress__indeterminate>.bar3{background-image:none;background-color:#3f51b5;animation-name:indeterminate2;animation-duration:2s;animation-iteration-count:infinite;animation-timing-function:linear}@keyframes indeterminate1{0%{left:0;width:0}50%{left:25%;width:75%}75%{left:100%;width:0}}@keyframes indeterminate2{0%{left:0;width:0}50%{left:0;width:0}75%{left:0;width:25%}to{left:100%;width:0}}.mdl-shadow--2dp{box-shadow:0 2px 2px 0 rgba(0,0,0,.14),0 3px 1px -2px rgba(0,0,0,.2),0 1px 5px 0 rgba(0,0,0,.12)}.mdl-shadow--3dp{box-shadow:0 3px 4px 0 rgba(0,0,0,.14),0 3px 3px -2px rgba(0,0,0,.2),0 1px 8px 0 rgba(0,0,0,.12)}.mdl-shadow--4dp{box-shadow:0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12),0 2px 4px -1px rgba(0,0,0,.2)}.mdl-shadow--6dp{box-shadow:0 6px 10px 0 rgba(0,0,0,.14),0 1px 18px 0 rgba(0,0,0,.12),0 3px 5px -1px rgba(0,0,0,.2)}.mdl-shadow--8dp{box-shadow:0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12),0 5px 5px -3px rgba(0,0,0,.2)}.mdl-shadow--16dp{box-shadow:0 16px 24px 2px rgba(0,0,0,.14),0 6px 30px 5px rgba(0,0,0,.12),0 8px 10px -5px rgba(0,0,0,.2)}.mdl-shadow--24dp{box-shadow:0 9px 46px 8px rgba(0,0,0,.14),0 11px 15px -7px rgba(0,0,0,.12),0 24px 38px 3px rgba(0,0,0,.2)}.mdl-spinner{display:inline-block;position:relative;width:28px;height:28px}.mdl-spinner:not(.is-upgraded).is-active:after{content:"Loading..."}.mdl-spinner.is-upgraded.is-active{animation:mdl-spinner__container-rotate 1.568s linear infinite}@keyframes mdl-spinner__container-rotate{to{transform:rotate(1turn)}}.mdl-spinner__layer{position:absolute;width:100%;height:100%;opacity:0}.mdl-spinner__layer-1{border-color:#42a5f5}.mdl-spinner--single-color .mdl-spinner__layer-1{border-color:#3f51b5}.mdl-spinner.is-active .mdl-spinner__layer-1{animation:mdl-spinner__fill-unfill-rotate 5332ms cubic-bezier(.4,0,.2,1) infinite both,mdl-spinner__layer-1-fade-in-out 5332ms cubic-bezier(.4,0,.2,1) infinite both}.mdl-spinner__layer-2{border-color:#f44336}.mdl-spinner--single-color .mdl-spinner__layer-2{border-color:#3f51b5}.mdl-spinner.is-active .mdl-spinner__layer-2{animation:mdl-spinner__fill-unfill-rotate 5332ms cubic-bezier(.4,0,.2,1) infinite both,mdl-spinner__layer-2-fade-in-out 5332ms cubic-bezier(.4,0,.2,1) infinite both}.mdl-spinner__layer-3{border-color:#fdd835}.mdl-spinner--single-color .mdl-spinner__layer-3{border-color:#3f51b5}.mdl-spinner.is-active .mdl-spinner__layer-3{animation:mdl-spinner__fill-unfill-rotate 5332ms cubic-bezier(.4,0,.2,1) infinite both,mdl-spinner__layer-3-fade-in-out 5332ms cubic-bezier(.4,0,.2,1) infinite both}.mdl-spinner__layer-4{border-color:#4caf50}.mdl-spinner--single-color .mdl-spinner__layer-4{border-color:#3f51b5}.mdl-spinner.is-active .mdl-spinner__layer-4{animation:mdl-spinner__fill-unfill-rotate 5332ms cubic-bezier(.4,0,.2,1) infinite both,mdl-spinner__layer-4-fade-in-out 5332ms cubic-bezier(.4,0,.2,1) infinite both}@keyframes mdl-spinner__fill-unfill-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}to{transform:rotate(3turn)}}@keyframes mdl-spinner__layer-1-fade-in-out{0%{opacity:.99}25%{opacity:.99}26%{opacity:0}89%{opacity:0}90%{opacity:.99}to{opacity:.99}}@keyframes mdl-spinner__layer-2-fade-in-out{0%{opacity:0}15%{opacity:0}25%{opacity:.99}50%{opacity:.99}51%{opacity:0}}@keyframes mdl-spinner__layer-3-fade-in-out{0%{opacity:0}40%{opacity:0}50%{opacity:.99}75%{opacity:.99}76%{opacity:0}}@keyframes mdl-spinner__layer-4-fade-in-out{0%{opacity:0}65%{opacity:0}75%{opacity:.99}90%{opacity:.99}to{opacity:0}}.mdl-spinner__gap-patch{position:absolute;box-sizing:border-box;top:0;left:45%;width:10%;height:100%;overflow:hidden;border-color:inherit}.mdl-spinner__gap-patch .mdl-spinner__circle{width:1000%;left:-450%}.mdl-spinner__circle-clipper{display:inline-block;position:relative;width:50%;height:100%;overflow:hidden;border-color:inherit}.mdl-spinner__circle-clipper.mdl-spinner__left{float:left}.mdl-spinner__circle-clipper.mdl-spinner__right{float:right}.mdl-spinner__circle-clipper .mdl-spinner__circle{width:200%}.mdl-spinner__circle{box-sizing:border-box;height:100%;border-width:3px;border-style:solid;border-color:inherit;border-bottom-color:transparent!important;border-radius:50%;animation:none;position:absolute;top:0;right:0;bottom:0;left:0}.mdl-spinner__left .mdl-spinner__circle{border-right-color:transparent!important;transform:rotate(129deg)}.mdl-spinner.is-active .mdl-spinner__left .mdl-spinner__circle{animation:mdl-spinner__left-spin 1333ms cubic-bezier(.4,0,.2,1) infinite both}.mdl-spinner__right .mdl-spinner__circle{left:-100%;border-left-color:transparent!important;transform:rotate(-129deg)}.mdl-spinner.is-active .mdl-spinner__right .mdl-spinner__circle{animation:mdl-spinner__right-spin 1333ms cubic-bezier(.4,0,.2,1) infinite both}@keyframes mdl-spinner__left-spin{0%{transform:rotate(130deg)}50%{transform:rotate(-5deg)}to{transform:rotate(130deg)}}@keyframes mdl-spinner__right-spin{0%{transform:rotate(-130deg)}50%{transform:rotate(5deg)}to{transform:rotate(-130deg)}}.mdl-textfield{position:relative;font-size:16px;display:inline-block;box-sizing:border-box;width:300px;max-width:100%;margin:0;padding:20px 0}.mdl-textfield .mdl-button{position:absolute;bottom:20px}.mdl-textfield--align-right{text-align:right}.mdl-textfield--full-width{width:100%}.mdl-textfield--expandable{min-width:32px;width:auto;min-height:32px}.mdl-textfield--expandable .mdl-button--icon{top:16px}.mdl-textfield__input{border:none;border-bottom:1px solid rgba(0,0,0,.12);display:block;font-size:16px;font-family:Helvetica,Arial,sans-serif;margin:0;padding:4px 0;width:100%;background:0 0;text-align:left;color:inherit}.mdl-textfield__input[type=number]{-moz-appearance:textfield}.mdl-textfield__input[type=number]::-webkit-inner-spin-button,.mdl-textfield__input[type=number]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.mdl-textfield.is-focused .mdl-textfield__input{outline:0}.mdl-textfield.is-invalid .mdl-textfield__input{border-color:#d50000;box-shadow:none}.mdl-textfield.is-disabled .mdl-textfield__input,fieldset[disabled] .mdl-textfield .mdl-textfield__input{background-color:transparent;border-bottom:1px dotted rgba(0,0,0,.12);color:rgba(0,0,0,.26)}.mdl-textfield textarea.mdl-textfield__input{display:block}.mdl-textfield__label{bottom:0;color:rgba(0,0,0,.26);font-size:16px;left:0;right:0;pointer-events:none;position:absolute;display:block;top:24px;width:100%;overflow:hidden;white-space:nowrap;text-align:left}.mdl-textfield.has-placeholder .mdl-textfield__label,.mdl-textfield.is-dirty .mdl-textfield__label{visibility:hidden}.mdl-textfield--floating-label .mdl-textfield__label{transition-duration:.2s;transition-timing-function:cubic-bezier(.4,0,.2,1)}.mdl-textfield--floating-label.has-placeholder .mdl-textfield__label{transition:none}.mdl-textfield.is-disabled.is-disabled .mdl-textfield__label,fieldset[disabled] .mdl-textfield .mdl-textfield__label{color:rgba(0,0,0,.26)}.mdl-textfield--floating-label.has-placeholder .mdl-textfield__label,.mdl-textfield--floating-label.is-dirty .mdl-textfield__label,.mdl-textfield--floating-label.is-focused .mdl-textfield__label{color:#3f51b5;font-size:12px;top:4px;visibility:visible}.mdl-textfield--floating-label.has-placeholder .mdl-textfield__expandable-holder .mdl-textfield__label,.mdl-textfield--floating-label.is-dirty .mdl-textfield__expandable-holder .mdl-textfield__label,.mdl-textfield--floating-label.is-focused .mdl-textfield__expandable-holder .mdl-textfield__label{top:-16px}.mdl-textfield--floating-label.is-invalid .mdl-textfield__label{color:#d50000;font-size:12px}.mdl-textfield__label:after{background-color:#3f51b5;bottom:20px;content:"";height:2px;left:45%;position:absolute;transition-duration:.2s;transition-timing-function:cubic-bezier(.4,0,.2,1);visibility:hidden;width:10px}.mdl-textfield.is-focused .mdl-textfield__label:after{left:0;visibility:visible;width:100%}.mdl-textfield.is-invalid .mdl-textfield__label:after{background-color:#d50000}.mdl-textfield__error{color:#d50000;position:absolute;font-size:12px;margin-top:3px;visibility:hidden;display:block}.mdl-textfield.is-invalid .mdl-textfield__error{visibility:visible}.mdl-textfield__expandable-holder{position:relative;margin-left:32px;transition-duration:.2s;transition-timing-function:cubic-bezier(.4,0,.2,1);display:inline-block;max-width:.1px}.mdl-textfield.is-dirty .mdl-textfield__expandable-holder,.mdl-textfield.is-focused .mdl-textfield__expandable-holder{max-width:600px}.mdl-textfield__expandable-holder .mdl-textfield__label:after{bottom:0}dialog{position:absolute;left:0;right:0;width:-moz-fit-content;width:-webkit-fit-content;width:fit-content;height:-moz-fit-content;height:-webkit-fit-content;height:fit-content;margin:auto;border:solid;padding:1em;background:#fff;color:#000;display:block}dialog:not([open]){display:none}dialog+.backdrop{background:rgba(0,0,0,.1)}._dialog_overlay,dialog+.backdrop{position:fixed;top:0;right:0;bottom:0;left:0}dialog.fixed{position:fixed;top:50%;transform:translateY(-50%)}.firebaseui-container{background-color:#fff;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;color:rgba(0,0,0,.87);direction:ltr;font:16px Roboto,arial,sans-serif;margin:0 auto;max-width:360px;overflow:visible;position:relative;text-align:left;width:100%}.firebaseui-container.mdl-card{overflow:visible}.firebaseui-card-header{padding:24px 24px 0}.firebaseui-card-content,.firebaseui-card-footer{padding:0 24px}.firebaseui-card-actions{box-sizing:border-box;display:table;font-size:14px;padding:8px 24px 24px;text-align:left;width:100%}.firebaseui-form-links{display:table-cell;vertical-align:middle;width:100%}.firebaseui-form-actions{display:table-cell;text-align:right;white-space:nowrap;width:100%}.firebaseui-subtitle,.firebaseui-title{color:rgba(0,0,0,.87);direction:ltr;font-size:20px;font-weight:500;line-height:24px;margin:0;padding:0;text-align:left}.firebaseui-title{padding-bottom:16px}.firebaseui-subtitle{margin:16px 0}.firebaseui-text{color:rgba(0,0,0,.87);direction:ltr;font-size:16px;line-height:24px;text-align:left}.firebaseui-id-page-password-recovery-email-sent p.firebaseui-text{margin:16px 0}.firebaseui-text-emphasis{font-weight:700}.firebaseui-error{color:#dd2c00;direction:ltr;font-size:12px;line-height:16px;margin:0;text-align:left}.firebaseui-text-input-error{margin:-16px 0 16px}.firebaseui-error-wrapper{min-height:16px}.firebaseui-list-item{direction:ltr;margin:0;padding:0;text-align:left}.firebaseui-hidden{display:none}.firebaseui-relative-wrapper{position:relative}.firebaseui-label{color:rgba(0,0,0,.54);direction:ltr;font-size:16px;text-align:left}.mdl-textfield--floating-label.is-dirty .mdl-textfield__label,.mdl-textfield--floating-label.is-focused .mdl-textfield__label{color:#757575}.firebaseui-input,.firebaseui-input-invalid{border-radius:0;color:rgba(0,0,0,.87);direction:ltr;font-size:16px;width:100%}input.firebaseui-input,input.firebaseui-input-invalid{direction:ltr;text-align:left}.firebaseui-input-invalid{border-color:#dd2c00}.firebaseui-textfield{width:100%}.firebaseui-textfield.mdl-textfield .firebaseui-input{border-color:rgba(0,0,0,.12)}.firebaseui-textfield.mdl-textfield .firebaseui-label:after{background-color:#3f51b5}.firebaseui-textfield-invalid.mdl-textfield .firebaseui-input{border-color:#dd2c00}.firebaseui-textfield-invalid.mdl-textfield .firebaseui-label:after{background-color:#dd2c00}.firebaseui-button{display:inline-block;height:36px;margin-left:8px;min-width:88px}.firebaseui-link{color:#4285f4;font-variant:normal;font-weight:400;text-decoration:none}.firebaseui-link:hover{text-decoration:underline}.firebaseui-indent{margin-left:1em}.firebaseui-tos{color:#757575;direction:ltr;font-size:12px;line-height:16px;margin-bottom:24px;margin-top:0;text-align:left}.firebaseui-provider-sign-in-footer>.firebaseui-tos{text-align:center}.firebaseui-tos-list{list-style:none;text-align:right}.firebaseui-inline-list-item{display:inline-block;margin-left:5px;margin-right:5px}.firebaseui-page-provider-sign-in,.firebaseui-page-select-tenant{background:inherit}.firebaseui-idp-list,.firebaseui-tenant-list{list-style:none;margin:1em 0;padding:0}.firebaseui-idp-button,.firebaseui-tenant-button{direction:ltr;font-weight:500;height:auto;line-height:normal;max-width:220px;min-height:40px;padding:8px 16px;text-align:left;width:100%}.firebaseui-idp-list>.firebaseui-list-item,.firebaseui-tenant-list>.firebaseui-list-item{margin-bottom:15px;text-align:center}.firebaseui-idp-icon-wrapper{display:table-cell;vertical-align:middle}.firebaseui-idp-icon{height:18px;width:18px}.firebaseui-idp-favicon,.firebaseui-idp-icon{border:none;display:inline-block;vertical-align:middle}.firebaseui-idp-favicon{height:14px;margin-right:5px;width:14px}.firebaseui-idp-text{color:#fff;display:table-cell;font-size:14px;padding-left:16px;text-transform:none;vertical-align:middle}.firebaseui-idp-text.firebaseui-idp-text-long{display:table-cell}.firebaseui-idp-text.firebaseui-idp-text-short{display:none}@media (max-width:268px){.firebaseui-idp-text.firebaseui-idp-text-long{display:none}.firebaseui-idp-text.firebaseui-idp-text-short{display:table-cell}}@media (max-width:320px){.firebaseui-recaptcha-container>div>div{transform:scale(.9);-webkit-transform:scale(.9);transform-origin:0 0;-webkit-transform-origin:0 0}}.firebaseui-idp-google>.firebaseui-idp-text{color:#757575}[data-provider-id="yahoo.com"]>.firebaseui-idp-icon-wrapper>.firebaseui-idp-icon{height:22px;width:22px}.firebaseui-info-bar{background-color:#f9edbe;border:1px solid #f0c36d;box-shadow:0 2px 4px rgba(0,0,0,.2);-webkit-box-shadow:0 2px 4px rgba(0,0,0,.2);-moz-box-shadow:0 2px 4px rgba(0,0,0,.2);left:10%;padding:8px 16px;position:absolute;right:10%;text-align:center;top:0}.firebaseui-info-bar-message{font-size:12px;margin:0}.firebaseui-dialog{box-sizing:border-box;color:rgba(0,0,0,.87);font:16px Roboto,arial,sans-serif;height:auto;padding:24px;text-align:left}.firebaseui-dialog-icon-wrapper{display:table-cell;vertical-align:middle}.firebaseui-dialog-icon{float:left;height:40px;margin-right:24px;width:40px}.firebaseui-progress-dialog-message{display:table-cell;font-size:16px;font-weight:400;min-height:40px;vertical-align:middle}.firebaseui-progress-dialog-loading-icon{height:28px;margin:6px 30px 6px 6px;width:28px}.firebaseui-icon-done{background-image:url(https://www.gstatic.com/images/icons/material/system/2x/done_googgreen_36dp.png);background-position:50%;background-repeat:no-repeat;background-size:36px 36px}.firebaseui-phone-number{display:flex}.firebaseui-country-selector{background-image:url(https://www.gstatic.com/images/icons/material/system/1x/arrow_drop_down_grey600_18dp.png);background-position:100%;background-repeat:no-repeat;background-size:18px auto;border-radius:0;border-bottom:1px solid rgba(0,0,0,.12);color:rgba(0,0,0,.87);flex-shrink:0;font-size:16px;font-weight:400;height:auto;line-height:normal;margin:20px 24px 20px 0;padding:4px 20px 4px 0;width:90px}.firebaseui-country-selector-flag{display:inline-block;margin-right:1ex}.firebaseui-flag{background-image:url(https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/flags_sprite_2x.png);background-size:100% auto;filter:drop-shadow(1px 1px 1px rgba(0,0,0,.54));height:14px;width:24px}.firebaseui-list-box-dialog{max-height:90%;overflow:auto;padding:8px 0 0}.firebaseui-list-box-actions{padding-bottom:8px}.firebaseui-list-box-icon-wrapper{padding-right:24px}.firebaseui-list-box-icon-wrapper,.firebaseui-list-box-label-wrapper{display:table-cell;vertical-align:top}.firebaseui-list-box-dialog-button{color:rgba(0,0,0,.87);direction:ltr;font-size:16px;font-weight:400;height:auto;line-height:normal;min-height:48px;padding:14px 24px;text-align:left;text-transform:none;width:100%}.firebaseui-phone-number-error{margin-left:114px}.mdl-progress.firebaseui-busy-indicator{height:2px;left:0;position:absolute;top:55px;width:100%}.mdl-spinner.firebaseui-busy-indicator{direction:ltr;height:56px;left:0;margin:auto;position:absolute;right:0;top:30%;width:56px}.firebaseui-callback-indicator-container .firebaseui-busy-indicator{top:0}.firebaseui-callback-indicator-container{height:120px}.firebaseui-new-password-component{display:inline-block;position:relative;width:100%}.firebaseui-input-floating-button{background-position:50%;background-repeat:no-repeat;display:block;height:24px;position:absolute;right:0;top:20px;width:24px}.firebaseui-input-toggle-on{background-image:url(https://www.gstatic.com/images/icons/material/system/1x/visibility_black_24dp.png)}.firebaseui-input-toggle-off{background-image:url(https://www.gstatic.com/images/icons/material/system/1x/visibility_off_black_24dp.png)}.firebaseui-input-toggle-focus{opacity:.87}.firebaseui-input-toggle-blur{opacity:.38}.firebaseui-recaptcha-wrapper{display:table;margin:0 auto;padding-bottom:8px}.firebaseui-recaptcha-container{display:table-cell}.firebaseui-recaptcha-error-wrapper{caption-side:bottom;display:table-caption}.firebaseui-change-phone-number-link{display:block}.firebaseui-resend-container{direction:ltr;margin:20px 0;text-align:center}.firebaseui-id-resend-countdown{color:rgba(0,0,0,.38)}.firebaseui-id-page-phone-sign-in-start .firebaseui-form-actions div{float:left}@media (max-width:480px){.firebaseui-container{box-shadow:none;max-width:none;width:100%}.firebaseui-card-header{border-bottom:1px solid #e0e0e0;margin-bottom:16px;padding:16px 24px 0}.firebaseui-title{padding-bottom:16px}.firebaseui-card-actions{padding-right:24px}.firebaseui-busy-indicator{top:0}}.mdl-textfield__label{font-weight:400;margin-bottom:0}.firebaseui-id-page-blank,.firebaseui-id-page-spinner{background:inherit;height:64px}.firebaseui-email-sent{background-image:url(https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/success_status.png);background-position:50%;background-repeat:no-repeat;background-size:64px 64px;height:64px;margin-top:16px;text-align:center}.firebaseui-text-justify{text-align:justify}.firebaseui-flag-KY{background-position:0 0}.firebaseui-flag-AC{background-position:0 -14px}.firebaseui-flag-AE{background-position:0 -28px}.firebaseui-flag-AF{background-position:0 -42px}.firebaseui-flag-AG{background-position:0 -56px}.firebaseui-flag-AI{background-position:0 -70px}.firebaseui-flag-AL{background-position:0 -84px}.firebaseui-flag-AM{background-position:0 -98px}.firebaseui-flag-AO{background-position:0 -112px}.firebaseui-flag-AQ{background-position:0 -126px}.firebaseui-flag-AR{background-position:0 -140px}.firebaseui-flag-AS{background-position:0 -154px}.firebaseui-flag-AT{background-position:0 -168px}.firebaseui-flag-AU{background-position:0 -182px}.firebaseui-flag-AW{background-position:0 -196px}.firebaseui-flag-AX{background-position:0 -210px}.firebaseui-flag-AZ{background-position:0 -224px}.firebaseui-flag-BA{background-position:0 -238px}.firebaseui-flag-BB{background-position:0 -252px}.firebaseui-flag-BD{background-position:0 -266px}.firebaseui-flag-BE{background-position:0 -280px}.firebaseui-flag-BF{background-position:0 -294px}.firebaseui-flag-BG{background-position:0 -308px}.firebaseui-flag-BH{background-position:0 -322px}.firebaseui-flag-BI{background-position:0 -336px}.firebaseui-flag-BJ{background-position:0 -350px}.firebaseui-flag-BL{background-position:0 -364px}.firebaseui-flag-BM{background-position:0 -378px}.firebaseui-flag-BN{background-position:0 -392px}.firebaseui-flag-BO{background-position:0 -406px}.firebaseui-flag-BQ{background-position:0 -420px}.firebaseui-flag-BR{background-position:0 -434px}.firebaseui-flag-BS{background-position:0 -448px}.firebaseui-flag-BT{background-position:0 -462px}.firebaseui-flag-BV{background-position:0 -476px}.firebaseui-flag-BW{background-position:0 -490px}.firebaseui-flag-BY{background-position:0 -504px}.firebaseui-flag-BZ{background-position:0 -518px}.firebaseui-flag-CA{background-position:0 -532px}.firebaseui-flag-CC{background-position:0 -546px}.firebaseui-flag-CD{background-position:0 -560px}.firebaseui-flag-CF{background-position:0 -574px}.firebaseui-flag-CG{background-position:0 -588px}.firebaseui-flag-CH{background-position:0 -602px}.firebaseui-flag-CI{background-position:0 -616px}.firebaseui-flag-CK{background-position:0 -630px}.firebaseui-flag-CL{background-position:0 -644px}.firebaseui-flag-CM{background-position:0 -658px}.firebaseui-flag-CN{background-position:0 -672px}.firebaseui-flag-CO{background-position:0 -686px}.firebaseui-flag-CP{background-position:0 -700px}.firebaseui-flag-CR{background-position:0 -714px}.firebaseui-flag-CU{background-position:0 -728px}.firebaseui-flag-CV{background-position:0 -742px}.firebaseui-flag-CW{background-position:0 -756px}.firebaseui-flag-CX{background-position:0 -770px}.firebaseui-flag-CY{background-position:0 -784px}.firebaseui-flag-CZ{background-position:0 -798px}.firebaseui-flag-DE{background-position:0 -812px}.firebaseui-flag-DG{background-position:0 -826px}.firebaseui-flag-DJ{background-position:0 -840px}.firebaseui-flag-DK{background-position:0 -854px}.firebaseui-flag-DM{background-position:0 -868px}.firebaseui-flag-DO{background-position:0 -882px}.firebaseui-flag-DZ{background-position:0 -896px}.firebaseui-flag-EA{background-position:0 -910px}.firebaseui-flag-EC{background-position:0 -924px}.firebaseui-flag-EE{background-position:0 -938px}.firebaseui-flag-EG{background-position:0 -952px}.firebaseui-flag-EH{background-position:0 -966px}.firebaseui-flag-ER{background-position:0 -980px}.firebaseui-flag-ES{background-position:0 -994px}.firebaseui-flag-ET{background-position:0 -1008px}.firebaseui-flag-EU{background-position:0 -1022px}.firebaseui-flag-FI{background-position:0 -1036px}.firebaseui-flag-FJ{background-position:0 -1050px}.firebaseui-flag-FK{background-position:0 -1064px}.firebaseui-flag-FM{background-position:0 -1078px}.firebaseui-flag-FO{background-position:0 -1092px}.firebaseui-flag-FR{background-position:0 -1106px}.firebaseui-flag-GA{background-position:0 -1120px}.firebaseui-flag-GB{background-position:0 -1134px}.firebaseui-flag-GD{background-position:0 -1148px}.firebaseui-flag-GE{background-position:0 -1162px}.firebaseui-flag-GF{background-position:0 -1176px}.firebaseui-flag-GG{background-position:0 -1190px}.firebaseui-flag-GH{background-position:0 -1204px}.firebaseui-flag-GI{background-position:0 -1218px}.firebaseui-flag-GL{background-position:0 -1232px}.firebaseui-flag-GM{background-position:0 -1246px}.firebaseui-flag-GN{background-position:0 -1260px}.firebaseui-flag-GP{background-position:0 -1274px}.firebaseui-flag-GQ{background-position:0 -1288px}.firebaseui-flag-GR{background-position:0 -1302px}.firebaseui-flag-GS{background-position:0 -1316px}.firebaseui-flag-GT{background-position:0 -1330px}.firebaseui-flag-GU{background-position:0 -1344px}.firebaseui-flag-GW{background-position:0 -1358px}.firebaseui-flag-GY{background-position:0 -1372px}.firebaseui-flag-HK{background-position:0 -1386px}.firebaseui-flag-HM{background-position:0 -1400px}.firebaseui-flag-HN{background-position:0 -1414px}.firebaseui-flag-HR{background-position:0 -1428px}.firebaseui-flag-HT{background-position:0 -1442px}.firebaseui-flag-HU{background-position:0 -1456px}.firebaseui-flag-IC{background-position:0 -1470px}.firebaseui-flag-ID{background-position:0 -1484px}.firebaseui-flag-IE{background-position:0 -1498px}.firebaseui-flag-IL{background-position:0 -1512px}.firebaseui-flag-IM{background-position:0 -1526px}.firebaseui-flag-IN{background-position:0 -1540px}.firebaseui-flag-IO{background-position:0 -1554px}.firebaseui-flag-IQ{background-position:0 -1568px}.firebaseui-flag-IR{background-position:0 -1582px}.firebaseui-flag-IS{background-position:0 -1596px}.firebaseui-flag-IT{background-position:0 -1610px}.firebaseui-flag-JE{background-position:0 -1624px}.firebaseui-flag-JM{background-position:0 -1638px}.firebaseui-flag-JO{background-position:0 -1652px}.firebaseui-flag-JP{background-position:0 -1666px}.firebaseui-flag-KE{background-position:0 -1680px}.firebaseui-flag-KG{background-position:0 -1694px}.firebaseui-flag-KH{background-position:0 -1708px}.firebaseui-flag-KI{background-position:0 -1722px}.firebaseui-flag-KM{background-position:0 -1736px}.firebaseui-flag-KN{background-position:0 -1750px}.firebaseui-flag-KP{background-position:0 -1764px}.firebaseui-flag-KR{background-position:0 -1778px}.firebaseui-flag-KW{background-position:0 -1792px}.firebaseui-flag-AD{background-position:0 -1806px}.firebaseui-flag-KZ{background-position:0 -1820px}.firebaseui-flag-LA{background-position:0 -1834px}.firebaseui-flag-LB{background-position:0 -1848px}.firebaseui-flag-LC{background-position:0 -1862px}.firebaseui-flag-LI{background-position:0 -1876px}.firebaseui-flag-LK{background-position:0 -1890px}.firebaseui-flag-LR{background-position:0 -1904px}.firebaseui-flag-LS{background-position:0 -1918px}.firebaseui-flag-LT{background-position:0 -1932px}.firebaseui-flag-LU{background-position:0 -1946px}.firebaseui-flag-LV{background-position:0 -1960px}.firebaseui-flag-LY{background-position:0 -1974px}.firebaseui-flag-MA{background-position:0 -1988px}.firebaseui-flag-MC{background-position:0 -2002px}.firebaseui-flag-MD{background-position:0 -2016px}.firebaseui-flag-ME{background-position:0 -2030px}.firebaseui-flag-MF{background-position:0 -2044px}.firebaseui-flag-MG{background-position:0 -2058px}.firebaseui-flag-MH{background-position:0 -2072px}.firebaseui-flag-MK{background-position:0 -2086px}.firebaseui-flag-ML{background-position:0 -2100px}.firebaseui-flag-MM{background-position:0 -2114px}.firebaseui-flag-MN{background-position:0 -2128px}.firebaseui-flag-MO{background-position:0 -2142px}.firebaseui-flag-MP{background-position:0 -2156px}.firebaseui-flag-MQ{background-position:0 -2170px}.firebaseui-flag-MR{background-position:0 -2184px}.firebaseui-flag-MS{background-position:0 -2198px}.firebaseui-flag-MT{background-position:0 -2212px}.firebaseui-flag-MU{background-position:0 -2226px}.firebaseui-flag-MV{background-position:0 -2240px}.firebaseui-flag-MW{background-position:0 -2254px}.firebaseui-flag-MX{background-position:0 -2268px}.firebaseui-flag-MY{background-position:0 -2282px}.firebaseui-flag-MZ{background-position:0 -2296px}.firebaseui-flag-NA{background-position:0 -2310px}.firebaseui-flag-NC{background-position:0 -2324px}.firebaseui-flag-NE{background-position:0 -2338px}.firebaseui-flag-NF{background-position:0 -2352px}.firebaseui-flag-NG{background-position:0 -2366px}.firebaseui-flag-NI{background-position:0 -2380px}.firebaseui-flag-NL{background-position:0 -2394px}.firebaseui-flag-NO{background-position:0 -2408px}.firebaseui-flag-NP{background-position:0 -2422px}.firebaseui-flag-NR{background-position:0 -2436px}.firebaseui-flag-NU{background-position:0 -2450px}.firebaseui-flag-NZ{background-position:0 -2464px}.firebaseui-flag-OM{background-position:0 -2478px}.firebaseui-flag-PA{background-position:0 -2492px}.firebaseui-flag-PE{background-position:0 -2506px}.firebaseui-flag-PF{background-position:0 -2520px}.firebaseui-flag-PG{background-position:0 -2534px}.firebaseui-flag-PH{background-position:0 -2548px}.firebaseui-flag-PK{background-position:0 -2562px}.firebaseui-flag-PL{background-position:0 -2576px}.firebaseui-flag-PM{background-position:0 -2590px}.firebaseui-flag-PN{background-position:0 -2604px}.firebaseui-flag-PR{background-position:0 -2618px}.firebaseui-flag-PS{background-position:0 -2632px}.firebaseui-flag-PT{background-position:0 -2646px}.firebaseui-flag-PW{background-position:0 -2660px}.firebaseui-flag-PY{background-position:0 -2674px}.firebaseui-flag-QA{background-position:0 -2688px}.firebaseui-flag-RE{background-position:0 -2702px}.firebaseui-flag-RO{background-position:0 -2716px}.firebaseui-flag-RS{background-position:0 -2730px}.firebaseui-flag-RU{background-position:0 -2744px}.firebaseui-flag-RW{background-position:0 -2758px}.firebaseui-flag-SA{background-position:0 -2772px}.firebaseui-flag-SB{background-position:0 -2786px}.firebaseui-flag-SC{background-position:0 -2800px}.firebaseui-flag-SD{background-position:0 -2814px}.firebaseui-flag-SE{background-position:0 -2828px}.firebaseui-flag-SG{background-position:0 -2842px}.firebaseui-flag-SH{background-position:0 -2856px}.firebaseui-flag-SI{background-position:0 -2870px}.firebaseui-flag-SJ{background-position:0 -2884px}.firebaseui-flag-SK{background-position:0 -2898px}.firebaseui-flag-SL{background-position:0 -2912px}.firebaseui-flag-SM{background-position:0 -2926px}.firebaseui-flag-SN{background-position:0 -2940px}.firebaseui-flag-SO{background-position:0 -2954px}.firebaseui-flag-SR{background-position:0 -2968px}.firebaseui-flag-SS{background-position:0 -2982px}.firebaseui-flag-ST{background-position:0 -2996px}.firebaseui-flag-SV{background-position:0 -3010px}.firebaseui-flag-SX{background-position:0 -3024px}.firebaseui-flag-SY{background-position:0 -3038px}.firebaseui-flag-SZ{background-position:0 -3052px}.firebaseui-flag-TA{background-position:0 -3066px}.firebaseui-flag-TC{background-position:0 -3080px}.firebaseui-flag-TD{background-position:0 -3094px}.firebaseui-flag-TF{background-position:0 -3108px}.firebaseui-flag-TG{background-position:0 -3122px}.firebaseui-flag-TH{background-position:0 -3136px}.firebaseui-flag-TJ{background-position:0 -3150px}.firebaseui-flag-TK{background-position:0 -3164px}.firebaseui-flag-TL{background-position:0 -3178px}.firebaseui-flag-TM{background-position:0 -3192px}.firebaseui-flag-TN{background-position:0 -3206px}.firebaseui-flag-TO{background-position:0 -3220px}.firebaseui-flag-TR{background-position:0 -3234px}.firebaseui-flag-TT{background-position:0 -3248px}.firebaseui-flag-TV{background-position:0 -3262px}.firebaseui-flag-TW{background-position:0 -3276px}.firebaseui-flag-TZ{background-position:0 -3290px}.firebaseui-flag-UA{background-position:0 -3304px}.firebaseui-flag-UG{background-position:0 -3318px}.firebaseui-flag-UM{background-position:0 -3332px}.firebaseui-flag-UN{background-position:0 -3346px}.firebaseui-flag-US{background-position:0 -3360px}.firebaseui-flag-UY{background-position:0 -3374px}.firebaseui-flag-UZ{background-position:0 -3388px}.firebaseui-flag-VA{background-position:0 -3402px}.firebaseui-flag-VC{background-position:0 -3416px}.firebaseui-flag-VE{background-position:0 -3430px}.firebaseui-flag-VG{background-position:0 -3444px}.firebaseui-flag-VI{background-position:0 -3458px}.firebaseui-flag-VN{background-position:0 -3472px}.firebaseui-flag-VU{background-position:0 -3486px}.firebaseui-flag-WF{background-position:0 -3500px}.firebaseui-flag-WS{background-position:0 -3514px}.firebaseui-flag-XK{background-position:0 -3528px}.firebaseui-flag-YE{background-position:0 -3542px}.firebaseui-flag-YT{background-position:0 -3556px}.firebaseui-flag-ZA{background-position:0 -3570px}.firebaseui-flag-ZM{background-position:0 -3584px}.firebaseui-flag-ZW{background-position:0 -3598px}',""])},function(t,e){t.exports=function(n){var r=[];return r.toString=function(){return this.map(function(s){var a=function(c,h){var d=c[1]||"",g=c[3];if(!g)return d;if(h&&typeof btoa=="function"){var y=(I=g,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(I))))+" */"),E=g.sources.map(function(T){return"/*# sourceURL="+g.sourceRoot+T+" */"});return[d].concat(E).concat([y]).join(`
`)}var I;return[d].join(`
`)}(s,n);return s[2]?"@media "+s[2]+"{"+a+"}":a}).join("")},r.i=function(s,a){typeof s=="string"&&(s=[[null,s,""]]);for(var c={},h=0;h<this.length;h++){var d=this[h][0];typeof d=="number"&&(c[d]=!0)}for(h=0;h<s.length;h++){var g=s[h];typeof g[0]=="number"&&c[g[0]]||(a&&!g[2]?g[2]=a:a&&(g[2]="("+g[2]+") and ("+a+")"),r.push(g))}},r}},function(t,e,n){var r,s,a={},c=(r=function(){return window&&document&&document.all&&!window.atob},function(){return s===void 0&&(s=r.apply(this,arguments)),s}),h=function(J){return document.querySelector(J)},d=function(J){var se={};return function(re){if(typeof re=="function")return re();if(se[re]===void 0){var le=h.call(this,re);if(window.HTMLIFrameElement&&le instanceof window.HTMLIFrameElement)try{le=le.contentDocument.head}catch{le=null}se[re]=le}return se[re]}}(),g=null,y=0,E=[],I=n(6);function T(J,se){for(var re=0;re<J.length;re++){var le=J[re],he=a[le.id];if(he){he.refs++;for(var te=0;te<he.parts.length;te++)he.parts[te](le.parts[te]);for(;te<le.parts.length;te++)he.parts.push(H(le.parts[te],se))}else{var De=[];for(te=0;te<le.parts.length;te++)De.push(H(le.parts[te],se));a[le.id]={id:le.id,refs:1,parts:De}}}}function x(J,se){for(var re=[],le={},he=0;he<J.length;he++){var te=J[he],De=se.base?te[0]+se.base:te[0],Ce={css:te[1],media:te[2],sourceMap:te[3]};le[De]?le[De].parts.push(Ce):re.push(le[De]={id:De,parts:[Ce]})}return re}function A(J,se){var re=d(J.insertInto);if(!re)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var le=E[E.length-1];if(J.insertAt==="top")le?le.nextSibling?re.insertBefore(se,le.nextSibling):re.appendChild(se):re.insertBefore(se,re.firstChild),E.push(se);else if(J.insertAt==="bottom")re.appendChild(se);else{if(typeof J.insertAt!="object"||!J.insertAt.before)throw new Error(`[Style Loader]

 Invalid value for parameter 'insertAt' ('options.insertAt') found.
 Must be 'top', 'bottom', or Object.
 (https://github.com/webpack-contrib/style-loader#insertat)
`);var he=d(J.insertInto+" "+J.insertAt.before);re.insertBefore(se,he)}}function N(J){if(J.parentNode===null)return!1;J.parentNode.removeChild(J);var se=E.indexOf(J);se>=0&&E.splice(se,1)}function D(J){var se=document.createElement("style");return J.attrs.type===void 0&&(J.attrs.type="text/css"),L(se,J.attrs),A(J,se),se}function L(J,se){Object.keys(se).forEach(function(re){J.setAttribute(re,se[re])})}function H(J,se){var re,le,he,te;if(se.transform&&J.css){if(!(te=se.transform(J.css)))return function(){};J.css=te}if(se.singleton){var De=y++;re=g||(g=D(se)),le=P.bind(null,re,De,!1),he=P.bind(null,re,De,!0)}else J.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(re=function(Ce){var ct=document.createElement("link");return Ce.attrs.type===void 0&&(Ce.attrs.type="text/css"),Ce.attrs.rel="stylesheet",L(ct,Ce.attrs),A(Ce,ct),ct}(se),le=Ae.bind(null,re,se),he=function(){N(re),re.href&&URL.revokeObjectURL(re.href)}):(re=D(se),le=Be.bind(null,re),he=function(){N(re)});return le(J),function(Ce){if(Ce){if(Ce.css===J.css&&Ce.media===J.media&&Ce.sourceMap===J.sourceMap)return;le(J=Ce)}else he()}}t.exports=function(J,se){if(typeof DEBUG<"u"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");(se=se||{}).attrs=typeof se.attrs=="object"?se.attrs:{},se.singleton||typeof se.singleton=="boolean"||(se.singleton=c()),se.insertInto||(se.insertInto="head"),se.insertAt||(se.insertAt="bottom");var re=x(J,se);return T(re,se),function(le){for(var he=[],te=0;te<re.length;te++){var De=re[te];(Ce=a[De.id]).refs--,he.push(Ce)}for(le&&T(x(le,se),se),te=0;te<he.length;te++){var Ce;if((Ce=he[te]).refs===0){for(var ct=0;ct<Ce.parts.length;ct++)Ce.parts[ct]();delete a[Ce.id]}}}};var X,z=(X=[],function(J,se){return X[J]=se,X.filter(Boolean).join(`
`)});function P(J,se,re,le){var he=re?"":le.css;if(J.styleSheet)J.styleSheet.cssText=z(se,he);else{var te=document.createTextNode(he),De=J.childNodes;De[se]&&J.removeChild(De[se]),De.length?J.insertBefore(te,De[se]):J.appendChild(te)}}function Be(J,se){var re=se.css,le=se.media;if(le&&J.setAttribute("media",le),J.styleSheet)J.styleSheet.cssText=re;else{for(;J.firstChild;)J.removeChild(J.firstChild);J.appendChild(document.createTextNode(re))}}function Ae(J,se,re){var le=re.css,he=re.sourceMap,te=se.convertToAbsoluteUrls===void 0&&he;(se.convertToAbsoluteUrls||te)&&(le=I(le)),he&&(le+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(he))))+" */");var De=new Blob([le],{type:"text/css"}),Ce=J.href;J.href=URL.createObjectURL(De),Ce&&URL.revokeObjectURL(Ce)}},function(t,e){t.exports=function(n){var r=typeof window<"u"&&window.location;if(!r)throw new Error("fixUrls requires window.location");if(!n||typeof n!="string")return n;var s=r.protocol+"//"+r.host,a=s+r.pathname.replace(/\/[^\/]*$/,"/");return n.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(c,h){var d,g=h.trim().replace(/^"(.*)"$/,function(y,E){return E}).replace(/^'(.*)'$/,function(y,E){return E});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(g)?c:(d=g.indexOf("//")===0?g:g.indexOf("/")===0?s+g:a+g.replace(/^\.\//,""),"url("+JSON.stringify(d)+")")})}},function(t,e){t.exports=n6}])),v_}export{Z as f,i6 as r};
//# sourceMappingURL=firebase-rSKihJ7V.js.map
